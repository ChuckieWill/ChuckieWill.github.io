<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="L247 - 快速搞定前端技术一面 匹配大厂面试要求  一、HTML">
<meta property="og:type" content="article">
<meta property="og:title" content="前端面试基础">
<meta property="og:url" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Chuckie&#39;s Blog">
<meta property="og:description" content="L247 - 快速搞定前端技术一面 匹配大厂面试要求  一、HTML">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115171719902.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115190306708.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115190419073.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115183649826.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115184047089.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210118143515773.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210120183029005.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210120181228476.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210130171502548.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704160320802.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704180836881.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704181931301.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704181011772.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704183139271.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704183822668.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704184101859.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704185111501.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704184856161.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210705182836826.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210705183853820.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210705200537368.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210706221138671.png">
<meta property="og:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210707212401996.png">
<meta property="article:published_time" content="2020-01-02T02:43:17.000Z">
<meta property="article:modified_time" content="2024-09-18T15:06:07.559Z">
<meta property="article:author" content="Chuckie">
<meta property="article:tag" content="Index">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115171719902.png">

<link rel="canonical" href="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>前端面试基础 | Chuckie's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Chuckie's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Chuckie">
      <meta itemprop="description" content="Bright future">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuckie's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          前端面试基础
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-02 10:43:17" itemprop="dateCreated datePublished" datetime="2020-01-02T10:43:17+08:00">2020-01-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-09-18 23:06:07" itemprop="dateModified" datetime="2024-09-18T23:06:07+08:00">2024-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Index/" itemprop="url" rel="index"><span itemprop="name">Index</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>56k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>51 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p> L247 - 快速搞定前端技术一面 匹配大厂面试要求</p>
</blockquote>
<h1 id="一、HTML"><a href="#一、HTML" class="headerlink" title="一、HTML"></a>一、HTML</h1><blockquote>
<p><a href="https://chuckiewill.github.io/categories/html/" target="_blank" rel="noopener">Chuckie’s Blog-HTML</a></p>
</blockquote>
<ul>
<li><p>如何理解HTML语义化?</p>
</li>
<li><p>默认情况下，哪些HTML标签是块级元素、哪些是内联元素?</p>
</li>
</ul>
<h1 id="二、CSS"><a href="#二、CSS" class="headerlink" title="二、CSS"></a>二、CSS</h1><blockquote>
<p><a href="https://chuckiewill.github.io/categories/css/" target="_blank" rel="noopener">Chuckie’s Blog-CSS</a></p>
</blockquote>
<h3 id="2-1布局"><a href="#2-1布局" class="headerlink" title="2.1布局"></a>2.1布局</h3><h4 id="盒子模型的宽度如何计算"><a href="#盒子模型的宽度如何计算" class="headerlink" title="盒子模型的宽度如何计算?"></a>盒子模型的宽度如何计算?</h4><ul>
<li>offsetWidth=(内容宽度＋内边距＋边框)，无外边距</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">	width:100px;// 即内容宽度</span><br><span class="line">	padding:10px;</span><br><span class="line">	border: 1px solid red</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//offsetWidth = 122px</span><br></pre></td></tr></table></figure>



<ul>
<li><p>使offsetWidth === 设置的宽度，内边距和边框不占元素宽高，内容宽度会被压缩</p>
<ul>
<li><code>box-sizing:border-box;</code></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">	width:100px;// 即盒子宽度   此时内容宽度为100-22=78px</span><br><span class="line">	padding:10px;</span><br><span class="line">	border: 1px solid red;</span><br><span class="line">    box-sizing:border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//offsetWidth = 100px</span><br></pre></td></tr></table></figure>

<p>​    </p>
<h4 id="margin-纵向重叠的问题"><a href="#margin-纵向重叠的问题" class="headerlink" title="margin 纵向重叠的问题"></a>margin 纵向重叠的问题</h4><ul>
<li><p>相邻元素的margin-top和margin-bottom 会发生重叠</p>
</li>
<li><p>空白内容的标签也会重叠</p>
</li>
<li><p>相邻元素之间的margin距离以<strong>最大的那个margin</strong>为准</p>
<ul>
<li>若中间有空白内容标签，则比较空白标签margin-top、空白标签margin-bottom、上方元素margin-bottom、下方元素margin-top, 哪个值大则为上方元素与下方元素之间的距离</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>margin 纵向重叠<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">        p &#123;</span><br><span class="line">            font-size: 16px;</span><br><span class="line">            line-height: 1;</span><br><span class="line">            margin: 15px;</span><br><span class="line">            background-color: aqua;</span><br><span class="line">        &#125;</span><br><span class="line">        div&#123;</span><br><span class="line"><span class="css">          <span class="selector-tag">margin-top</span><span class="selector-pseudo">:70px</span>;</span></span><br><span class="line">          margin-bottom: 5px;</span><br><span class="line">          background-color: blue;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>hhhhh<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//1 div会重叠</span><br><span class="line">//2 比较div的margin-bottom(5px)、div的margin-top(70px)、<span class="tag">&lt;<span class="name">p</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">p</span>&gt;</span>的margin-bottom(15px)、<span class="tag">&lt;<span class="name">p</span>&gt;</span>hhhhh<span class="tag">&lt;/<span class="name">p</span>&gt;</span>的margin-top(15px),其中最大的是70px，</span><br><span class="line">//3 所以<span class="tag">&lt;<span class="name">p</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">p</span>&gt;</span>与<span class="tag">&lt;<span class="name">p</span>&gt;</span>hhhhh<span class="tag">&lt;/<span class="name">p</span>&gt;</span>之间的margin距离是70px</span><br></pre></td></tr></table></figure>



<h4 id="margin负值的问题"><a href="#margin负值的问题" class="headerlink" title="margin负值的问题"></a>margin负值的问题</h4><ul>
<li>margin-top 和margin-left负值，元素向上、向左移动，会影响其他元素</li>
<li>margin-right负值，右侧元素左移，自身不受影响</li>
<li>margin-bottom负值，下方元素上移，自身不受影响</li>
</ul>
<h4 id="BFC理解和应用"><a href="#BFC理解和应用" class="headerlink" title="BFC理解和应用"></a>BFC理解和应用</h4><ul>
<li>什么是BFC<ul>
<li>Block format context ，块级格式化上下文</li>
<li>一块独立渲染区域，内部元素的渲染不会影响边界以外的元素</li>
</ul>
</li>
<li>形成 BFC的常见条件<ul>
<li>float 不是none</li>
<li>position是absolute或 fixed</li>
<li>overflow不是visible</li>
<li>display是flex inline-block 等</li>
</ul>
</li>
</ul>
<h4 id="float布局的问题，以及clearfix（手写）"><a href="#float布局的问题，以及clearfix（手写）" class="headerlink" title="float布局的问题，以及clearfix（手写）"></a>float布局的问题，以及clearfix（手写）</h4><ul>
<li>如何实现圣杯布局和双飞翼布局</li>
<li>圣杯布局和双飞翼布局的目的<ul>
<li>三栏布局，中间一栏最先加载和渲染（内容最重要)</li>
<li>两侧内容固定，中间内容随着宽度自适应</li>
<li>—般用于PC网页</li>
</ul>
</li>
<li>clearfix <strong>清除浮动</strong></li>
</ul>
<h4 id="flex画色子"><a href="#flex画色子" class="headerlink" title="flex画色子"></a>flex画色子</h4><ul>
<li>实现一个三点色子</li>
<li>flex主要属性<ul>
<li>align-self（交叉轴子元素）</li>
<li>justify-content（主轴）</li>
<li>align-items（交叉轴）</li>
<li>flex-direction（方向，水平：row）</li>
</ul>
</li>
</ul>
<h3 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h3><h4 id="absolute和relative分别依据什么定位"><a href="#absolute和relative分别依据什么定位" class="headerlink" title="absolute和relative分别依据什么定位?"></a>absolute和relative分别依据什么定位?</h4><ul>
<li>absolute： 依据最近一层的定位元素定位（absolute, fixed,relative,body）</li>
<li>relative： 相对自己</li>
</ul>
<h4 id="居中对齐有哪些实现方式"><a href="#居中对齐有哪些实现方式" class="headerlink" title="居中对齐有哪些实现方式?"></a>居中对齐有哪些实现方式?</h4><ul>
<li><p>水平居中</p>
<ul>
<li>inline元素： <code>text-align: center</code><ul>
<li>inline元素的父元素中设置 <code>text-align: center</code></li>
<li>定义 <code>text-align: center</code>属性的子标签会继承这个属性</li>
</ul>
</li>
<li>block元素：<code>margin:auto</code><ul>
<li>block元素自身设置<code>margin:auto</code></li>
<li>block元素自身设置<code>text-align: center</code>可以使其内部的文字水平居中</li>
</ul>
</li>
<li>absolute元素:left: 50% + margin-left负值<ul>
<li>父元素为定位元素（absolute, fixed,relative,body）</li>
<li>absolute元素自身设置<code>left:50%; margin-left:-absolute元素自身宽的一半</code><ul>
<li><code>left:50%</code>是右移父元素宽的一半，即absolute元素右边移动到父元素的中轴</li>
<li><code>margin-left:-absolute元素自身宽的一半</code>是利用margin负值使自身左移</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>垂直居中</p>
<ul>
<li><p>inline元素:line-height的值等于height值</p>
<ul>
<li>父元素中设置line-height的值等于height值</li>
</ul>
</li>
<li><p>block元素内容</p>
<ul>
<li>设置block元素中的文字垂直居中：设置自身line-height的值等于height值</li>
</ul>
</li>
<li><p>absolute元素: top:50% + margin-top 负值</p>
<ul>
<li>父元素为定位元素（absolute, fixed,relative,body）</li>
<li>absolute元素自身设置<code>top:50%; margin-top:-absolute元素自身高的一半</code><ul>
<li><code>top:50%</code>是右移父元素高的一半，即absolute元素上边移动到父元素的中轴</li>
<li><code>margin-top:-absolute元素自身宽的一半</code>是利用margin负值使自身上移</li>
</ul>
</li>
</ul>
</li>
<li><p>absolute元素: transform(-50%,-50%)</p>
<ul>
<li>次方法兼容性差<ul>
<li>此方法不用计算自身元素的宽高的一半<figure class="highlight"><figcaption><span>position: absolute;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">left: 50%;//右移父元素宽的一半</span><br><span class="line">top: 50%;//下移父元素高的一半 </span><br><span class="line">transform: translate(-50%, -50%)//自身左移上移自身的宽高的一半</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>absolute元素: top, left, bottom,right = 0 + margin: auto</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</span><br><span class="line"><span class="selector-tag">top</span>: 0;</span><br><span class="line"><span class="selector-tag">left</span>: 0;</span><br><span class="line"><span class="selector-tag">bottom</span>: 0;</span><br><span class="line"><span class="selector-tag">right</span>: 0;</span><br><span class="line"><span class="selector-tag">margin</span>: <span class="selector-tag">auto</span>;</span><br></pre></td></tr></table></figure>



<h3 id="图文样式"><a href="#图文样式" class="headerlink" title="图文样式"></a>图文样式</h3><h4 id="line-height的继承问题"><a href="#line-height的继承问题" class="headerlink" title="line-height的继承问题"></a>line-height的继承问题</h4><ul>
<li>写具体数值，如30px，则继承该值</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">25px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">p</span> &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  //p行高25px</span><br><span class="line">  //此时是p继承了 line-height: 25px;</span><br></pre></td></tr></table></figure>



<ul>
<li>写比例，如2、1.5，则继承该比例<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">     <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-tag">p</span> &#123;</span><br><span class="line">     <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> //p行高  16px*2 ,所以行高为32px</span><br><span class="line"> //此时是p继承了 line-height: 2; 然后计算出行高32px</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>​    </p>
<ul>
<li>写百分比，如200%，则继承计算出来的值（考点)</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">     <span class="selector-tag">body</span> &#123;</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">          line-height: 200%;//此时body行高40px</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-tag">p</span> &#123;</span><br><span class="line">          <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      //p行高 20px*200% ,所以行高为40px</span><br><span class="line">      //此时是body先计算出 line-height: 40px, 然后p标签继承了line-height: 40px</span><br><span class="line">//若此时body没有font-size:20px  则p的行高为16px*200%=32px</span><br></pre></td></tr></table></figure>





<h3 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h3><h4 id="rem是什么"><a href="#rem是什么" class="headerlink" title="rem是什么?"></a>rem是什么?</h4><ul>
<li><p>px，绝对长度单位，最常用，1px=2像素</p>
</li>
<li><p>em ，相对长度单位，相对于父元素，不常用</p>
</li>
<li><p>rem ，相对长度单位，相对于根元素，常用于响应式布局</p>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    font-size: 0.16rem;//此时div的字体为0.16*100px=16px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="响应式布局的常见方案"><a href="#响应式布局的常见方案" class="headerlink" title="响应式布局的常见方案?"></a>响应式布局的常见方案?</h4><ul>
<li>使用media媒体查询，再根据不同屏幕尺寸设置html的font-size，再利用rem实现响应式</li>
</ul>
<h4 id="网页视口尺寸"><a href="#网页视口尺寸" class="headerlink" title="网页视口尺寸"></a>网页视口尺寸</h4><ul>
<li><code>window.screen.height</code>//屏幕高度</li>
<li><code>window.innerHeight</code> //网页视口高度  <ul>
<li>屏幕减去页面上下导航的高度</li>
</ul>
</li>
<li><code>document.body.clientHeight</code>// body高度 <ul>
<li>body高度是根据内容变化的，内容越多高度就随之增加</li>
</ul>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115171719902.png" alt="image-20210115171719902"></p>
<h4 id="vh-vw"><a href="#vh-vw" class="headerlink" title="vh/vw"></a>vh/vw</h4><ul>
<li><p>1vh = 网页视口高度的1/100</p>
<ul>
<li>window.innerHeight === 100vh</li>
</ul>
</li>
<li><p>1vw = 网页视口宽度的1/100</p>
<ul>
<li>window.innerWidth === 100vw</li>
</ul>
</li>
<li><p>1vmax = max(1vh, 1vw)  //谁大取谁</p>
</li>
<li><p>1vmin = min(1vh, 1vw)  //谁小取谁</p>
</li>
</ul>
<h1 id="三、javascript"><a href="#三、javascript" class="headerlink" title="三、javascript"></a>三、javascript</h1><h2 id="变量类型和计算"><a href="#变量类型和计算" class="headerlink" title="变量类型和计算"></a>变量类型和计算</h2><blockquote>
<p><a href="https://blog.csdn.net/darabiuz/article/details/121962153?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-121962153-blog-122847268.235^v27^pc_relevant_3mothn_strategy_and_data_recovery&spm=1001.2101.3001.4242.1&utm_relevant_index=3" target="_blank" rel="noopener">symbol</a></p>
</blockquote>
<h4 id="typeof-能判断哪些类型"><a href="#typeof-能判断哪些类型" class="headerlink" title="typeof 能判断哪些类型"></a>typeof 能判断哪些类型</h4><ul>
<li><p>识别所有值类型</p>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115190306708.png" alt="image-20210115190306708"></p>
</li>
<li><p>识别函数</p>
</li>
<li><p>判断是否是引用类型（不可再细分)</p>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115190419073.png" alt="image-20210115190419073"></p>
</li>
</ul>
<h4 id="值类型和引用类型的区别"><a href="#值类型和引用类型的区别" class="headerlink" title="值类型和引用类型的区别"></a>值类型和引用类型的区别</h4><ul>
<li><p>值类型</p>
<ul>
<li>值类型是用栈存储的</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//值类型</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> b = a</span><br><span class="line">a = <span class="number">200</span></span><br><span class="line"><span class="built_in">console</span>.log (b)<span class="comment">//打印结果为 100</span></span><br></pre></td></tr></table></figure>

<p>  <img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115183649826.png" alt="image-20210115183649826"></p>
<ul>
<li><p>引用类型</p>
<ul>
<li>引用类型是同时用堆栈存储的，实际内容存在堆中，栈中只存储了内存地址，所以两个变量实际是指向同一个内存地址的</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用类型</span></span><br><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">age</span>: <span class="number">20</span> &#125;</span><br><span class="line"><span class="keyword">let</span> b = a</span><br><span class="line">b.age = <span class="number">21</span></span><br><span class="line"><span class="built_in">console</span>.log (a.age)<span class="comment">//打印结果为 21</span></span><br></pre></td></tr></table></figure>

<p>  <img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210115184047089.png" alt="image-20210115184047089"></p>
<ul>
<li>常见值类型<ul>
<li><code>let a</code>:  undefined类型</li>
<li>字符串</li>
<li>数字</li>
<li>布尔</li>
<li>es6中的symbol</li>
</ul>
</li>
<li>常见引用类型<ul>
<li>对象</li>
<li>数组</li>
<li><code>const n = null</code> //特殊引用类型，指向空地址</li>
<li>函数  //特殊引用类型  不存储数据</li>
</ul>
</li>
</ul>
<h4 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h4><h5 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">100</span> + <span class="number">10</span><span class="comment">// 110</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="number">100</span> + <span class="string">'10'</span><span class="comment">//'10010'</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="literal">true</span> + <span class="string">'10'</span><span class="comment">//'true10 '</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">100</span> + <span class="literal">true</span><span class="comment">// 101</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">100</span> + <span class="literal">false</span><span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<h5 id="if语句和逻辑运算"><a href="#if语句和逻辑运算" class="headerlink" title="if语句和逻辑运算"></a>if语句和逻辑运算</h5><ul>
<li>truly变量: <code>!!a === true</code>的变量</li>
<li>falsely变量:<code>!!a === false</code>的变量</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以下是falsely变量。除此之外都是truly变量</span></span><br><span class="line">!!<span class="number">0</span> === <span class="literal">false</span></span><br><span class="line">!!<span class="literal">NaN</span> === <span class="literal">false</span></span><br><span class="line">!!<span class="string">''</span> == <span class="literal">false</span></span><br><span class="line">!!<span class="literal">null</span> === <span class="literal">false</span></span><br><span class="line">!!<span class="literal">undefined</span> === <span class="literal">false</span></span><br><span class="line">!!<span class="literal">false</span> === <span class="literal">false</span></span><br></pre></td></tr></table></figure>



<h4 id="何时使用-何时使用"><a href="#何时使用-何时使用" class="headerlink" title="何时使用===何时使用=="></a>何时使用===何时使用==</h4><ul>
<li>==<ul>
<li><code>100 == &#39;100&#39;</code>true</li>
<li><code>0 == &#39;&#39;</code> true</li>
<li><code>0 == false</code> true</li>
<li><code>false == &#39; &#39;</code>  true</li>
<li><code>null == undefined</code>    true</li>
</ul>
</li>
</ul>
<p><strong>结论：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//除了== null 之外，其他都一律用===，例如</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">x</span>: <span class="number">100</span> &#125;</span><br><span class="line"><span class="keyword">if</span> (obj.a == <span class="literal">null</span>) &#123; &#125;</span><br><span class="line"><span class="comment">//相当于:</span></span><br><span class="line"><span class="comment">// if (obj.a === null || obj.a === undefined) &#123;&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="手写深拷贝"><a href="#手写深拷贝" class="headerlink" title="手写深拷贝"></a>手写深拷贝</h4><p><em>函数可以深拷贝吗？？？？</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 深拷贝</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Object&#125;</span> </span>obj 要拷贝的对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//只要不是数组和对象都原值返回</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">'object'</span> || obj == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// obj 是 null ，或者不是对象和数组，直接返回 typeof null === 'object'</span></span><br><span class="line">        <span class="keyword">return</span> obj</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化返回结果</span></span><br><span class="line">    <span class="keyword">let</span> result</span><br><span class="line">    <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</span><br><span class="line">        result = []</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="comment">// 保证 key 不是原型的属性</span></span><br><span class="line">        <span class="comment">//hasOwnProperty返回true则不是原型的属性</span></span><br><span class="line">        <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">            <span class="comment">// 递归调用！！！</span></span><br><span class="line">            result[key] = deepClone(obj[key])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回结果</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="原型和原型链"><a href="#原型和原型链" class="headerlink" title="原型和原型链"></a>原型和原型链</h2><blockquote>
<p><a href="https://chuckiewill.github.io/2020/10/03/Javascript/Javascript(0x07)-JS%E4%B8%AD%E7%9A%84%E5%8E%9F%E5%9E%8B%E9%93%BE/" target="_blank" rel="noopener">Javascript(0x07)-JS中的原型链</a></p>
</blockquote>
<p><strong>如何准确判断一个变量是不是数组 ?</strong></p>
<ul>
<li><code>a instanceof Array</code></li>
</ul>
<p><strong>手写一个简易的jQuery , 考虑插件和扩展性</strong></p>
<ul>
<li>插件即在显示原型上添加属性：<code>a.prototype.x = mmmm</code></li>
<li>扩展性即在继承</li>
</ul>
<p><strong>class的原型本质,怎么理解?</strong></p>
<ul>
<li>原型及原型链的理解</li>
</ul>
<h2 id="作用域和闭包"><a href="#作用域和闭包" class="headerlink" title="作用域和闭包"></a>作用域和闭包</h2><blockquote>
<p>apply，call,bind</p>
<p><a href="https://blog.csdn.net/a15180180753/article/details/103495023" target="_blank" rel="noopener">https://blog.csdn.net/a15180180753/article/details/103495023</a></p>
<p><a href="https://blog.csdn.net/wyyandyou_6/article/details/81488103" target="_blank" rel="noopener">https://blog.csdn.net/wyyandyou_6/article/details/81488103</a></p>
<p><a href="https://www.cnblogs.com/moqiutao/p/7371988.html" target="_blank" rel="noopener">https://www.cnblogs.com/moqiutao/p/7371988.html</a></p>
</blockquote>
<ol>
<li><p>this的不同应用场景，如何取值?</p>
<ul>
<li>当做普通函数被调用</li>
<li>使用call apply bind</li>
<li>作为对象方法调用</li>
<li>在class的方法中调用</li>
<li>箭头函数</li>
</ul>
</li>
<li><p>手写bind函数</p>
</li>
<li><p>实际开发中闭包的应用场景，举例说明</p>
<ul>
<li>事件函数的封装</li>
<li>隐藏数据</li>
<li>用闭包模拟私有方法</li>
<li>dom生成10个标签，点击第几个标签就弹出数字几</li>
</ul>
</li>
</ol>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><ul>
<li><p>全局作用域</p>
<ul>
<li>全局定义</li>
</ul>
</li>
<li><p>函数作用域</p>
<ul>
<li>函数体内定义</li>
</ul>
</li>
<li><p>块级作用域（ES6新增)</p>
<ul>
<li>if、while、for的<code>{ }</code>块中定义</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(x)<span class="comment">//会报错</span></span><br></pre></td></tr></table></figure>

<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210118143515773.png" alt="image-20210118143515773"></p>
<h3 id="自由变量"><a href="#自由变量" class="headerlink" title="自由变量"></a>自由变量</h3><ul>
<li>自由变量定义：一个变量在当前作用域没有定义，但被使用了</li>
<li>向上级作用域，一层一层依次寻找，直至找到为止</li>
<li>如果到全局作用域都没找到，则报错xx is not defined</li>
</ul>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><blockquote>
<p><strong>闭包就是能够读取其他函数内部变量的函数</strong></p>
<p>作用域应用的特殊情况，有两种表现:</p>
<ul>
<li>函数作为参数被传递</li>
<li>函数作为返回值被返回</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数作为返回值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">100</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn = create()</span><br><span class="line"><span class="keyword">const</span> a = <span class="number">200</span></span><br><span class="line">fn() <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数作为参数被传递</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">200</span></span><br><span class="line">    fn()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line">print(fn) <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<p><strong>总结：</strong></p>
<ul>
<li>所有的自由变量的查找，是在函数定义的地方，向上级作用域查找</li>
<li>不是在执行的地方查找！！！</li>
</ul>
<h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><blockquote>
<p><strong>this取什么值是在函数执行的时候确定的，不是在定义时确定的</strong></p>
</blockquote>
<p><strong>情况1：</strong></p>
<ul>
<li><code>.call()</code>函数会改变this指向，并且函数直接执行</li>
<li><code>.bind()</code>函数会改变this指向，并且需要接受返回的函数，然后再执行</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line">fn1()<span class="comment">// window</span></span><br><span class="line"></span><br><span class="line">fn1.call(&#123; <span class="attr">x</span>:<span class="number">100</span>&#125;)<span class="comment">// &#123; x:100 &#125;  此处函数直接执行</span></span><br><span class="line"><span class="keyword">const</span> fn2 = fn1.bind (&#123;<span class="attr">x</span>: <span class="number">200</span> &#125;)  <span class="comment">//bind()函数可以重定义this的指向</span></span><br><span class="line">fn2()<span class="comment">// &#123; x:200 &#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>情况2：定时器</strong></p>
<ul>
<li>定时器的回调函数中的this不再指向对象，而是指向window<ul>
<li>因为定时器的回调函数是挂在浏览器上执行的，所以this指向浏览器即window</li>
<li>函数内的this指向调用该函数的对象</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> zhangsan = &#123;</span><br><span class="line">  name:<span class="string">'张三'</span>,</span><br><span class="line">  sayHi() &#123;</span><br><span class="line">    <span class="comment">// this 即当前对象</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  wait() &#123; </span><br><span class="line">    setTimeout( <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123;</span><br><span class="line">      <span class="comment">// this === window</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">zhangsan.sayHi()</span><br><span class="line">zhangsan.wait()</span><br></pre></td></tr></table></figure>
<p><strong>情况3：箭头函数</strong></p>
<ul>
<li>箭头函数的this取上级作用域的this</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> wangwu = &#123;</span><br><span class="line">  name:<span class="string">'王五'</span>,</span><br><span class="line">  sayHi( ) &#123;</span><br><span class="line">    <span class="comment">// this 即当前对象</span></span><br><span class="line">    <span class="built_in">console</span>. log ( <span class="keyword">this</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  waitAgain() &#123;</span><br><span class="line">    <span class="comment">//箭头函数的this取上级作用的this</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123; </span><br><span class="line">      <span class="comment">//this即当前对象</span></span><br><span class="line">      <span class="built_in">console</span>.log( <span class="keyword">this</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">wangwu.sayHi()</span><br><span class="line">wangwu.waitAgain()</span><br></pre></td></tr></table></figure>

<p><strong>情况4：对象</strong></p>
<ul>
<li>对象中方法this指向对象本身</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">20</span></span><br><span class="line">  &#125;</span><br><span class="line">  sayHi() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log (<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> chuckie = <span class="keyword">new</span> People(<span class="string">'chuckie'</span>)</span><br><span class="line">chuckie.sayHi()<span class="comment">// chuckie对象</span></span><br></pre></td></tr></table></figure>

<h3 id="apply-call-bind方法"><a href="#apply-call-bind方法" class="headerlink" title="apply,call,bind方法"></a>apply,call,bind方法</h3><blockquote>
<p>apply,call,bind方法是函数原型上的方法：Function.prototype.apply,,,,,,</p>
<p><a href="https://blog.csdn.net/wyyandyou_6/article/details/81488103" target="_blank" rel="noopener">JS中call()、apply()、bind()的区别及用法</a></p>
<p><a href="https://www.cnblogs.com/moqiutao/p/7371988.html" target="_blank" rel="noopener">JS中的call、apply、bind方法详解</a></p>
</blockquote>
<ul>
<li><p>bind 是返回对应函数，便于稍后调用；apply 、call 则是立即调用 。</p>
</li>
<li><p>三者的相同点：都是用来改变this的指向</p>
</li>
<li><p>call()和apply()的区别：</p>
<ul>
<li><p>相同点：都是调用一个对象的一个方法，用另一个对象替换当前对象（功能相同）</p>
<ul>
<li>B.call(A, args1,args2);即A对象调用B对象的方法</li>
<li>F.apply(G, arguments);即G对象应用F对象的方法</li>
</ul>
</li>
<li><p>不同点：参数书写方式不同</p>
<ul>
<li><p>call()的第一个参数是this要指向的对象，后面传入的是参数列表，参数可以是任意类型，当第一个参数为null、undefined的时候，默认指向window；bind和call的传参方式是一样的</p>
</li>
<li><p>apply()：第一个参数是this要指向的对象，第二个参数是数组</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="bind-call-apply的使用场景"><a href="#bind-call-apply的使用场景" class="headerlink" title="bind,call,apply的使用场景"></a>bind,call,apply的使用场景</h3><ul>
<li><p>call</p>
<ul>
<li><p>判断数据类型</p>
</li>
<li><p>类数组转数组 (类数组是指具有索引和值的结构，也有length属性的对象，关键是类数组不是数组，是对象，不具有数组的方法)</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// * 判断数据类型</span></span><br><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> type = <span class="built_in">Object</span>.prototype.toString.call(array);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`type`</span>, type)  <span class="comment">//type [object Array]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// * 类数组转数组</span></span><br><span class="line"><span class="keyword">const</span> arrayLike = &#123; </span><br><span class="line">  <span class="number">0</span>: <span class="string">"name"</span>,</span><br><span class="line">  <span class="number">1</span>: <span class="string">"age"</span>,</span><br><span class="line">  <span class="number">2</span>: <span class="string">"gender"</span>,</span><br><span class="line">  length: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> res =  <span class="built_in">Array</span>.prototype.slice.call(arrayLike);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`res`</span>, res) <span class="comment">// res ["name","age","gender"]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>apply<ul>
<li>获取数组最大值<ul>
<li>利用了apply传入的参数是数组，如果不用apply就要用<code>...</code>展开符进行展开再传入</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// apply  对给定数组求最大值/最小值</span></span><br><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="comment">// Math.max(1,2,3,4,5)</span></span><br><span class="line"><span class="comment">// const max = Math.max(...array)</span></span><br><span class="line"><span class="comment">// const min = Math.min(...array)</span></span><br><span class="line"><span class="keyword">const</span> max = <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,array)</span><br><span class="line"><span class="keyword">const</span> min = <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>,array)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`max`</span>, max)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`min`</span>, min)</span><br></pre></td></tr></table></figure>

<ul>
<li>bind<ul>
<li>react类组件事件响应函数的绑定</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);  </span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'freemen'</span></span><br><span class="line">    <span class="keyword">this</span>.handleClick = <span class="keyword">this</span>.handleClick.bind(<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  handleClick()&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`this.name`</span>, <span class="keyword">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">  render()&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;button onClick=&#123;<span class="keyword">this</span>.handleClick&#125;&gt;</span><br><span class="line">        点击</span><br><span class="line">      &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;button onClick=&#123;this.handleClick&#125;&gt; 这一句渲染完成后相当于</span></span><br><span class="line"><span class="regexp">&lt;button onClick=&#123;handleClick()&#123;</span></span><br><span class="line"><span class="regexp">    console.log(`this.name`, this.name)</span></span><br><span class="line"><span class="regexp">  &#125;&#125;&gt;</span></span><br><span class="line"><span class="regexp">而此时浏览器是不知道this指向的</span></span><br><span class="line"><span class="regexp">而通过this.handleClick = this.handleClick.bind(this) 改变this指向，明确了调用handleClick的是组件对象，所以this指向的就是组件对象</span></span><br></pre></td></tr></table></figure>



<h3 id="手写bind"><a href="#手写bind" class="headerlink" title="手写bind"></a>手写bind</h3><blockquote>
<ul>
<li>arguments : Javascript中存在一种名为伪数组的对象结构。还有像调用 getElementsByTagName , document.childNodes 之类的，它们返回NodeList对象都属于伪数组。不能应用 Array下的 push , pop 等方法。</li>
<li>但是我们能通过 Array.prototype.slice.call 转换为真正的数组的带有 length 属性的对象，这样 domNodes 就可以应用 Array 下的所有方法了。</li>
<li>arguments中存储着传给当前函数的所有参数</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 模拟 bind</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.bind1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 将参数拆解为数组</span></span><br><span class="line">    <span class="keyword">const</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取 this（数组第一项）</span></span><br><span class="line">    <span class="keyword">const</span> t = args.shift()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fn1.bind1(...) 中的 fn1</span></span><br><span class="line">    <span class="keyword">const</span> self = <span class="keyword">this</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回一个函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> returnArgs = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>) <span class="comment">// 注意要将bind传入的参数和返回函数传入的参数合并</span></span><br><span class="line">        <span class="keyword">return</span> self.apply(t, args.concat(returnArgs)) <span class="comment">// 执行的这个方法可能有返回值， 所以这里也需要返回</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'this'</span>, <span class="keyword">this</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(a, b, c)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'this is fn1'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn2 = fn1.bind1(&#123;<span class="attr">x</span>: <span class="number">100</span>&#125;, <span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="keyword">const</span> res = fn2(<span class="number">30</span>) <span class="comment">// 注意返回函数也是可以传入参数的</span></span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印结果</span></span><br><span class="line"><span class="keyword">this</span> &#123; <span class="attr">x</span>: <span class="number">100</span> &#125;</span><br><span class="line"><span class="number">10</span> <span class="number">20</span> <span class="number">30</span>   </span><br><span class="line"><span class="keyword">this</span> is fn1</span><br></pre></td></tr></table></figure>

<h3 id="闭包的应用"><a href="#闭包的应用" class="headerlink" title="闭包的应用"></a>闭包的应用</h3><ul>
<li>事件函数的封装</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    body &#123;</span><br><span class="line">      font-size: 12px;</span><br><span class="line">    &#125;</span><br><span class="line">    h1 &#123;</span><br><span class="line"><span class="css">      <span class="selector-tag">font-size</span>: 1<span class="selector-class">.5em</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    h2 &#123;</span><br><span class="line"><span class="css">      <span class="selector-tag">font-size</span>: 1<span class="selector-class">.2em</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是p元素的文案<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是h1元素的文案<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>这是h2元素的文案<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">id</span>=<span class="string">"size12"</span>&gt;</span>12<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">id</span>=<span class="string">"size14"</span>&gt;</span>14<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">id</span>=<span class="string">"size16"</span>&gt;</span>16<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 获取页面元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> size12Btn = <span class="built_in">document</span>.getElementById(<span class="string">'size12'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> size14Btn = <span class="built_in">document</span>.getElementById(<span class="string">'size14'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> size16Btn = <span class="built_in">document</span>.getElementById(<span class="string">'size16'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// makeSizer返回事件响应函数</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> makeSizer = <span class="function"><span class="params">size</span> =&gt;</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.body.style.fontSize = size + <span class="string">'px'</span>;</span></span><br><span class="line">    &#125;;</span><br><span class="line"><span class="actionscript">    <span class="comment">// 页面元素绑定事件</span></span></span><br><span class="line">    size12Btn.onclick = makeSizer(12);</span><br><span class="line">    size14Btn.onclick = makeSizer(14);</span><br><span class="line">    size16Btn.onclick = makeSizer(16);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>隐藏数据，缓存插件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 闭包隐藏数据，只提供 API</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCache</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;&#125; <span class="comment">// 闭包中的数据，被隐藏，不被外界访问</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="keyword">set</span>: function (key, val) &#123;</span><br><span class="line">            data[key] = val</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">get</span>: function (key) &#123;</span><br><span class="line">            <span class="keyword">return</span> data[key]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = createCache()</span><br><span class="line">c.set(<span class="string">'a'</span>, <span class="number">100</span>)</span><br><span class="line"><span class="built_in">console</span>.log( c.get(<span class="string">'a'</span>) )</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印结果</span></span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure>

<ul>
<li>用闭包模拟私有方法</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> makeCounter = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> privateCounter = <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">changeBy</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">    privateCounter += val;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    increment() &#123;</span><br><span class="line">      changeBy(<span class="number">1</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    decrement() &#123;</span><br><span class="line">      changeBy(<span class="number">-1</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    value() &#123;</span><br><span class="line">      <span class="keyword">return</span> privateCounter;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> Counter1 = makeCounter();</span><br><span class="line"><span class="keyword">const</span> Counter2 = makeCounter();</span><br><span class="line"><span class="built_in">console</span>.log(Counter1.value()); <span class="comment">/* logs 0 */</span></span><br><span class="line">Counter1.increment();</span><br><span class="line">Counter1.increment();</span><br><span class="line"><span class="built_in">console</span>.log(Counter1.value()); <span class="comment">/* logs 2 */</span></span><br><span class="line">Counter1.decrement();</span><br><span class="line"><span class="built_in">console</span>.log(Counter1.value()); <span class="comment">/* logs 1 */</span></span><br><span class="line"><span class="built_in">console</span>.log(Counter2.value()); <span class="comment">/* logs 0 */</span></span><br><span class="line">Counter2.increment();</span><br><span class="line">Counter2.increment();</span><br><span class="line"><span class="built_in">console</span>.log(Counter2.value()); <span class="comment">/* logs 2 */</span></span><br><span class="line"><span class="built_in">console</span>.log(Counter1.value()); <span class="comment">/* logs 1 */</span></span><br></pre></td></tr></table></figure>



<ul>
<li>dom生成10个标签，点击第几个标签就弹出数字几</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正确方法</span></span><br><span class="line"><span class="keyword">let</span> a</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>)</span><br><span class="line">    a.innerHTML = i + <span class="string">'&lt;br&gt;'</span></span><br><span class="line">    a.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.preventDefault()</span><br><span class="line">        alert(i)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//错误方法</span></span><br><span class="line"><span class="keyword">let</span> a, i</span><br><span class="line"><span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>)</span><br><span class="line">    a.innerHTML = i + <span class="string">'&lt;br&gt;'</span></span><br><span class="line">    a.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.preventDefault()</span><br><span class="line">        alert(i)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(a) <span class="comment">//此时每次弹出都是10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// 注意var是函数作用域，所以在这里for的块没有形成闭包，需要用()(i)来形成闭包</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>0<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> nodes = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> length = nodes.length;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">      (<span class="function"><span class="keyword">function</span> <span class="params">(i)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        nodes[i].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">          alert(i);</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;)(i);</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h2 id="异步和单线程"><a href="#异步和单线程" class="headerlink" title="异步和单线程"></a>异步和单线程</h2><blockquote>
<p><a href="https://chuckiewill.github.io/2020/08/05/Javascript/Javascript-0x05-异步编程/" target="_blank" rel="noopener">Javascript(0x05)-异步编程</a></p>
<p><a href="https://chuckiewill.github.io/2020/10/02/Javascript/Javascript(0x06)-js异步中的任务队列/" target="_blank" rel="noopener">Javascript(0x06)-js异步中的任务队列</a></p>
</blockquote>
<ul>
<li><p>同步和异步的区别是什么?</p>
</li>
<li><p>手写用Promise加载一张图片</p>
</li>
<li><p>前端使用异步的场景有哪些?</p>
</li>
<li><p>setTimeout问题（js任务队列）</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//setTimeout笔试题</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">setTimeout ( <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">setTimeout( <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印结果</span></span><br><span class="line"><span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure>

<ul>
<li>手写用Promise加载一张图片</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImg</span>(<span class="params">src</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(</span><br><span class="line">        (resolve, reject) =&gt; &#123;</span><br><span class="line">            <span class="keyword">const</span> img = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>)</span><br><span class="line">            img.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                resolve(img)</span><br><span class="line">            &#125;</span><br><span class="line">            img.onerror = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`图片加载失败 <span class="subst">$&#123;src&#125;</span>`</span>)</span><br><span class="line">                reject(err)</span><br><span class="line">            &#125;</span><br><span class="line">            img.src = src</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url1 = <span class="string">'https://img.mukewang.com/5a9fc8070001a82402060220-140-140.jpg'</span></span><br><span class="line"><span class="keyword">const</span> url2 = <span class="string">'https://img3.mukewang.com/5a9fc8070001a82402060220-100-100.jpg'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//递归回调写法</span></span><br><span class="line">loadImg(url1).then(<span class="function"><span class="params">img1</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(img1.height, img1.width)</span><br><span class="line">  loadImg(url2).then(<span class="function"><span class="params">img2</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img2.height, img2.width)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//promise写法</span></span><br><span class="line">loadImg(url1).then(<span class="function"><span class="params">img1</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img1.width)</span><br><span class="line">    <span class="keyword">return</span> img1 <span class="comment">// 普通对象</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">img1</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img1.height)</span><br><span class="line">    <span class="keyword">return</span> loadImg(url2) <span class="comment">// promise 实例</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">img2</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img2.width)</span><br><span class="line">    <span class="keyword">return</span> img2</span><br><span class="line">&#125;).then(<span class="function"><span class="params">img2</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img2.height)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">ex</span> =&gt;</span> <span class="built_in">console</span>.error(ex))</span><br><span class="line"></span><br><span class="line"><span class="comment">// async await 写法</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> img1 = <span class="keyword">await</span> loadImg(url1)</span><br><span class="line">  <span class="built_in">console</span>.log(img1.width,img1.height)</span><br><span class="line">  <span class="keyword">let</span> img2 = <span class="keyword">await</span> loadImg(url2)</span><br><span class="line">  <span class="built_in">console</span>.log(img2.width,img2.height)</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure>

<ul>
<li><p>请描述event loop (事件循环/事件轮询）的机制，可画图</p>
<ul>
<li>自行回顾event loop的过程</li>
<li>和DOM渲染的关系</li>
<li>微任务和宏任务在event loop过程中的不同处理</li>
</ul>
</li>
<li><p>什么是宏任务和微任务，两者有什么区别?</p>
</li>
<li><p>Promise有哪三种状态?如何变化?</p>
<ul>
<li>pending 状态，不会触发then和catch</li>
<li>resolved状态，会触发后续的then回调函数，不会触发catch</li>
<li>rejected状态，会触发后续的catch回调函数，不会触发then</li>
</ul>
</li>
<li><p>场景题- promise then和catch的连接</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// 第一题</span></span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 第二题</span></span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// 返回 rejected 状态的 promise</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'erro1'</span>)</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// 返回 resolved 状态的 promise</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 第三题</span></span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// 返回 rejected 状态的 promise</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'erro1'</span>)</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// 返回 resolved 状态的 promise</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1 3</span></span><br><span class="line"><span class="comment">//1 2 3 </span></span><br><span class="line"><span class="comment">//1 2</span></span><br></pre></td></tr></table></figure>



<ul>
<li>场景题- async/await语法</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"> </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line">( <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"> </span>) </span>&#123;</span><br><span class="line"><span class="keyword">const</span> a = fn() <span class="comment">// ??   </span></span><br><span class="line"><span class="keyword">const</span> b = <span class="keyword">await</span> fn()<span class="comment">// ??</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">a 为一个<span class="built_in">Promise</span>对象</span><br><span class="line">b 为 <span class="number">100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">!( <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">'start '</span> )</span><br><span class="line">    <span class="keyword">const</span> a = <span class="keyword">await</span> <span class="number">100</span></span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">'a'</span>, a)</span><br><span class="line">    <span class="keyword">const</span> b = <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve(<span class="number">200</span>)</span><br><span class="line">    <span class="built_in">console</span>.log ( <span class="string">'b'</span>, b)</span><br><span class="line">    <span class="keyword">const</span> c = <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="number">300</span>) <span class="comment">//此处报错  后续不再执行</span></span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">'c'</span>, c)</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">'end '</span> )</span><br><span class="line">&#125;)()<span class="comment">//执行完毕，打印出那些内容?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印结果</span></span><br><span class="line">start</span><br><span class="line">a100</span><br><span class="line">b200</span><br></pre></td></tr></table></figure>



<ul>
<li>场景题- promise和setTimeout的顺序</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log ( <span class="number">100</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log ( <span class="number">200</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.resolve( ).then(() =→&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="number">300</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log (<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印结果</span></span><br><span class="line"><span class="number">100</span></span><br><span class="line"><span class="number">400</span></span><br><span class="line"><span class="number">300</span></span><br><span class="line"><span class="number">200</span></span><br></pre></td></tr></table></figure>



<ul>
<li>场景题–外加async/await的顺序问题</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span> (<span class="params"> </span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log ( <span class="string">'async1 start '</span>)  <span class="comment">//2</span></span><br><span class="line">    <span class="keyword">await</span> async2()                 <span class="comment">//注意  此处先执行async2  然后将后面的代码加入微任务队列</span></span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">'async1 end '</span> ) <span class="comment">//6</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>. log( <span class="string">'async2 '</span>) <span class="comment">//3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>. log( <span class="string">'script start '</span> )   <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">setTimeout( <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log ( <span class="string">'setTimeout '</span> )  <span class="comment">//8</span></span><br><span class="line">&#125;，<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">async1()</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意  初始化promise时,传入的函数会立刻被执行</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span> ( <span class="function"><span class="keyword">function</span> (<span class="params"> resolve</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log ( <span class="string">'promise1'</span> )  <span class="comment">//4</span></span><br><span class="line">    resolve()</span><br><span class="line">&#125;).then (<span class="function"><span class="keyword">function</span> (<span class="params"> </span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">' promise2'</span> )  <span class="comment">//7</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">'script end '</span> )  <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>



<ul>
<li><p>async/await和Promise的关系</p>
<ul>
<li>执行async函数，返回的是 Promise对象</li>
<li>await相当于Promise 的then</li>
<li>try…catch可捕获异常，代替了Promise的catch</li>
</ul>
</li>
<li><p>宏任务有哪些?微任务有哪些?微任务触发时机更早</p>
</li>
<li><p>微任务、宏任务和DOM渲染的关系</p>
</li>
<li><p>微任务、宏任务和DOM渲染，在event loop 的过程</p>
</li>
</ul>
<h3 id="并行、并发、单线程"><a href="#并行、并发、单线程" class="headerlink" title="并行、并发、单线程"></a>并行、并发、单线程</h3><ul>
<li>并行是指同时执行，只有多线程的语言才支持</li>
<li>并发本质是充分利用cpu资源（多个任务交替使用cpu），并没有正真同时执行</li>
<li>JavaScript、Python都是单线程语言，只能实现并发，不能实现并行</li>
<li>Python的多线性是通过伪线程实现的</li>
<li>JavaScript 并发<ul>
<li>宏任务，微任务机制实现并发，EventLoop</li>
<li>本质是CPU足够快，当请求资源时（查询数据库、网络请求等）,此时CPU就空出来了，而这时CPU会切换到其他任务，只要切换的足够快，就实现了并发。</li>
</ul>
</li>
<li>Node.js 优势是只能异步编程，不支持同步编程，异步编程就大大提升了资源的利用率</li>
<li>浏览器和nodejs 已支持JS启动进程，即并发，如Web Worker</li>
<li>JS和DOM渲染共用同一个线程，因为JS可修改DOM结构</li>
</ul>
<h3 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h3><ul>
<li><p>异步是基于js单线程的    </p>
</li>
<li><p>异步不会阻塞代码执行, 定时器函数</p>
</li>
<li><p>同步会阻塞代码执行，例如<code>alert()</code></p>
</li>
</ul>
<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ul>
<li>网络请求，如ajax图片加载</li>
<li>定时任务，如setTimeout</li>
<li>查询数据库</li>
<li>读写文件</li>
<li>DOM事件</li>
</ul>
<h3 id="event-loop"><a href="#event-loop" class="headerlink" title="event loop"></a>event loop</h3><blockquote>
<p>event loop(事件循环/事件轮询/任务队列)</p>
<p><a href="https://chuckiewill.github.io/2020/10/02/Javascript/Javascript(0x06)-js异步中的任务队列/" target="_blank" rel="noopener">Javascript(0x06)-js异步中的任务队列</a></p>
</blockquote>
<ul>
<li>JS是单线程运行的</li>
<li>异步要基于回调来实现</li>
<li>event loop就是异步回调的实现原理</li>
<li>异步和DOM事件都是使用回调，基于event loop</li>
</ul>
<h3 id="宏任务和微任务"><a href="#宏任务和微任务" class="headerlink" title="宏任务和微任务"></a>宏任务和微任务</h3><blockquote>
<p>宏任务macroTask和微任务microTask</p>
</blockquote>
<ul>
<li><p>宏任务: setTimeout , setInterval , Ajax，DOM事件 ；    宏任务是由浏览器规定的</p>
</li>
<li><p>微任务: Promise async/await；      微任务是ES6语法规定的</p>
</li>
<li><p>微任务执行时机比宏任务要早</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">200</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">300</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">400</span>)</span><br><span class="line"><span class="comment">// 100 400 300 200</span></span><br></pre></td></tr></table></figure>



<p><strong>微任务和宏任务的区别</strong></p>
<ul>
<li>宏任务: DOM渲染后触发,如setTimeout<ul>
<li>ES 语法没有，JS 引擎不处理，浏览器（或 nodejs）干预处理, </li>
<li>即交给Web APIs处理，然后回调函数加入Callback Queue</li>
</ul>
</li>
<li>微任务: DOM渲染前触发,如Promise <ul>
<li>ES 语法标准之内，JS 引擎来统一处理。</li>
<li>即微任务<strong>不交给Web APIs处理， 直接加入micro task queue</strong>,  Call Stack 清空后直接在micro task queue中提取微任务的回调函数执行</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改 DOM</span></span><br><span class="line"><span class="keyword">const</span> $p1 = $(<span class="string">'&lt;p&gt;一段文字&lt;/p&gt;'</span>)</span><br><span class="line"><span class="keyword">const</span> $p2 = $(<span class="string">'&lt;p&gt;一段文字&lt;/p&gt;'</span>)</span><br><span class="line"><span class="keyword">const</span> $p3 = $(<span class="string">'&lt;p&gt;一段文字&lt;/p&gt;'</span>)</span><br><span class="line">$(<span class="string">'#container'</span>)</span><br><span class="line">    .append($p1)</span><br><span class="line">    .append($p2)</span><br><span class="line">    .append($p3)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 微任务：渲染之前执行（DOM 结构已更新）</span></span><br><span class="line"> <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">const</span> length = $(<span class="string">'#container'</span>).children().length</span><br><span class="line">     alert(<span class="string">`micro task <span class="subst">$&#123;length&#125;</span>`</span>)<span class="comment">// 此时DOM还没有渲染</span></span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 宏任务：渲染之后执行（DOM 结构已更新）</span></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> length = $(<span class="string">'#container'</span>).children().length</span><br><span class="line">    alert(<span class="string">`macro task <span class="subst">$&#123;length&#125;</span>`</span>)<span class="comment">// 此时DOM已经渲染</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>执行流程：</strong></p>
<ol>
<li>代码在Call  Stack中执行，遇到同步代码则直接执行，遇到遇到微任务则加入micro task queue ,遇到宏任务则交给我Web APIs 处理，Web APIs处理完成后将回调函数加入宏任务队列（Callback Queue）</li>
<li>代码都执行完，Call Stack空闲后，从micro task queue 提取微任务的回调函数执行</li>
<li>Call Stack再次空闲，且micro task queue也为空后，开始DOM渲染</li>
<li>DOM渲染完后，触发Event Loop ,从宏任务队列提取回调函数执行</li>
</ol>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210120183029005.png" alt="image-20210120183029005"></p>
<h3 id="event-loop和DOM渲染"><a href="#event-loop和DOM渲染" class="headerlink" title="event loop和DOM渲染"></a>event loop和DOM渲染</h3><ul>
<li><p>每次Call Stack清空(即每次轮询结束) , 即同步任务执行完</p>
</li>
<li><p>都是DOM重新渲染的机会, DOM结构如有改变则重新渲染</p>
</li>
<li><p>然后再去触发下一-次 Event Loop</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> $p1 = $(<span class="string">'&lt;p&gt;一段文字&lt;/p&gt;'</span>)</span><br><span class="line"><span class="keyword">const</span> $p2 = $(<span class="string">'&lt;p&gt;一段文字&lt;/p&gt;'</span>)</span><br><span class="line"><span class="keyword">const</span> $p3 = $(<span class="string">'&lt;p&gt;一段文字&lt;/p&gt;'</span>)</span><br><span class="line">$(<span class="string">'#container'</span>)</span><br><span class="line">            .append($p1)</span><br><span class="line">            .append($p2)</span><br><span class="line">            .append($p3)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line"> <span class="keyword">const</span> length = $(<span class="string">'#container'</span>).children().length</span><br><span class="line"> alert(<span class="string">`micro task <span class="subst">$&#123;length&#125;</span>`</span>)<span class="comment">// 此时DOM还没有渲染</span></span><br><span class="line"> alert(<span class="string">'本次 call stack 结束，DOM 结构已更新，但尚未触发渲染'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// （alert 会阻断 js 执行，也会阻断 DOM 渲染，便于查看效果）</span></span><br><span class="line"><span class="comment">// 到此，即本次 call stack 结束后（同步任务都执行完了），浏览器会自动触发渲染，不用代码干预</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 另外，按照 event loop 触发 DOM 渲染时机，setTimeout 时 alert ，就能看到 DOM 渲染后的结果了</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'setTimeout 是在下一次 Call Stack ，就能看到 DOM 渲染出来的结果了'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210120181228476.png" alt="image-20210120181228476"></p>
<h1 id="JS-Web-API"><a href="#JS-Web-API" class="headerlink" title="JS  Web API"></a>JS  Web API</h1><blockquote>
<p><a href="https://www.cnblogs.com/tangjianqiang/p/13661361.html" target="_blank" rel="noopener">window和document的区别</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/464921428" target="_blank" rel="noopener">Dom和Bom的区别</a></p>
</blockquote>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><ul>
<li>DOM是哪种数据结构<ul>
<li>树结构（DOM树）</li>
</ul>
</li>
<li>DOM操作的常用API</li>
<li>attribute和property的区别</li>
<li>一次性插入多个DOM节点，考虑性能</li>
</ul>
<h3 id="property-和attribute区别"><a href="#property-和attribute区别" class="headerlink" title="property 和attribute区别"></a>property 和attribute区别</h3><ul>
<li>property :修改对象属性，不会体现到 html结构中(修改的是model层的数据) ； 推荐</li>
<li>attribute :修改html属性，会改变html结构（修改的view层的数据）</li>
<li>两者都有可能引起DOM重新渲染</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// property 形式</span></span><br><span class="line">p1.style.width = <span class="string">'100px'</span></span><br><span class="line"><span class="built_in">console</span>.log( p1.style.width )</span><br><span class="line">p1.className = <span class="string">'red'</span></span><br><span class="line"><span class="built_in">console</span>.log( p1.className )</span><br><span class="line"><span class="built_in">console</span>.log(p1.nodeName)</span><br><span class="line"><span class="built_in">console</span>.log(p1.nodeType) <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// attribute 形式</span></span><br><span class="line">p1.setAttribute(<span class="string">'data-name'</span>, <span class="string">'micro'</span>)</span><br><span class="line"><span class="built_in">console</span>.log( p1.getAttribute(<span class="string">'data-name'</span>) )</span><br><span class="line">p1.setAttribute(<span class="string">'style'</span>, <span class="string">'font-size: 50px;'</span>)</span><br><span class="line"><span class="built_in">console</span>.log( p1.getAttribute(<span class="string">'style'</span>) )</span><br></pre></td></tr></table></figure>



<h3 id="操作DOM节点"><a href="#操作DOM节点" class="headerlink" title="操作DOM节点"></a>操作DOM节点</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以ID名获取元素</span></span><br><span class="line"><span class="keyword">const</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>) </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'div1'</span>, div1)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以元素的标签名获取元素  获取的结果为集合</span></span><br><span class="line"><span class="keyword">const</span> divList = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>) </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'divList.length'</span>, divList.length)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'divList[1]'</span>, divList[<span class="number">1</span>]) <span class="comment">//以索引获取集合中需要的元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以元素的class名获取元素  获取的结果为集合</span></span><br><span class="line"><span class="keyword">const</span> containerList = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'container'</span>) <span class="comment">// 集合</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'containerList.length'</span>, containerList.length)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'containerList[1]'</span>, containerList[<span class="number">1</span>]) <span class="comment">//以索引获取集合中需要的元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以查询的方式获取元素，查询值为元素的标签名  获取的结果为集合</span></span><br><span class="line"><span class="keyword">const</span> pList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'pList'</span>, pList)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>)</span><br><span class="line"><span class="keyword">const</span> p1 = pList[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<h3 id="操作DOM结构"><a href="#操作DOM结构" class="headerlink" title="操作DOM结构"></a>操作DOM结构</h3><blockquote>
<p> <a href="https://www.w3school.com.cn/jsref/prop_node_nodetype.asp" target="_blank" rel="noopener">HTML DOM nodeType 属性</a></p>
<p>nodeType ===1 表示 元素为标签</p>
<p> nodeType ===3 表示 元素为text类型，即为标签的文本内容</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>)</span><br><span class="line"><span class="keyword">const</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">'div2'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新建节点</span></span><br><span class="line"><span class="keyword">const</span> newP = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>)</span><br><span class="line">newP.innerHTML = <span class="string">'this is newP'</span> <span class="comment">//填写元素内容</span></span><br><span class="line"><span class="comment">// 插入节点</span></span><br><span class="line">div1.appendChild(newP)<span class="comment">//将新节点加入到父节点(div1)中</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 移动节点</span></span><br><span class="line"><span class="comment">// p1节点原本是在div1中的， 以下操作会将p1移动到div2中</span></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">'p1'</span>)</span><br><span class="line">div2.appendChild(p1)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取父元素</span></span><br><span class="line"><span class="comment">// 获取p1元素的父节点</span></span><br><span class="line"><span class="built_in">console</span>.log( p1.parentNode )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取子元素列表</span></span><br><span class="line"><span class="comment">// 获取div1节点的所有子节点</span></span><br><span class="line"><span class="keyword">const</span> div1ChildNodes = div1.childNodes</span><br><span class="line"><span class="built_in">console</span>.log( div1.childNodes )</span><br><span class="line"><span class="keyword">const</span> div1ChildNodesP = <span class="built_in">Array</span>.prototype.slice.call(div1.childNodes).filter(<span class="function"><span class="params">child</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (child.nodeType === <span class="number">1</span>) &#123; <span class="comment">//nodeType ===1 表示 元素为标签</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>            </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'div1ChildNodesP'</span>, div1ChildNodesP)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除子节点</span></span><br><span class="line"><span class="comment">// 删除div1下的子节点</span></span><br><span class="line">div1.removeChild( div1ChildNodesP[<span class="number">0</span>] )</span><br></pre></td></tr></table></figure>

<h3 id="DOM性能"><a href="#DOM性能" class="headerlink" title="DOM性能"></a>DOM性能</h3><blockquote>
<ul>
<li>频繁更新DOM会耗费很多资源，所以尽量减少刷新的次数，可以将更新的整理好后一次性更新</li>
</ul>
</blockquote>
<p><strong>将频繁操作改成一次性操作</strong></p>
<ul>
<li>利用<code>document.createDocumentFragment()</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个文档片段，此时还没有插入到 DOM 结构中</span></span><br><span class="line"><span class="keyword">const</span> frag = <span class="built_in">document</span>.createDocumentFragment()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i  = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>)</span><br><span class="line">    li.innerHTML = <span class="string">`List item <span class="subst">$&#123;i&#125;</span>`</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 先插入文档片段中</span></span><br><span class="line">    frag.appendChild(li)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 都完成之后，再统一插入到 DOM 结构中</span></span><br><span class="line">list.appendChild(frag)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(list)</span><br></pre></td></tr></table></figure>

<p><strong>DOM查询做缓存</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//DOM查询做缓存</span></span><br><span class="line"><span class="comment">//不缓存 DOM查询结果</span></span><br><span class="line"><span class="comment">//此时每次循环都会判断i &lt; document.getElementsByTagName('p' )，每次判断都会查询一次长度</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span> ).length; i++)&#123;</span><br><span class="line">  <span class="comment">//每次循环，都会计算 length ,频繁进行DOM查询</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//缓存DOM查询结果</span></span><br><span class="line"><span class="keyword">const</span> pList = <span class="built_in">document</span>.getElementsByTagName( <span class="string">'p'</span>)</span><br><span class="line"><span class="keyword">const</span> length = pList.length</span><br><span class="line"><span class="keyword">for</span> ( <span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">  <span class="comment">//缓存length ,只进行一次DOM查询</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="PS-测试代码"><a href="#PS-测试代码" class="headerlink" title="PS: 测试代码"></a>PS: 测试代码</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>dom 演示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.red</span> &#123;</span></span><br><span class="line">                color: red;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>一段文字 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://img3.mukewang.com/5a9fc8070001a82402060220-100-100.jpg"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dom-3.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p><strong>navigator</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// navigator</span></span><br><span class="line"><span class="keyword">const</span> ua = navigator.userAgent</span><br><span class="line"><span class="keyword">const</span> isChrome = ua.index0f ( <span class="string">'Chrome'</span>)</span><br><span class="line"><span class="built_in">console</span>.log ( isChrome)</span><br></pre></td></tr></table></figure>

<p><strong>history</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// history</span></span><br><span class="line">history.back()<span class="comment">//后退</span></span><br><span class="line">history.forward()<span class="comment">//前进</span></span><br></pre></td></tr></table></figure>



<p><strong>screen</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// screen</span></span><br><span class="line"><span class="built_in">console</span>.log(screen.width)</span><br><span class="line"><span class="built_in">console</span>.log ( screen.height)</span><br></pre></td></tr></table></figure>



<p><strong>location</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//location</span></span><br><span class="line"><span class="built_in">console</span>.log(location.href )<span class="comment">//    查看url</span></span><br><span class="line"><span class="built_in">console</span>.log(location.protocol)<span class="comment">// 查看协议：'http: ' 或'https : '</span></span><br><span class="line"><span class="built_in">console</span>.log(location.pathname)<span class="comment">// 查看路由路径 ' /learn/199 '</span></span><br><span class="line"><span class="built_in">console</span>.log( location.search)<span class="comment">//  查看参数</span></span><br><span class="line"><span class="built_in">console</span>.log ( location.hash)<span class="comment">//</span></span><br></pre></td></tr></table></figure>



<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><ul>
<li>编写一个通用的事件监听函数</li>
<li>描述事件冒泡的流程</li>
<li>无限下拉的图片列表，如何监听每个图片的点击?  事件代理</li>
</ul>
<h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><blockquote>
<ul>
<li>阻止事件默认行为：<code>event.preventDefault()</code> ;  例如点击a标签时会阻止跳转</li>
</ul>
</blockquote>
<p><strong>通用的事件绑定函数–简版</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通用的事件绑定函数--简版</span></span><br><span class="line"><span class="comment">// elem:需要绑定事件的元素， type:事件类型 ， fn:回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem, type, fn</span>) </span>&#123;</span><br><span class="line">    elem.addEventListener(type, fn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通绑定</span></span><br><span class="line"><span class="keyword">const</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">'btn1'</span>)</span><br><span class="line">bindEvent(btn1, <span class="string">'click'</span>, event =&gt; &#123;</span><br><span class="line">    <span class="comment">// console.log(event.target) // 获取触发的元素</span></span><br><span class="line">    event.preventDefault() <span class="comment">// 阻止默认行为  例如点击a标签时会阻止跳转</span></span><br><span class="line">    alert(event.target.innerHTML)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>通用的事件绑定函数–可选择事件代理</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//html结构</span></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"maopao"</span>&gt;</span><br><span class="line">  &lt;h1&gt;事件代理&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div id="div3"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;a href="#"&gt;a1&lt;/</span>a&gt;<span class="xml"><span class="tag">&lt;<span class="name">br</span>&gt;</span>//需求：点击每个a标签都弹出标签内容</span></span><br><span class="line">      &lt;a href="#"&gt;a2&lt;/a&gt;&lt;br&gt;//如果给每个a标签绑定相同的事件就太冗余了</span><br><span class="line">      &lt;a href="#"&gt;a3&lt;/a&gt;&lt;br&gt;//在父元素中处理事件</span><br><span class="line">      &lt;a href="#"&gt;a4&lt;/a&gt;&lt;br&gt;//注意：在父元素上绑定事件时需要判断是不是为a标签，以免父元素本身和其它子元素触发事件</span><br><span class="line">      &lt;button id="but1"&gt;加载更多...&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通用的事件绑定函数--可选择事件代理</span></span><br><span class="line"><span class="comment">// elem:需要绑定事件的元素， type:事件类型 ,selector:事件代理的元素, fn:回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem, type, selector, fn</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//当传入3个参数，即不传入代理事件元素</span></span><br><span class="line">    <span class="keyword">if</span> (fn == <span class="literal">null</span>) &#123;</span><br><span class="line">        fn = selector</span><br><span class="line">        selector = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    elem.addEventListener(type, event =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> target = event.target</span><br><span class="line">        <span class="keyword">if</span> (selector) &#123;</span><br><span class="line">            <span class="comment">// 代理绑定</span></span><br><span class="line">            <span class="comment">//matches是dom元素对象的方法</span></span><br><span class="line">            <span class="keyword">if</span> (target.matches(selector)) &#123;<span class="comment">//判断元素是否为代理事件的元素</span></span><br><span class="line">                <span class="comment">// fn.call(target,event)</span></span><br><span class="line">                fn(event)<span class="comment">//执行回调函数</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 普通绑定</span></span><br><span class="line">            fn(event)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 代理绑定</span></span><br><span class="line"><span class="keyword">const</span> div3 = <span class="built_in">document</span>.getElementById(<span class="string">'div3'</span>)</span><br><span class="line">bindEvent(div3, <span class="string">'click'</span>, <span class="string">'a'</span>, event =&gt; &#123; <span class="comment">//a标签即为事件代理的元素</span></span><br><span class="line">    event.preventDefault()</span><br><span class="line">    alert(event.target.innerHTML)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> but1 = <span class="built_in">document</span>.getElementById(<span class="string">'but1'</span>)</span><br><span class="line">bindEvent(but1, <span class="string">'click'</span>, event =&gt; &#123; <span class="comment">//没有事件代理即可不传该参数</span></span><br><span class="line">    event.preventDefault()</span><br><span class="line">    alert(event.target.innerHTML)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h3><blockquote>
<ul>
<li>事件向上冒泡时，回调函数event.target始终为<strong>实际点击的元素</strong></li>
<li>阻止冒泡: <code>event.stopPropagation()</code></li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//html结构</span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"maopao"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h1</span>&gt;</span>冒泡测试<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>激活<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p2"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p3"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p4"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p5"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p6"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./event.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通用的事件绑定函数--简版</span></span><br><span class="line"><span class="comment">// elem:需要绑定事件的元素， type:事件类型 ， fn:回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem, type, fn</span>) </span>&#123;</span><br><span class="line">    elem.addEventListener(type, fn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">'p1'</span>)</span><br><span class="line">bindEvent(p1, <span class="string">'click'</span>, event =&gt; &#123;</span><br><span class="line">    event.stopPropagation() <span class="comment">// 阻止冒泡</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'激活'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'冒泡-click p1'</span>,event.target) <span class="comment">//打印p1</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> body = <span class="built_in">document</span>.body</span><br><span class="line">bindEvent(body, <span class="string">'click'</span>, event =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'取消'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'冒泡-click body'</span>,event.target)<span class="comment">//打印实际点击的元素</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">'div2'</span>)</span><br><span class="line">bindEvent(div2, <span class="string">'click'</span>, event =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'取消'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'冒泡-click div2'</span>,event.target)<span class="comment">////打印实际点击的元素</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="事件代理"><a href="#事件代理" class="headerlink" title="事件代理"></a>事件代理</h3><blockquote>
<ul>
<li><p>事件代理是指将子元素的事件绑定到父元素上处理</p>
</li>
<li><p>应用场景：无限下拉的图片，点击每个图片的事件处理效果相同，此时如果给每一个元素绑定相同的事件处理函数就太浪费资源了，而且代码也太冗余了，利用事件代理就可以在其父元素上统一监听，绑定一次即可</p>
</li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//html结构</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"maopao"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>事件代理<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div3"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>//需求：点击每个a标签都弹出标签内容</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>//如果给每个a标签绑定相同的事件就太冗余了</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>//在父元素中处理事件</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a4<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>//注意：在父元素上绑定事件时需要判断是不是为a标签，以免父元素本身和其它子元素触发事件</span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span>&gt;</span>加载更多...<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通用的事件绑定函数--简版</span></span><br><span class="line"><span class="comment">//elem:需要绑定事件的元素， type:事件类型 ， fn:回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem, type, fn</span>) </span>&#123;</span><br><span class="line">    elem.addEventListener(type, fn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//代理绑定</span></span><br><span class="line"><span class="keyword">const</span> div3 = <span class="built_in">document</span>.getElementById(<span class="string">'div3'</span>)</span><br><span class="line">bindEvent(div3, <span class="string">'click'</span>, event =&gt; &#123;</span><br><span class="line">  event.preventDefault() <span class="comment">//点击a标签时会阻止跳转</span></span><br><span class="line">  event.stopPropagation() <span class="comment">//阻止冒泡</span></span><br><span class="line">  <span class="keyword">const</span> target = event.target</span><br><span class="line">  <span class="keyword">if</span> (target.nodeName === <span class="string">'A'</span>)&#123; <span class="comment">//只有点击的元素为a标签时才处理，避免父元素本身和其它子元素触发事件</span></span><br><span class="line">    alert(target.innerHTML)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h2><blockquote>
<p>jQuery:<a href="https://blog.csdn.net/xianhenyuan/article/details/92669817" target="_blank" rel="noopener">https://blog.csdn.net/xianhenyuan/article/details/92669817</a></p>
<p>Fetch: <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch</a></p>
<p>axios: <a href="http://www.axios-js.com/zh-cn/" target="_blank" rel="noopener">http://www.axios-js.com/zh-cn/</a></p>
</blockquote>
<ul>
<li>手写一个简易的ajax</li>
<li>跨域的常用实现方式</li>
</ul>
<h3 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h3><blockquote>
<p>XMLHttpRequest是浏览器的API，所以在使用时需要结合html文件，在浏览器中打开，否则会报错（直接在node.js环境中使用就会报错）</p>
</blockquote>
<p><strong>GET</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1 实例化</span></span><br><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line"><span class="comment">//2 发送请求</span></span><br><span class="line"><span class="comment">// 参数：请求方法；资源地址；是否异步：true为异步，false为同步</span></span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'/data/test.json'</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">//3 回调函数</span></span><br><span class="line"><span class="comment">//  readyState变化时会触发这个回调函数</span></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// console.log(</span></span><br><span class="line">            <span class="comment">//     JSON.parse(xhr.responseText)</span></span><br><span class="line">            <span class="comment">// )</span></span><br><span class="line">            alert(xhr.responseText)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (xhr.status === <span class="number">404</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'404 not found'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4 发送数据：因为这里是get请求，所以发送的数据是null，若是post请求则直接将</span></span><br><span class="line">xhr.send(<span class="literal">null</span>)</span><br></pre></td></tr></table></figure>

<p><strong>POST</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1 实例化</span></span><br><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line"><span class="comment">//2 发送请求</span></span><br><span class="line"><span class="comment">// 参数：请求方法；资源地址；是否异步：true为异步，false为同步</span></span><br><span class="line">xhr.open(<span class="string">'POST'</span>, <span class="string">'/data/test.json'</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">//3 回调函数</span></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// console.log(</span></span><br><span class="line">            <span class="comment">//     JSON.parse(xhr.responseText)</span></span><br><span class="line">            <span class="comment">// )</span></span><br><span class="line">            alert(xhr.responseText)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (xhr.status === <span class="number">404</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'404 not found'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4 发送数据：因为这里是get请求，所以发送的数据是null，若是post请求则直接将</span></span><br><span class="line">cosnt list = &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"chuckie"</span></span><br><span class="line">&#125;</span><br><span class="line">xhr.send(<span class="built_in">JSON</span>.stringify(list))</span><br></pre></td></tr></table></figure>

<p><strong>promise写法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">        xhr.open(<span class="string">'GET'</span>, url, <span class="literal">true</span>)</span><br><span class="line">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">                    resolve(</span><br><span class="line">                        <span class="built_in">JSON</span>.parse(xhr.responseText)</span><br><span class="line">                    )</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (xhr.status === <span class="number">404</span> || xhr.status === <span class="number">500</span>) &#123;</span><br><span class="line">                    reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'404 not found'</span>))</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        xhr.send(<span class="literal">null</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url = <span class="string">'/data/test.json'</span></span><br><span class="line">ajax(url)</span><br><span class="line">.then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line">.catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.error(err))</span><br></pre></td></tr></table></figure>



<h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><p><strong><code>xhr.readyState</code></strong></p>
<ul>
<li>0-(未初始化)还没有调用send()方法</li>
<li>1-(载入）已调用send()方法，正在发送请求</li>
<li>2-(载入完成) send()方法执行完成，已经接收到全部响应内容</li>
<li>3-(交互）正在解析响应内容</li>
<li>4-(完成）响应内容解析完成，可以在客户端调用</li>
</ul>
<p><strong><code>xhr.status</code></strong></p>
<ul>
<li>2xx-表示成功处理请求，如200</li>
<li>3xx–需要重定向，浏览器直接跳转，如301 302 304</li>
<li>4xx-客户端请求错误，如404 403</li>
<li>5xx -服务器端错误</li>
</ul>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><blockquote>
<p><a href="https://chuckiewill.github.io/2020/09/03/HTTP/HTTP(0x03)-跨域问题/" target="_blank" rel="noopener">HTTP(0x03)-跨域问题</a></p>
</blockquote>
<p>同源策略，</p>
<p>跨域解决方案</p>
<p>JSONP</p>
<p>CORS</p>
<h2 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h2><p>描述cookie localStorage sessionStorage区别</p>
<ul>
<li>容量</li>
<li>API易用性</li>
<li>是否跟随http请求发送出去</li>
</ul>
<p><strong>cookie</strong></p>
<ul>
<li>cookie可以实现存储的原因是，在页面刷新时，cookie的值不会清零，但是cookie本身不是用来存储的</li>
<li>cookie的缺点<ul>
<li>存储有限，最大4KB</li>
<li>每次http请求时都需要将cookie发送到服务端，增加了请求数据量</li>
<li>只能用<code>document.cookie</code> = ‘..’来修改，该接口太过简陋，使用不方便</li>
</ul>
</li>
</ul>
<p><strong>localStorage和sessionStorage</strong></p>
<ul>
<li><p>HTML5专门为存储而设计，最大可存5M</p>
</li>
<li><p>API简单易用setItem getItem</p>
<ul>
<li>以键值对的形式存储</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">localstorage.setItem( <span class="string">'a'</span>, <span class="number">100</span>)</span><br><span class="line">localstorage.getItem( <span class="string">'a'</span>) <span class="comment">//"100"     //注意返回结果都为字符串，会有强制类型转换</span></span><br><span class="line">sessionStorage.setItem( <span class="string">'b'</span>, <span class="string">'200'</span>)</span><br><span class="line">sessionStorage.getItem( <span class="string">'b'</span>)<span class="comment">//"200"</span></span><br></pre></td></tr></table></figure>



<ul>
<li>不会随着http请求被发送出去</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210130171502548.png" alt="image-20210130171502548"></p>
<ul>
<li>localStorage和sessionStorage区别<ul>
<li>localStorage 数据会永久存储，除非代码或手动删除 ，（多用此方法）</li>
<li>sessionStorage数据只存在于当前会话，浏览器关闭则清空</li>
</ul>
</li>
</ul>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><blockquote>
<p><a href="https://chuckiewill.github.io/categories/HTTP/" target="_blank" rel="noopener">Chuckie’s Blog-HTTP</a></p>
</blockquote>
<ul>
<li>http常见的状态码有哪些?</li>
<li>http常见的header有哪些?</li>
<li>什么是 Restful API</li>
<li>描述一下http的缓存机制（重要)</li>
</ul>
<h3 id="http-code"><a href="#http-code" class="headerlink" title="http code"></a>http code</h3><ul>
<li><p>状态码分类</p>
<ul>
<li>1xx服务器收到请求</li>
<li>2xx请求成功，如200</li>
<li>3xx重定向，如302（该服务端已不工作，请求其他地址）</li>
<li>4xx客户端错误，如404（请求的地址错误）</li>
<li>5xx服务端错误，如500（服务端代码错误）</li>
</ul>
</li>
<li><p>常见状态码</p>
<ul>
<li>200 OK - [GET]:服务器成功返回用户请求的数据</li>
<li>201 CREATED -[POST/PUT/PATCH]:用户新建或修改数据成功</li>
<li>204 NO CONTENT - [DELETE]:用户删除数据成功。</li>
<li>301永久重定向（配合location ，重定向的地址存储在location中，浏览器自动处理，下次请求直接请求重定向的地址)</li>
<li>302临时重定向（配合location，浏览器自动处理，下次请求还是请求原地址，返回302后再去请求新地址，<em>百度搜索案例</em>)</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704160320802.png" alt="image-20210704160320802"></p>
<ul>
<li>304资源未被修改（刚才已经请求过了，且内容没有变化，服务端不会再次发送内容，客户端使用之前的内容即可）</li>
<li>401 Unauthorized - [*]:表示用户没有权限（令牌、用户名、密码错误)。</li>
<li>403 Forbidden - [*]表示用户得到授权(与401错误相对)，但是访问是被禁止的。</li>
<li>404资源未找到（请求地址错误）</li>
<li>500服务器错误（代码错误）</li>
<li>504网关超时（数据库操作超时，服务端多个服务器之间交互超时）</li>
</ul>
</li>
</ul>
<h3 id="http-methods"><a href="#http-methods" class="headerlink" title="http methods"></a>http methods</h3><ul>
<li><p>传统methods</p>
<ul>
<li>get获取服务器的数据</li>
<li>post向服务器提交数据</li>
</ul>
</li>
<li><p>现状methods</p>
<ul>
<li>get 获取数据</li>
<li>post  新建数据</li>
<li>patch 更新数据</li>
<li>put    更新数据</li>
<li>delete  删除数据</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;案例</span><br><span class="line">GET &#x2F;teams:列出所有球队</span><br><span class="line">POST &#x2F;teams:新建一个球队</span><br><span class="line">GET &#x2F;teams&#x2F;ID:获取某个球队的信息</span><br><span class="line">PUT &#x2F;teams&#x2F;ID:更新某个球队的信息（更新球队的全部信息)</span><br><span class="line">PATCH &#x2F;teams&#x2F;ID:更新某个球队的信息（更新球队的部分信息)</span><br></pre></td></tr></table></figure>



<h4 id="Restful-API"><a href="#Restful-API" class="headerlink" title="Restful API"></a>Restful API</h4><blockquote>
<p> —种新的API设计方法（早已推广使用)</p>
</blockquote>
<ul>
<li><p>传统API与Restful API的区别</p>
<ul>
<li>传统API设计:把每个url当做一个功能</li>
<li>Restful API设计:把每个url当做一个唯一的资源的id(url是资源的唯一标识)</li>
</ul>
</li>
<li><p>Restful API设计的特点</p>
<ul>
<li><p>不使用url参数</p>
<ul>
<li>传统API 设计:<code>/api/list?pageIndex=2</code></li>
<li>Restful API设计:<code>/api/list/2</code></li>
</ul>
</li>
<li><p>用method表示操作类型</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//传统API 设计</span></span><br><span class="line">      post请求/api/create-blog         <span class="comment">//创建博客</span></span><br><span class="line">      post请求/api/update-blog?id=<span class="number">100</span>  <span class="comment">//更新第100页博客</span></span><br><span class="line">      <span class="keyword">get</span>请求/api/<span class="keyword">get</span>-blog?id=100      //获取第100页博客</span><br></pre></td></tr></table></figure>


<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Restful API设计</span></span><br><span class="line">      post请求/api/blog         <span class="comment">//创建博客</span></span><br><span class="line">      patch请求/api/blog/<span class="number">100</span>    <span class="comment">//更新第100页博客</span></span><br><span class="line">      <span class="keyword">get</span>请求/api/blog/100      //获取第100页博客</span><br></pre></td></tr></table></figure>


<h3 id="http-headers"><a href="#http-headers" class="headerlink" title="http headers"></a>http headers</h3><ul>
<li>常见的Request Headers（客户端传给服务端的头信息）<ul>
<li>Accept浏览器可接收的数据格式</li>
<li>Accept-Encoding浏览器可接收的压缩算法，如gzip</li>
<li>Accept-Languange浏览器可接收的语言，如zh-CN</li>
<li>Connection: keep-alive  长链接：一次TCP连接重复使用</li>
<li>cookie</li>
<li>Host  请求地址的域名</li>
<li>User-Agent (简称UA)浏览器信息</li>
<li>Content-type发送数据的格式，如application/json</li>
</ul>
</li>
<li>常见的Response Headers（服务端返回客户端的头信息）<ul>
<li>Content-type返回数据的格式，如application/json</li>
<li>Content-length返回数据的大小，多少字节</li>
<li>Content-Encoding返回数据的压缩算法，如gzip</li>
<li>Set-cookie</li>
</ul>
</li>
</ul>
<h3 id="http-缓存"><a href="#http-缓存" class="headerlink" title="http 缓存"></a>http 缓存</h3><ul>
<li>什么是缓存?（对不需要重复获取的资源存储在本地）</li>
<li>为什么需要缓存?（提升响应速度，减少资源浪费）</li>
<li>哪些资源可以被缓存?—静态资源（ js css img )</li>
</ul>
<h4 id="强制缓存"><a href="#强制缓存" class="headerlink" title="强制缓存"></a>强制缓存</h4><blockquote>
<p>Expires已经被Cache-Control代替</p>
<p><a href="https://blog.csdn.net/m0_63657524/article/details/125966386" target="_blank" rel="noopener">强制缓存解释</a></p>
<p>强制缓存就是设定可以缓存的时间（max-age），只要不超过这个时间，每次请求都会从缓存中读取，不会发送请求</p>
<p>使用场景：例如百度的图标，短期不会变化，大概率不会存在缓存时间内数据会被修改的可能，即使修改问题也不大，则可以用强制缓存的方式</p>
</blockquote>
<ul>
<li><p>Cache-Control</p>
<ul>
<li>Response Headers中</li>
<li>控制强制缓存的逻辑</li>
<li>例如Cache-Control: max-age=3153600（单位是秒)  控制可缓存的最大时长</li>
<li>Cache-Control的值<ul>
<li>max-age （控制可缓存的最大时长）</li>
<li>no-store  （不允许强制缓存也不允许协商缓存）</li>
<li>no-cache  （只是不允许强制缓存）</li>
<li>public   （终端用户的设备可缓存，路由过程中也可缓存）</li>
<li>private  （只允许终端用户的设备可缓存）</li>
</ul>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704180836881.png" alt="image-20210704180836881"></p>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704181931301.png" alt="image-20210704181931301"></p>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704181011772.png" alt="image-20210704181011772"></p>
<h4 id="协商缓存"><a href="#协商缓存" class="headerlink" title="协商缓存"></a>协商缓存</h4><blockquote>
<p>协商缓存是一种服务器端缓存策略</p>
<ul>
<li>服务器判断客户端资源是否和服务端资源一样，若一致则返回304（资源未被修改），否则返回200和最新的资源</li>
<li>判断资源是否一致的方式是对比资源标识是否发生变化</li>
</ul>
</blockquote>
<ul>
<li><p>资源标识</p>
<blockquote>
<p> 在Response Headers中,有两种</p>
<ul>
<li>Last-Modified资源的最后修改时间</li>
<li>Etag资源的唯一标识(一个字符串,是通过内容计算出来的，只要内容没变，字符串就不变)</li>
</ul>
</blockquote>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704183139271.png" alt="image-20210704183139271"></p>
<ul>
<li>Last-Modified的情况<ul>
<li>If-Modified-Since的值就是Last-Modified的值</li>
</ul>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704183822668.png" alt="image-20210704183822668"></p>
<ul>
<li>Etag的情况<ul>
<li>If-None-Match的值就是Etag的值</li>
</ul>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704184101859.png" alt="image-20210704184101859"></p>
<ul>
<li>Last-Modified和Etag<ul>
<li>会优先使用Etag</li>
<li>Last-Modified只能精确到秒级，存在一秒内多次修改的情况，这种情况Last-Modified就不能记录了</li>
<li>如果资源被重复生成,而内容不变（内容是周期性更新的，但更新可能并没有真的需要修改的内容）,则Etag更精确，因为Etag是根据内容生成的字符串</li>
<li>Last-Modified和Etag可以同时使用</li>
</ul>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704185111501.png" alt="image-20210704185111501"></p>
<h4 id="缓存流程图"><a href="#缓存流程图" class="headerlink" title="缓存流程图"></a>缓存流程图</h4><p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210704184856161.png" alt="image-20210704184856161"></p>
<h4 id="三种刷新操作"><a href="#三种刷新操作" class="headerlink" title="三种刷新操作"></a>三种刷新操作</h4><ul>
<li>正常操作:地址栏输入url , 跳转链接,前进后退等</li>
<li>手动刷新: F5 ,点击刷新按钮;右击菜单刷新</li>
<li>强制刷新: ctrl + F5</li>
<li>正常操作:强制缓存有效,协商缓存有效</li>
<li>手动刷新:强制缓存失效,协商缓存有效</li>
<li>强制刷新:强制缓存失效,协商缓存失效</li>
</ul>
<h1 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h1><h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><blockquote>
<p><a href="https://chuckiewill.github.io/categories/tools/git/" target="_blank" rel="noopener">Chuckie’Blog-Git</a></p>
</blockquote>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><ul>
<li><p>git add .</p>
</li>
<li><p>git checkout xxx        恢复到修改前的状态（撤销修改）</p>
<ul>
<li>git checkout 文件名    恢复这个文件的修改</li>
<li>git checkout .       恢复所有文件的修改</li>
<li><em>已经git add 的文件则不能再撤销修改，只要是还没有加入缓存区的都可以修改</em></li>
<li><em>只能撤销修改的文件，不能撤销新建的文件</em></li>
</ul>
</li>
<li><p>git commit -m “xxx”</p>
</li>
<li><p>git push origin master  提交到远程服务器</p>
</li>
<li><p>git push orgin 新分支名   在远程新建分支并将本地此分支提交到远程（此操作包括在远程新建分支和提交分支）</p>
</li>
<li><p>git pull origin master</p>
</li>
<li><p>git branch   查看分支</p>
</li>
<li><p>git checkout -b xxx  新建分支并切换到该分支上</p>
</li>
<li><p>git checkout xxx   切换分支</p>
</li>
<li><p>git merge xxx     合并分支</p>
</li>
<li><p>git diff  查看文件修改的具体内容</p>
<ul>
<li>git diff  文件名   查看单个文件的修改内容</li>
<li>git diff  不加文件名  查看所有的文件修改内容</li>
<li><em>git add 之后再执行git diff 就无效了，只有在未加入缓存区之前，才能查看修改的内容</em></li>
</ul>
</li>
<li><p>git show + 版本号     查看这个版本修改的具体内容</p>
<ul>
<li>先通过 git log 找到版本号</li>
</ul>
</li>
<li><p>git log   查看提交的版本，</p>
<ul>
<li>此时是对已经git add 和git commit 后的版本查看，</li>
<li>若没有git commit 则无效，本质是对git commit 的版本进行查看</li>
</ul>
</li>
<li><p>git fetch  访问远程仓库，从中拉取所有本地还没有的数据</p>
</li>
<li><p>git stash   将修改的部分移除并暂存在其他地方（误操作时使用）</p>
<ul>
<li>git stash pop  推出暂存的部分</li>
</ul>
</li>
<li><p>git status  查看当前状态（可以查看修改了哪些文件，新增加了哪些文件，此时还没提交版本）</p>
<ul>
<li>文件修改，或文件添加后已经保持，但还没有git add ,此时文件标红</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210705182836826.png" alt="image-20210705182836826"></p>
<ul>
<li>git add 后，此时文件标绿</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210705183853820.png" alt="image-20210705183853820"></p>
<ul>
<li>git commit 后，此时就看不到修改的文件和添加的文件了，只会显示已提交x个版本</li>
</ul>
</li>
</ul>
<h3 id="多人开发"><a href="#多人开发" class="headerlink" title="多人开发"></a>多人开发</h3><ol>
<li><p>leader创建项目，此时项目为master分支</p>
</li>
<li><p>开发者1 需要开发登陆功能</p>
<ul>
<li><p>拉取master分支的代码到本地：<code>git clone</code></p>
</li>
<li><p>新建分支并切换到该分支进行开发：<code>git checkout -b login</code>  //login为新分支名</p>
</li>
<li><p>修改或添加文件，完成开发</p>
</li>
<li><p>将开发完成的代码提交到远程服务器：<code>git push origin login</code>//在远程新建login分支并将本地该分支提交到远程</p>
</li>
</ul>
</li>
<li><p>开发者2 需要开发注册功能</p>
<ul>
<li><p>拉取master分支的代码到本地：<code>git clone</code></p>
</li>
<li><p>新建分支并切换到该分支进行开发：<code>git checkout -b register</code>  //login为新分支名</p>
</li>
<li><p>修改或添加文件，完成开发</p>
</li>
<li><p>将开发完成的代码提交到远程服务器：<code>git push origin register</code>//在远程新建register分支并将本地该分支提交到远程</p>
</li>
</ul>
</li>
<li><p>leader合并开发者1和2的代码</p>
<ul>
<li><p>leader在master分支上，拉取最新内容<code>git fetch</code></p>
</li>
<li><p>切到需要合并的分支上</p>
<ul>
<li><code>git branch</code>不会显示开发者新建的分支名，可以在远程查看分支名</li>
</ul>
</li>
<li><p>然后直接执行<code>git checkout 分支名</code>就直接切换到分支上了，而且本地分支和远程分支是一一对应的</p>
</li>
</ul>
</li>
</ol>
<ul>
<li><p>切到分支后，拉取最新代码：<code>git pull orgin 分支名</code>    //此操作是确保每个分支是最新内容</p>
</li>
<li><p>合并分支（终端切在master分支上）: <code>git merge login</code> //将login分支内容合并到master分支上</p>
</li>
<li><p>将合并后的代码推到远程服务器： <code>git push</code></p>
</li>
<li><p>按以上步骤合并下一个分支，直到产生冲突</p>
<p>   <img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210705200537368.png" alt="image-20210705200537368"></p>
<ul>
<li>找到冲突文件的位置，选择保留方式，并修改冲突位置</li>
</ul>
</li>
</ul>
<pre><code>![image-20210705200700948](前端面试基础/image-20210705200700948.png) 
* 因为处理冲突后修改了文件内容，所以需要`git add  git commit`
* 提交到远程服务器： `git push`</code></pre><h3 id="误操作"><a href="#误操作" class="headerlink" title="误操作"></a>误操作</h3><blockquote>
<p>拉取master分支后，本来是要新建分支再开发，但是忘记新建分支就直接在master分支上开发了</p>
<ul>
<li>以下操作是在没有加入暂存区之前执行才有效</li>
<li>执行完以下操作后，master恢复到没有开发前的状态</li>
</ul>
</blockquote>
<ol>
<li>将已经在master上开发的部分移除并暂存到其他地方：<code>git stash</code></li>
<li>新建分支并切到相应分支上：<code>git checkout -b 新分支</code></li>
<li>将暂存的部分推出到新的分支上：<code>git stash pop</code></li>
<li>将修改的部分暂存到暂存区并提交本版再推到远程：<code>gti add、 git commit、 git push origin 新分支</code></li>
</ol>
<h2 id="webpack-babel"><a href="#webpack-babel" class="headerlink" title="webpack babel"></a>webpack babel</h2><blockquote>
<p><a href="https://chuckiewill.github.io/categories/third-repositories/webpack/" target="_blank" rel="noopener">Chuckie’Blog-webpack</a></p>
<p>ES6模块化，浏览器暂不支持<br>ES6语法，浏览器并不完全支持<br>压缩代码，整合代码，以让网页加载更快</p>
</blockquote>
<h3 id="webpack打包流程"><a href="#webpack打包流程" class="headerlink" title="webpack打包流程"></a>webpack打包流程</h3><ul>
<li><p>安装node.js</p>
</li>
<li><p>项目根目录下初始化：<code>npm init -y</code></p>
<ul>
<li>初始化后根文件夹下会生成文件<code>package.json</code></li>
</ul>
</li>
<li><p>安装webpack: <code>npm install --save-dev webpack webpack-cli</code></p>
<ul>
<li>使用 webpack 4+ 版本，还需要安装 CLI</li>
</ul>
</li>
<li><p>根目录下新建资源文件夹（src）即入口文件(index.js)</p>
<ul>
<li><code>src/index.js</code></li>
</ul>
</li>
<li><p>根目录下新建配置文件<code>webpack.config.js</code>,并配置入口和出口</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//development是开发模式，production是生产模式（上线模式）</span></span><br><span class="line">  mode: <span class="string">'development'</span>,<span class="comment">//production</span></span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象，这里只有一个入口，写字符串即可</span></span><br><span class="line">  entry:<span class="string">'./src/main.js'</span>,</span><br><span class="line">  <span class="comment">//出口: path:打包文件保存路径  filename:打包的文件名</span></span><br><span class="line">  output:&#123;</span><br><span class="line">      path: path.resolve(__dirname,<span class="string">'dist'</span>),</span><br><span class="line">      filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>package.json中定义打包启动</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//package.json</span></span><br><span class="line">  "scripts": &#123;</span><br><span class="line">    "build": "webpack"</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>打包</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br><span class="line"><span class="comment">//打包后的文件存储在./dist/bundle.js中</span></span><br></pre></td></tr></table></figure>

<h3 id="打包index-html"><a href="#打包index-html" class="headerlink" title="打包index.html"></a>打包index.html</h3><ul>
<li><p>目前的index.html文件是存放在项目的根目录下的。</p>
<ul>
<li>在真实发布项目时，发布的是dist文件夹中的内容，但是dist文件夹中如果没有index.html文件，那么打包的js等文件也就不能起效果</li>
<li>所以，需要将index.html文件打包到dist文件夹中，这个时候就可以使用<code>HtmlWebpackPlugin</code>插件</li>
</ul>
</li>
<li><p><code>HtmlWebpackPlugin</code>插件的功能：</p>
<ul>
<li>自动生成一个index.html文件(可以指定模板来生成)</li>
<li>将打包的js文件，自动通过script标签插入到body中</li>
</ul>
</li>
<li><p>安装<code>HtmlWebpackPlugin</code>插件</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>

<ul>
<li><p>使用插件，修改webpack.config.js文件中plugins部分</p>
<ul>
<li>这里的template表示根据什么模板来生成index.html</li>
<li>fielname是在dist文件夹中生成的文件名</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: <span class="string">'./src/index.html'</span>,</span><br><span class="line">      filename: <span class="string">'index.html'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="搭建本地服务"><a href="#搭建本地服务" class="headerlink" title="搭建本地服务"></a>搭建本地服务</h3><ul>
<li><p>webpack提供了一个可选的本地开发服务器，这个本地服务器基于node.js搭建，内部使用express框架，可以实现浏览器自动刷新显示我们修改后的结果。</p>
</li>
<li><p>安装</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-dev-server@版本号</span><br></pre></td></tr></table></figure>

<ul>
<li><p>webpack.config.js中配置<code>devServer</code></p>
<ul>
<li>contentBase：为哪一个文件夹提供本地服务，默认是根文件夹，一般指定./dist</li>
<li>port：端口号</li>
<li>inline：页面实时刷新</li>
<li>historyApiFallback：在SPA页面中，依赖HTML5的history模式</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devServer: &#123;</span><br><span class="line">      contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">      inline: <span class="literal">true</span>,</span><br><span class="line">      port:<span class="number">3000</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>package.js中配置<code>scripts</code></p>
<ul>
<li><p>该配置是设置启动本地服务器的命令</p>
</li>
<li><p><code>--open</code>: 表示直接打开浏览器</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">   <span class="string">"dev"</span>: <span class="string">"webpack-dev-server --open"</span></span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>启动本地服务器</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">终端：npm run dev</span><br></pre></td></tr></table></figure>

<h3 id="webpack配置分离"><a href="#webpack配置分离" class="headerlink" title="webpack配置分离"></a>webpack配置分离</h3><blockquote>
<p><a href="https://chuckiewill.github.io/categories/third-repositories/webpack/" target="_blank" rel="noopener">webpack配置分离详细教程:Chuckie’Blog-webpack</a></p>
<p>开发模式转生成模式的简易操作流程</p>
</blockquote>
<ol>
<li>新建webpack.prod.js,将webpack.config.js的内容复制到该文件并做如下修改</li>
</ol>
<ul>
<li>去掉devServer的配置（因为上线的产品不需要本地服务）</li>
<li>output和mode做如下修改</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">'production'</span>,<span class="comment">//改为生产模式</span></span><br><span class="line">  output:&#123;</span><br><span class="line">      path: path.resolve(__dirname,<span class="string">'dist'</span>),</span><br><span class="line">      filename: <span class="string">'bundle.[contenthash].js'</span><span class="comment">//增加哈希值，以提高性能</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>package.json修改</li>
</ol>
<ul>
<li>重定向打包的配置文件</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">   "build": "webpack  --config webpack.prod.js",</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>





<h3 id="ES6转ES5（待完成）"><a href="#ES6转ES5（待完成）" class="headerlink" title="ES6转ES5（待完成）"></a>ES6转ES5（待完成）</h3><h3 id="模块化-导入导出"><a href="#模块化-导入导出" class="headerlink" title="模块化 导入导出"></a>模块化 导入导出</h3><h4 id="ES6-export-import"><a href="#ES6-export-import" class="headerlink" title="ES6 export import"></a>ES6 export import</h4><blockquote>
<p>使用前提：  script  type类型为module</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&#39;..&#x2F;text.js&#39; type&#x3D;&#39;module&#39;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>导出：export: 逐一导出</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> myName = <span class="string">"Tom"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> myAge = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> myfn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"My name is"</span> + myName + <span class="string">"! I'm '"</span> + myAge + <span class="string">"years old."</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> myClass =  <span class="class"><span class="keyword">class</span> <span class="title">myClass</span> </span>&#123;</span><br><span class="line">            <span class="keyword">static</span> a = <span class="string">"yeah!"</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>导出：export: 统一导出，等同于逐一导出</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myName = <span class="string">"Tom"</span>;</span><br><span class="line"><span class="keyword">let</span> myAge = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">let</span> myfn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"My name is"</span> + myName + <span class="string">"! I'm '"</span> + myAge + <span class="string">"years old."</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> myClass =  <span class="class"><span class="keyword">class</span> <span class="title">myClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> a = <span class="string">"yeah!"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; myName, myAge, myfn, myClass &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>导出：export: export default <ul>
<li>在一个文件或模块中，export、import 可以有多个，export default 仅有一个。</li>
<li>export default 中的 default 是对应的导出接口变量。</li>
<li>通过 export 方式导出，在导入时要加{ }，export default 则不需要。</li>
<li>export default 向外暴露的成员，可以使用任意变量来接收。</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"My name is Tom!"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> a; <span class="comment">// 仅有一个</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> b <span class="keyword">from</span> <span class="string">"./xxx.js"</span>; <span class="comment">// 不需要加&#123;&#125;， 使用任意变量接收</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导出</span></span><br><span class="line"><span class="keyword">let</span> myName = <span class="string">"Tom"</span>;</span><br><span class="line"><span class="keyword">let</span> myAge = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">let</span> myfn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"My name is"</span> + myName + <span class="string">"! I'm '"</span> + myAge + <span class="string">"years old."</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> myClass =  <span class="class"><span class="keyword">class</span> <span class="title">myClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> a = <span class="string">"yeah!"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123; myName, myAge, myfn, myClass &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//导入</span></span><br><span class="line"><span class="keyword">import</span> xxx <span class="keyword">from</span> <span class="string">'./xxx.js'</span></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">xxx.myName</span><br><span class="line">xxx.myAge</span><br><span class="line">xxx.myfn()</span><br><span class="line">xxx.myClass</span><br></pre></td></tr></table></figure>



<ul>
<li>导入：import: 导入时  路径一定是相对路径</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1 逐个导入</span><br><span class="line">import &#123; myName, myAge, myfn, myClass &#125; from &quot;.&#x2F;test.js&quot;;</span><br><span class="line">console.log(myfn());&#x2F;&#x2F; My name is Tom! I&#39;m 20 years old.</span><br><span class="line">console.log(myAge);&#x2F;&#x2F; 20</span><br><span class="line">console.log(myName);&#x2F;&#x2F; Tom</span><br><span class="line">console.log(myClass.a );&#x2F;&#x2F; yeah!</span><br><span class="line"></span><br><span class="line">2 统一导入</span><br><span class="line">import * as aaa from &quot;.&#x2F;test.js&quot;</span><br><span class="line">console.log(aaa.myAge);&#x2F;&#x2F; 20</span><br></pre></td></tr></table></figure>

<ul>
<li>导入：import: as用法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*-----export [test.js]-----*&#x2F;</span><br><span class="line">let myName &#x3D; &quot;Tom&quot;;</span><br><span class="line">export &#123; myName as exportName &#125;</span><br><span class="line"> </span><br><span class="line">&#x2F;*-----import [xxx.js]-----*&#x2F;</span><br><span class="line">import &#123; exportName &#125; from &quot;.&#x2F;test.js&quot;;</span><br><span class="line">console.log(exportName);&#x2F;&#x2F; Tom</span><br><span class="line">使用 as 重新定义导出的接口名称，隐藏模块内部的变量</span><br><span class="line">&#x2F;*-----export [test1.js]-----*&#x2F;</span><br><span class="line">let myName &#x3D; &quot;Tom&quot;;</span><br><span class="line">export &#123; myName &#125;</span><br><span class="line">&#x2F;*-----export [test2.js]-----*&#x2F;</span><br><span class="line">let myName &#x3D; &quot;Jerry&quot;;</span><br><span class="line">export &#123; myName &#125;</span><br><span class="line">&#x2F;*-----import [xxx.js]-----*&#x2F;</span><br><span class="line">import &#123; myName as name1 &#125; from &quot;.&#x2F;test1.js&quot;;</span><br><span class="line">import &#123; myName as name2 &#125; from &quot;.&#x2F;test2.js&quot;;</span><br><span class="line">console.log(name1);&#x2F;&#x2F; Tom</span><br><span class="line">console.log(name2);&#x2F;&#x2F; Jerry</span><br></pre></td></tr></table></figure>

<h4 id="对比commonJS模块"><a href="#对比commonJS模块" class="headerlink" title="对比commonJS模块"></a>对比commonJS模块</h4><ul>
<li><p>使用前提：需要node.js环境解析  所以 使用前要先安装node.js</p>
</li>
<li><p>导出</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;变量名，函数名，对象名&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>导入</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let &#123;变量名，函数名，对象名&#125;  &#x3D; require(&#39;..&#x2F;aaa.js&#39;)</span><br></pre></td></tr></table></figure>

<ul>
<li>别名</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导出  </span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    别名:原名</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    db:sequelize</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入 </span></span><br><span class="line"><span class="keyword">const</span> &#123;原名 : 别名&#125; = <span class="built_in">require</span>(<span class="string">'../../core/db'</span>)</span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">sequelize</span> : db&#125; = <span class="built_in">require</span>(<span class="string">'../../core/db'</span>)</span><br></pre></td></tr></table></figure>



<h2 id="linux常用命令"><a href="#linux常用命令" class="headerlink" title="linux常用命令"></a>linux常用命令</h2><ul>
<li><p>本地登陆linux账户：<code>ssh  主机名@地址</code></p>
</li>
<li><p>查看文件</p>
<ul>
<li>平铺：<code>ls</code></li>
<li>列表形式：<code>ll</code></li>
<li>查看所有文件（包括隐藏文件）：<code>ls -a</code></li>
</ul>
</li>
<li><p>清屏：<code>clear</code></p>
</li>
<li><p>创建文件夹：<code>mkdir ...</code></p>
</li>
<li><p>删除文件夹：<code>rm -rf ...</code></p>
<ul>
<li><p><code>-r</code>:   递归删除</p>
</li>
<li><p><code>-f</code>：强制删除</p>
</li>
</ul>
</li>
<li><p>删除文件： <code>rm 文件名</code></p>
</li>
<li><p>切换文件夹：<code>cd 文件夹名/</code>   后退：<code>cd ../</code></p>
</li>
<li><p>修改文件名： <code>mv 原文件名  新文件名</code></p>
</li>
<li><p>移动文件：<code>mv 文件名   新路径（相对路径）/文件名</code></p>
</li>
<li><p>拷贝：<code>cp 被拷贝文件名  拷贝文件名</code></p>
</li>
<li><p>新建文件</p>
<ul>
<li><code>touch 文件名</code>  //只新建</li>
<li><code>vi 文件名</code>     或<code>vim 文件名</code>   //新建并打开<ul>
<li>键盘点击<code>i</code>进入编辑模式，可以编辑文件</li>
<li>点即<code>ESC</code>按键，再输入<code>:</code>，再输入<code>w</code>（写入），再回车，再输入<code>q</code>（保存）,再回车即可保存文件并推出</li>
<li>点即<code>ESC</code>按键，再输入<code>:</code>，再输入<code>q</code>,强制推出，之前修改的内容并没有保存</li>
</ul>
</li>
</ul>
</li>
<li><p>查看文件内容</p>
<ul>
<li><code>vi 文件名   或   vim文件名</code>： 可打开还可修改</li>
<li><code>cat 文件名</code>： 只能查看文件</li>
<li><code>head 文件名</code>： 查看文件头部内容</li>
<li><code>tail 文件名</code>： 查看文件尾部</li>
</ul>
</li>
<li><p>在文件中查找关键字： <code>grep &quot;关键字&quot;  文件名</code></p>
</li>
</ul>
<h2 id="抓包（待完成）"><a href="#抓包（待完成）" class="headerlink" title="抓包（待完成）"></a>抓包（待完成）</h2><blockquote>
<p> 移动端h5页，查看网络请求，需要用工具抓包<br>windows一般用fiddler<br>Mac oS一般用charles</p>
</blockquote>
<ul>
<li>抓包流程<ul>
<li>手机和电脑连同一个局域网</li>
<li>将手机代理到电脑上</li>
<li>手机浏览网页，即可抓包</li>
</ul>
</li>
</ul>
<h1 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h1><h2 id="页面加载过程"><a href="#页面加载过程" class="headerlink" title="页面加载过程"></a>页面加载过程</h2><ul>
<li>从输入url到渲染出页面的整个过程</li>
<li>window.onload和DOMContentLoaded的区别<ul>
<li>在页面渲染时（根据render tree渲染页面时），遇到图片（img标签）或视频加载时，不会阻断渲染，渲染会继续，只是图片的位置会预留处理，当图片、视频加载完成后会将图片、视频放到预留的位置，而图片加载时间可能长于渲染时间，所以会出现渲染已经完成，但时图片还未加载完成的情况 </li>
</ul>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210706221138671.png" alt="image-20210706221138671"></p>
<ul>
<li>加载资源的形式<ul>
<li>html代码</li>
<li>媒体文件：图片、视频等</li>
<li>javascript 、css代码</li>
</ul>
</li>
<li>加载资源的过程<ul>
<li>DNS解析:域名-&gt;IP地址</li>
<li>浏览器根据IP地址向服务器发起http请求（建立TCP链接，再发送请求）</li>
<li>服务器处理http请求，并返回给浏览器</li>
</ul>
</li>
<li>渲染页面的过程<ul>
<li>根据HTML代码生成DOM Tree</li>
<li>根据CSS代码生成CSSOM Tree</li>
<li>将DOM Tree和CSSOM Tree整合形成Render Tree</li>
<li>根据Render Tree渲染页面<ul>
<li>Layout(回流):根据生成的渲染树，进行回流(Layout)，得到节点的几何信息(位置，大小)</li>
<li>Painting(重绘):根据渲染树以及回流得到的几何信息，得到节点的绝对像素</li>
<li>调用GPU触发渲染，将结果展示在页面上</li>
</ul>
</li>
<li>遇到<code>&lt;script&gt;</code>则暂停渲染，优先加载并执行js代码，完成再继续</li>
<li>直至把Render Tree渲染完成</li>
</ul>
</li>
</ul>
<h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><p><strong>性能优化原则</strong></p>
<ul>
<li>多使用内存、缓存或其他方法</li>
<li>减少CPU计算量，减少网络加载耗时</li>
<li>(适用于所有编程的性能优化——空间换时间)</li>
</ul>
<p><strong>让加载更快</strong></p>
<ul>
<li>减少资源体积︰压缩代码<ul>
<li>例如：生产模式下webpack打包生成的bundle.js文件就是压缩文件</li>
</ul>
</li>
<li>减少访问次数∶合并代码，SSR服务器端渲染，缓存<ul>
<li>SSR  <em>此处不懂，待完成？？？？？？？</em><ul>
<li>服务器端渲染:将网页和数据一起加载，一起渲染</li>
<li>非SSR（前后端分离):先加载网页，再加载数据，再渲染数据</li>
<li>早先的JSP ASP PHP，现在的vue React SSR</li>
</ul>
</li>
<li>合并代码案例：生产模式下webpack打包生成的bundle.js文件就是多个js文件合并后的文件</li>
<li>缓存案例：<em>这里http缓存机制需要设置<code>Etag或Last-Modified</code>吗？？？？？</em><ul>
<li>webpack打包的静态资源加hash后缀，根据文件内容计算hash</li>
<li>文件内容不变，则hash 不变，则url不变</li>
<li>url和文件不变，则会自动触发http缓存机制，返回304</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/2020/01/02/Index/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/image-20210707212401996.png" alt="image-20210707212401996"></p>
<ul>
<li>使用更快的网络:CDN     <em>此处不懂，待完成？？？？？？？</em></li>
</ul>
<p><strong>让渲染更快</strong></p>
<ul>
<li>CSS放在head ,JS放在body最下面</li>
<li>尽早开始执行JS，用DOMContentLoaded触发</li>
<li>懒加载（图片懒加载，上滑加载更多)</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//src="preview. png" 是占位图片，data-realsrc="abc.png"是图片的真实地址</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img1"</span> <span class="attr">src</span>=<span class="string">"preview. png"</span> <span class="attr">data-realsrc</span>=<span class="string">"abc.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//1 拿到图片节点</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> img1 = <span class="built_in">document</span>.getElementById( <span class="string">' img1 '</span>)</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//2 监听图片是否正在页面显示</span></span></span><br><span class="line">    .....</span><br><span class="line"><span class="actionscript">    <span class="comment">//3 若图片正在页面显示则将src更换为真实的图片地址并加载图片</span></span></span><br><span class="line"><span class="actionscript">    img1.src = img1.getAttribute( <span class="string">'data-realsrc '</span> )</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li>对DOM查询进行缓存</li>
<li>频繁DOM操作，合并到一起插入DOM结构</li>
</ul>
<ul>
<li><p><strong>节流throttle</strong></p>
<blockquote>
<p>函数节流: 规定在一个<strong>单位时间内</strong>，事件响应函数只能被触发一次。如果这个单位时间内触发多次函数，<strong>只有一次生效</strong></p>
<p><em>频繁操作频繁触发事件—&gt;无论操作多频繁都设定每隔n毫秒触发一次事件</em></p>
<p>使用场景：</p>
<ul>
<li><p>window.onresize事件</p>
<ul>
<li>网页大小变化时触发事件，右上角全屏和小窗口的切换，或者拖动窗口大小的变化 </li>
</ul>
</li>
<li><p>mousemove事件</p>
<ul>
<li><p>拖拽一个元素时，要随时拿到该元素被拖拽的位置</p>
</li>
<li><p>直接用drag事件，则会频发触发，很容易导致卡顿</p>
</li>
<li><p>节流:无论拖拽速度多快，都会每隔100ms触发一次</p>
</li>
</ul>
</li>
</ul>
</blockquote>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//throttle.html</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>throttle 演示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">            <span class="selector-id">#div1</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">                width: 200px;</span><br><span class="line">                height: 100px;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">draggable</span>=<span class="string">"true"</span>&gt;</span>可拖拽<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./throttle1.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//throttle1.js</span></span><br><span class="line"><span class="keyword">const</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// //设置定时器</span></span><br><span class="line"><span class="comment">// let timer = null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// div1.addEventListener('drag', function(e)&#123;</span></span><br><span class="line"><span class="comment">//   //若定时器还未执行则跳过下面的代码，直接返回</span></span><br><span class="line"><span class="comment">//   if(timer)&#123;</span></span><br><span class="line"><span class="comment">//     return</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">//   timer = setTimeout(()=&gt;&#123;</span></span><br><span class="line"><span class="comment">//     console.log(e.offsetX,e.offsetY)</span></span><br><span class="line"><span class="comment">//     timer = null</span></span><br><span class="line"><span class="comment">//   &#125;,500)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//抽离出节流函数</span></span><br><span class="line"><span class="comment">//fn是需要节流的函数，delay是节流的时间间隔</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay = <span class="number">100</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;  <span class="comment">// 这里的event就是事件函数的返回值</span></span><br><span class="line">    <span class="keyword">if</span>(timer)&#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="comment">//这里的this指向的是throttle返回的这个函数</span></span><br><span class="line">      fn(event)</span><br><span class="line">      timer=<span class="literal">null</span></span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//抽离出节流函数</span></span><br><span class="line"><span class="comment">//fn是需要节流的函数，delay是节流的时间间隔</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay = <span class="number">100</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(timer)&#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="comment">//这里的this指向的是throttle返回的这个函数</span></span><br><span class="line">      fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">      timer=<span class="literal">null</span></span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这里的参数e会传给throttle返回的函数</span></span><br><span class="line">div1.addEventListener(<span class="string">'drag'</span>, throttle(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.offsetX,e.offsetY)</span><br><span class="line">&#125;, <span class="number">200</span>))</span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong>防抖debounce</strong></p>
<blockquote>
<p>防抖函数：事件被触发n秒后再执行回调，如果在这n秒内又被触发，则重新计时</p>
<p><em>频繁操作频繁触发事件—&gt;在频繁操作结束并停顿n毫秒后触发事件</em></p>
<p>案例（搜索框）</p>
<ul>
<li>监听一个输入框时，文字变化后触发change事件</li>
<li>直接用keyup事件，则会频发触发change事件</li>
<li>防抖∶用户输入结束或暂停时，才会触发change事件</li>
</ul>
</blockquote>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//debounce.html</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>debounce 演示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"input1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./debounce1.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//debounce1.js</span></span><br><span class="line"><span class="keyword">const</span> input = <span class="built_in">document</span>.getElementById(<span class="string">'input1'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// //建立定时器</span></span><br><span class="line"><span class="comment">// let timer = null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// input.addEventListener('keyup',function()&#123;</span></span><br><span class="line"><span class="comment">//   if(timer)&#123;</span></span><br><span class="line"><span class="comment">//     //clearTimeout是window对象，用于阻止 setTimeout() 方法执行</span></span><br><span class="line"><span class="comment">//     clearTimeout(timer)</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">//   timer = setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     //模拟触发change事件</span></span><br><span class="line"><span class="comment">//     console.log(input.value)</span></span><br><span class="line"><span class="comment">//     //清空定时器</span></span><br><span class="line"><span class="comment">//     timer = null</span></span><br><span class="line"><span class="comment">//   &#125;, 500)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//抽离出防抖函数</span></span><br><span class="line"><span class="comment">//fn：需要防抖的函数，delay防抖的时间间隔</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay = <span class="number">500</span></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//timer在闭包中</span></span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span> </span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(timer)&#123;</span><br><span class="line">      clearTimeout(timer)</span><br><span class="line">    &#125;</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">      fn.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>) <span class="comment">//使用此方式时传入的函数不能是箭头函数，否则this就会有误</span></span><br><span class="line">      timer = <span class="literal">null</span></span><br><span class="line">    &#125;,delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">input.addEventListener(<span class="string">'keyup'</span>, debounce(<span class="function"><span class="keyword">function</span>(<span class="params">num = <span class="number">200</span></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(input.value)</span><br><span class="line">  <span class="built_in">console</span>.log(num)</span><br><span class="line">&#125;, <span class="number">600</span>))</span><br></pre></td></tr></table></figure>

<h2 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h2><blockquote>
<p>浏览器安全：<a href="https://www.yuque.com/i_geek/rules/ha9uir" target="_blank" rel="noopener">https://www.yuque.com/i_geek/rules/ha9uir</a></p>
</blockquote>
<ul>
<li><p>XSS跨站请求攻击</p>
<blockquote>
<p><a href="https://www.npmjs.com/pacage/xss" target="_blank" rel="noopener">npm-xss包</a></p>
<p>XSS又叫CSS (Cross Site Script) ，跨站脚本攻击。</p>
</blockquote>
<ul>
<li>案例<ul>
<li>一个博客网站，我发表一篇博客，其中嵌入<code>&lt;script&gt;</code>脚本</li>
<li>脚本内容:获取cookie ，发送到我的服务器（服务器配合跨域)</li>
<li>发布这篇博客，有人查看它，我轻松收割访问者的cookie</li>
</ul>
</li>
<li>预防xss攻击<ul>
<li>1 对输入的数据进行过滤或转码<ul>
<li>替换特殊字符，如<code>&lt;</code>变为<code>&amp;lt;</code>,<code>&gt;</code>变为<code>&amp;gt;</code></li>
<li><code>&lt;script&gt;</code>变为<code>&amp;lt;script&amp;gt;</code>，直接显示，而不会作为脚本执行</li>
<li>前端要替换，后端也要替换，都做总不会有错</li>
</ul>
</li>
<li>2 csp (利用同源策略)</li>
<li>3 使用HttpOnly属性<ul>
<li>服务端设置cookie的HttpOnly属性为true, 表示在浏览器不能访问cookie</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>XSRF 跨站请求伪造（<em>CSRF（Cross-site request forgery）跨站请求伪造</em>）</p>
<ul>
<li>案例<ul>
<li>你正在购物，看中了某个商品，商品id是100</li>
<li>付费接口是xxx.com/pay?id=100，但没有任何验证</li>
<li>我是攻击者，我看中了一个商品，id是200</li>
<li>我向你发送一封电子邮件，邮件标题很吸引人</li>
<li>但邮件正文隐藏着&lt;img src=xXx.com/pay?id=200 /&gt;  <strong>此时你的浏览器是存储了购买商品的网站的个人信息（例如cookie）即验证信息的</strong></li>
<li>你一查看邮件，就帮我购买了id是200的商品</li>
</ul>
</li>
<li>预防xsrf攻击<ul>
<li>使用post接口（post接口实现跨域很复杂，需要服务端验证，所以直接用img标签是攻击不了的）</li>
<li>增加验证，例如密码、短信验证码、指纹等</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="补充知识点"><a href="#补充知识点" class="headerlink" title="补充知识点"></a>补充知识点</h1><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><blockquote>
<p><a href="https://www.runoob.com/regexp/regexp-syntax.html" target="_blank" rel="noopener">正则表达式教程</a></p>
<p><a href="https://deerchao.cn/tutorials/regex/regex.htm" target="_blank" rel="noopener">正则表达式30分钟入门教程</a></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 邮政编码</span></span><br><span class="line">/\d&#123;<span class="number">6</span>&#125;/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 小写英文字母</span></span><br><span class="line">/^[a-z]+$/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 英文字母</span></span><br><span class="line">/^[a-zA-Z]+$/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期格式 2019.12.1</span></span><br><span class="line">/^\d&#123;<span class="number">4</span>&#125;-\d&#123;<span class="number">1</span>,<span class="number">2</span>&#125;-\d&#123;<span class="number">1</span>,<span class="number">2</span>&#125;$/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户名  6-18位字母，数字，下划线  </span></span><br><span class="line">/^[a-zA-Z]\w&#123;<span class="number">5</span>, <span class="number">17</span>&#125;$/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简单的 IP 地址匹配</span></span><br><span class="line">/\d+\.\d+\.\d+\.\d+<span class="regexp">/</span></span><br></pre></td></tr></table></figure>







<h1 id="面试真题"><a href="#面试真题" class="headerlink" title="面试真题"></a>面试真题</h1><ul>
<li><p>var和let const 的区别</p>
<ul>
<li><p>var 和let是变量，可修改;const是常量，不可修改;</p>
</li>
<li><p>let const 有块级作用域，var没有</p>
</li>
<li><p>var是 ES5语法，let const是ES6语法;var有变量提升</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 变量提升 ES5</span></span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// undefined</span></span><br><span class="line">a = <span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//上面两种写法一样，类似函数声明</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(b)<span class="comment">//报错，b没有声明，因为let没有变量提升</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">100</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>typeof 返回哪些类型</p>
<ul>
<li>undefined string number boolean symbol</li>
<li>object （注意，typeof null === ‘object’)</li>
<li>function</li>
</ul>
</li>
<li><p>列举强制类型转换和隐式类型转换</p>
<ul>
<li>强制: parseInt parseFloat toString 等</li>
<li>隐式:if、逻辑运算、==、＋拼接字符串</li>
</ul>
</li>
<li><p>手写深度比较，模拟lodash isEqual</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 判断是否是对象或数组</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> obj === <span class="string">'object'</span> &amp;&amp; obj !== <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 全相等（深度）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEqual</span>(<span class="params">obj1, obj2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isObject(obj1) || !isObject(obj2)) &#123;</span><br><span class="line">        <span class="comment">// 值类型（注意，参与 equal 的一般不会是函数）</span></span><br><span class="line">        <span class="keyword">return</span> obj1 === obj2</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//可能传入的就是同一个对象，指向同一个引用地址</span></span><br><span class="line">    <span class="keyword">if</span> (obj1 === obj2) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 两个都是对象或数组，而且不相等</span></span><br><span class="line">    <span class="comment">// 1. 先取出 obj1 和 obj2 的 keys ，比较个数</span></span><br><span class="line">    <span class="keyword">const</span> obj1Keys = <span class="built_in">Object</span>.keys(obj1)</span><br><span class="line">    <span class="keyword">const</span> obj2Keys = <span class="built_in">Object</span>.keys(obj2)</span><br><span class="line">    <span class="keyword">if</span> (obj1Keys.length !== obj2Keys.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2. 以 obj1 为基准，和 obj2 依次递归比较</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj1) &#123;</span><br><span class="line">        <span class="comment">// 比较当前 key 的 val —— 递归！！！</span></span><br><span class="line">        <span class="keyword">const</span> res = isEqual(obj1[key], obj2[key])</span><br><span class="line">        <span class="keyword">if</span> (!res) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3. 全相等</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>split()和join()的区别</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'1-2-3'</span>.split(<span class="string">'-'</span>)<span class="comment">//[1,2,3]</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].join( <span class="string">'-'</span>)<span class="comment">// '1-2-3'</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>数组的pop push unshift shift分别做什么</p>
<ul>
<li>pop: 删除数组最后一个元素，返回值：删除的元素</li>
<li>shift: 删除数组第一个元素，返回值：删除的元素</li>
<li>push: 在数组最后添加元素，返回值：添加元素后的数组长度</li>
<li>unshift: 在数组最前添加元素，返回值：添加元素后的数组长度</li>
</ul>
</li>
<li><p>数组API有哪些是纯函数</p>
<blockquote>
<p>纯函数:1.不改变源数组(没有副作用); 2.返回一个数组</p>
</blockquote>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"><span class="comment">// concat</span></span><br><span class="line"><span class="keyword">const</span> arr1 = arr.concat([<span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>])</span><br><span class="line"><span class="keyword">const</span> arr2 = arr.concat(<span class="number">50</span>) <span class="comment">// [10, 20, 30, 40, 50]</span></span><br><span class="line"><span class="keyword">const</span> arr3 = arr.concat(<span class="string">'50'</span>) <span class="comment">//[10, 20, 30, 40, "50"]</span></span><br><span class="line"><span class="comment">// map 对每个元素执行操作</span></span><br><span class="line"><span class="keyword">const</span> arr2 = arr.map(<span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">10</span>)</span><br><span class="line"><span class="comment">// filter  将满足条件的元素以数组返回</span></span><br><span class="line"><span class="keyword">const</span> arr3 = arr.filter(<span class="function"><span class="params">num</span> =&gt;</span> num &gt; <span class="number">25</span>)</span><br><span class="line"><span class="comment">// slice  拷贝 但是是浅拷贝，只拷贝了第一层，更深层只是拷贝引用， </span></span><br><span class="line"><span class="comment">// 新数组的引用和原数组的引用指向同一片内存地址</span></span><br><span class="line"><span class="keyword">const</span> arr4 = arr.slice()</span><br></pre></td></tr></table></figure>

<ul>
<li>数组的常见非纯函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//非纯函数</span></span><br><span class="line">push pop shift unshift</span><br><span class="line">forEach</span><br><span class="line">some every</span><br><span class="line">reduce</span><br></pre></td></tr></table></figure>

<ul>
<li>数组slice和splice的区别</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// slice 纯函数  只截取,不添加,不影响原数组</span></span><br><span class="line"><span class="keyword">const</span> arr1 = arr.slice() <span class="comment">//[10, 20, 30, 40, 50]</span></span><br><span class="line"><span class="comment">// 截取index在[1, 4)之间的元素，包括index=1的元素，不包括index=4的元素</span></span><br><span class="line"><span class="keyword">const</span> arr2 = arr.slice(<span class="number">1</span>, <span class="number">4</span>)<span class="comment">//[20, 30, 40]</span></span><br><span class="line"><span class="comment">// 从index=2的位置开始截取后面所有的元素，包括index=2的元素</span></span><br><span class="line"><span class="keyword">const</span> arr3 = arr.slice(<span class="number">2</span>)<span class="comment">//[30, 40, 50]</span></span><br><span class="line"><span class="comment">// 截取后三个元素 </span></span><br><span class="line"><span class="keyword">const</span> arr4 = arr.slice(<span class="number">-3</span>)<span class="comment">//[30, 40, 50] </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// splice 非纯函数  可截取，也可添加，影响原数组</span></span><br><span class="line"><span class="comment">//从index=3的位置开始截取2个元素，并从index=3的位置添加元素'a', 'b', 'c'</span></span><br><span class="line"><span class="keyword">const</span> spliceRes = arr.splice(<span class="number">3</span>, <span class="number">2</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>) </span><br><span class="line"><span class="built_in">console</span>.log(spliceRes, arr)<span class="comment">//[40, 50],[10, 20, 30, "a", "b", "c"]</span></span><br><span class="line"><span class="comment">//截取index在[2, 4]区间的元素</span></span><br><span class="line"><span class="keyword">const</span> spliceRes1 = arr.splice(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(spliceRes1, arr)<span class="comment">//[30, 40, 50],[10, 20]</span></span><br><span class="line"><span class="comment">//在index=1的位置添加元素'a', 100, 'c'</span></span><br><span class="line"><span class="keyword">const</span> spliceRes2 = arr.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">'a'</span>, <span class="number">100</span>, <span class="string">'c'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(spliceRes2, arr) <span class="comment">//[],[10, "a", 100, "c", 20, 30, 40, 50]</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>[10,20,30].map(parseInt)返回结果是什么?</p>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/parseInt" target="_blank" rel="noopener">parseInt(string, radix)</a></p>
<p>parseInt是将radix进制的字符串string转换为十进制整数</p>
<p>若不传参数radix则传入上面进制的数就返回什么进制的数，只是去掉小数点后的部分，只保留整数部分</p>
</blockquote>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>].map(<span class="built_in">parseInt</span>)</span><br><span class="line"><span class="built_in">console</span>.log(res) <span class="comment">//[10, NaN, NaN]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 拆解</span></span><br><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>].map(<span class="function">(<span class="params">num, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(num, index)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//理解parseInt(string, n)</span></span><br><span class="line"><span class="comment">//string是需要转换的字符串</span></span><br><span class="line"><span class="comment">//n是以n进制解析并转换</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//parseInt('10', 0)等同于parseInt('10', 10)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'10'</span>,<span class="number">10</span>) <span class="comment">//10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'10'</span>,<span class="number">0</span>)  <span class="comment">//10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'10'</span>,<span class="number">2</span>)  <span class="comment">//2</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'1010.01'</span>) <span class="comment">//1010</span></span><br></pre></td></tr></table></figure>



<ul>
<li>ajax请求get和post的区别?<ul>
<li>get一般用于查询操作，post 一般用户提交操作</li>
<li>get参数拼接在url 上 , post放在请求体内（数据体积可更大)</li>
<li>安全性:post易于防止XSRF</li>
</ul>
</li>
<li>函数call和apply的区别<ul>
<li>传参方式不一样</li>
</ul>
</li>
<li>事件代理（委托）是什么?</li>
<li>闭包是什么，有什么特性?有什么负面影响?<ul>
<li>闭包就是能够读取其他函数内部变量的函数</li>
<li>特性∶函数作为参数被传入，函数作为返回值被返回</li>
<li>特性: 自由变量的查找，要在函数定义的地方（而非执行的地方）</li>
<li>影响:变量会常驻内存，得不到释放。闭包不要乱用</li>
</ul>
</li>
<li>如何阻止事件冒泡和默认行为?<ul>
<li>event.stopPropagation()</li>
<li>event.preventDefault()</li>
</ul>
</li>
<li>查找、添加、删除、移动DOM节点的方法?</li>
<li>如何减少DOM操作?<ul>
<li>缓存DOM查询结果</li>
<li>多次DOM操作，合并到一次插入</li>
</ul>
</li>
<li>解释jsonp的原理，为何它不是真正的ajax ?<ul>
<li>jsonp是利用<code>&lt;script&gt;</code>请求到一段js代码(代码是可以已经包含了数据)并直接执行</li>
<li>因为jsonp没有使用xmlhttprequestAPI，没有服务端允许跨域的步骤</li>
</ul>
</li>
<li>document load和ready的区别<ul>
<li>load: 图片、视频加载完成后</li>
<li>ready: 渲染完成后，但图片、视频可能还未加载完   <code>DOMContentLoaded</code></li>
</ul>
</li>
<li>==和===的不同<ul>
<li>== 会尝试类型转换</li>
<li>=== 严格相等  值和类型都一样</li>
</ul>
</li>
<li>函数声明和函数表达式的区别<ul>
<li>函数声明<code>function fn() {...}</code></li>
<li>函数表达式<code>const fn = function() {...}</code></li>
<li>函数声明会在代码执行前预加载，而函数表达式不会</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明  </span></span><br><span class="line"><span class="keyword">const</span> res = sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="built_in">console</span>.log(res) <span class="comment">//正常执行</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">x, y</span>) </span>&#123; <span class="comment">//函数会提前预加载</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">var</span> res = sum(<span class="number">10</span>, <span class="number">20</span>)<span class="comment">//报错 sum是undefined </span></span><br><span class="line"><span class="built_in">console</span>.log(res) </span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;<span class="comment">//sum会变量提升</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>new Object()和Object.create()的区别<ul>
<li>{}等同于new Object() ，原型为Object.prototype</li>
<li>Object.create(null)没有原型</li>
<li>Object.create({…})可指定原型</li>
<li><strong><code>Object.create({...})</code>新建一个空对象，并让空对象的隐式原型等于传入的值</strong></li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    a: <span class="number">10</span>,</span><br><span class="line">    b: <span class="number">20</span>,</span><br><span class="line">    sum() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="keyword">this</span>.b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj2 = <span class="keyword">new</span> <span class="built_in">Object</span>(&#123;</span><br><span class="line">    a: <span class="number">10</span>,</span><br><span class="line">    b: <span class="number">20</span>,</span><br><span class="line">    sum() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="keyword">this</span>.b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj1 === obj2)<span class="comment">//false 引用指向不同的地址</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj21 = <span class="keyword">new</span> <span class="built_in">Object</span>(obj1) <span class="comment">// obj21 === obj1 引用指向同一个地址</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj3 = <span class="built_in">Object</span>.create(<span class="literal">null</span>) <span class="comment">//&#123;&#125; 没有原型 因为原型为null</span></span><br><span class="line"><span class="keyword">const</span> obj4 = <span class="keyword">new</span> <span class="built_in">Object</span>() <span class="comment">// &#123;&#125;  原型为Object.prototype</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj5 = <span class="built_in">Object</span>.create(&#123;</span><br><span class="line">    a: <span class="number">10</span>,</span><br><span class="line">    b: <span class="number">20</span>,</span><br><span class="line">    sum() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="keyword">this</span>.b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj6 = <span class="built_in">Object</span>.create(obj1)</span><br><span class="line"><span class="comment">//obj6.__proto__ === obj1</span></span><br><span class="line"><span class="comment">//obj6.__proto__ === obj21</span></span><br></pre></td></tr></table></figure>



<ul>
<li>关于this的场景题<ul>
<li>this在执行的时候确定，不是在定义的时候确定</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> User = &#123;</span><br><span class="line">    count: <span class="number">1</span>,</span><br><span class="line">    getCount: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.count</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log (User.getCount())/ <span class="regexp">/ 1</span></span><br><span class="line"><span class="regexp">const func = User.getCount</span></span><br><span class="line"><span class="regexp">console.log( func() )/</span><span class="regexp">/ undefined</span></span><br></pre></td></tr></table></figure>

<ul>
<li>关于作用域和自由变量的场景题</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= <span class="number">3</span>;i++)&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">  &#125;,<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印结果</span></span><br><span class="line"><span class="comment">// 4 4 4</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(a) <span class="comment">//100   该作用域没有定义则向上一级作用域查找</span></span><br><span class="line">  a = <span class="number">10</span></span><br><span class="line">  alert(a)<span class="comment">//10</span></span><br><span class="line">&#125;</span><br><span class="line">test()</span><br><span class="line">alert(a)<span class="comment">//10</span></span><br></pre></td></tr></table></figure>



<ul>
<li>判断字符串以字母开头，后面字母数字下划线，长度6-30</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/^[a-zA-Z]\w&#123;5,29&#125;$/</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>手写字符串trim保证浏览器兼容性</p>
<blockquote>
<p>trim():去除字符串两边的空白</p>
<p>replace():在字符串中查找匹配的子串，并替换与正则表达式匹配的子串。返回值：修改后的字符串</p>
</blockquote>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">先判断是否有<span class="built_in">String</span>.prototype.trim。若没有则做下面操作以达到兼容的效果</span><br><span class="line"><span class="built_in">String</span>.prototype.trim= <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//this指向需要使用trim函数的字符串</span></span><br><span class="line">    <span class="comment">//replace(/^\s+/,'')去掉开头的空格</span></span><br><span class="line">    <span class="comment">//replace(/\s+$/,'')去掉结尾的空格</span></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/^\s+/</span>,<span class="string">''</span>).replace(<span class="regexp">/\s+$/</span>,<span class="string">''</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//(原型、this、正则表达式)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>获取多个数字中的最大值</p>
<blockquote>
<p>使用Math.max() 或下面的函数</p>
</blockquote>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">max</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> nums = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>)<span class="comment">//变为数组</span></span><br><span class="line">  <span class="keyword">let</span> max = nums[<span class="number">0</span>]</span><br><span class="line">  nums.forEach(<span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (n &gt; max)&#123;</span><br><span class="line">          max = n</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> max</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(max(<span class="number">-10</span>,<span class="number">-29</span>,<span class="number">-39</span>,<span class="number">-1</span>,<span class="number">-29</span>,<span class="number">-200</span>,<span class="number">0</span>))<span class="comment">//0</span></span><br></pre></td></tr></table></figure>

<ul>
<li>如何捕获JS程序中的异常?</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//高风险位置</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// todo</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line"><span class="built_in">console</span>.error(ex) <span class="comment">// 手动捕获catch</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="comment">// todo</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自动捕获</span></span><br><span class="line"><span class="built_in">window</span>.onerror = <span class="function"><span class="keyword">function</span> (<span class="params">message, source, lineNum, colNum, error</span>) </span>&#123;</span><br><span class="line"><span class="comment">//第一，对跨域的jS,如CDN的，不会有详细的报错信息</span></span><br><span class="line"><span class="comment">//第二，对于压缩的js，还要配合sourceMap 反查到未压缩代码的行、列</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>什么是JSON ?<ul>
<li>json是一种数据格式 ,本质是一段字符串。</li>
<li>json格式和JS对象结构一致,对JS语言更友好</li>
<li>window.JSON是一个全局对象: JSON.stringify  JSON.parse</li>
<li>JSON中key和字符串都要用双引号</li>
</ul>
</li>
<li>获取当前页面url参数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//url:http://code/questions-demo/index.html?a=10&amp;b=20&amp;c=30</span></span><br><span class="line"><span class="comment">// 传统方式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">query</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//去掉？ location.search: '?a=10&amp;b=20&amp;c=30'</span></span><br><span class="line">    <span class="keyword">const</span> search = location.search.substr(<span class="number">1</span>) <span class="comment">// 类似 array.slice(1)</span></span><br><span class="line">    <span class="comment">// search: 'a=10&amp;b=20&amp;c=30'</span></span><br><span class="line">    <span class="keyword">const</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`(^|&amp;)<span class="subst">$&#123;name&#125;</span>=([^&amp;]*)(&amp;|$)`</span>, <span class="string">'i'</span>)<span class="comment">//'i':不分大小写</span></span><br><span class="line">    <span class="keyword">const</span> res = search.match(reg)</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">    <span class="comment">//res[0]  "&amp;b=20&amp;"  匹配的整体</span></span><br><span class="line">    <span class="comment">//res[1]  "&amp;"       匹配的第一个()</span></span><br><span class="line">    <span class="comment">//res[2]  "20"      匹配的第二个()</span></span><br><span class="line">    <span class="comment">//res[3]  "&amp;"       匹配的第三个()</span></span><br><span class="line">    <span class="keyword">if</span> (res === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res[<span class="number">2</span>]  <span class="comment">//20</span></span><br><span class="line">&#125;</span><br><span class="line">query(<span class="string">'b'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//URLSearchParams</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">query</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> search = location.search</span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> URLSearchParams(search)</span><br><span class="line">    <span class="keyword">return</span> p.get(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log( query(<span class="string">'b'</span>) )<span class="comment">//20</span></span><br></pre></td></tr></table></figure>

<ul>
<li>将url参数解析为JS对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//传统方式，分析search</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">queryTo0bj</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">    <span class="keyword">const</span> res = &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> search = location. search.substr(<span class="number">1</span>) <span class="comment">//去掉前面的'?'</span></span><br><span class="line">    <span class="comment">// search: 'a=10&amp;b=20&amp;c=30'</span></span><br><span class="line">    search.split(<span class="string">'&amp;'</span>).forEach(<span class="function"><span class="params">paramStr</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> arr = paramStr.split(<span class="string">'='</span>)</span><br><span class="line">        <span class="keyword">const</span> key = arr[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">const</span> val = arr[<span class="number">1</span>]</span><br><span class="line">        res[key] = val</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用URLSearchParams</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">queryTo0bj</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> res = &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> pList = <span class="keyword">new</span> URLSearchParams(location.search)</span><br><span class="line">    pList.forEach(<span class="function">(<span class="params">val, key</span>) =&gt;</span> &#123;</span><br><span class="line">    	res[key] = val</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li><p>手写数组flat, 考虑多层级</p>
<blockquote>
<p>将多维数组变成一维数组</p>
<p>some():  检测数组元素中是否有元素符合指定条件</p>
<ul>
<li>如果有一个元素满足条件，则表达式返回<em>true</em> , 剩余的元素不会再执行检测。</li>
<li>如果没有满足条件的元素，则返回false。</li>
</ul>
</blockquote>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flat</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 验证 arr 中，还有没有深层数组 [1, 2, [3, 4]]</span></span><br><span class="line">    <span class="keyword">const</span> isDeep = arr.some(<span class="function"><span class="params">item</span> =&gt;</span> item <span class="keyword">instanceof</span> <span class="built_in">Array</span>)</span><br><span class="line">    <span class="keyword">if</span> (!isDeep) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr <span class="comment">// 已经是 flatern [1, 2, 3, 4]</span></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">////等同于[].concat(1, 2, [3, 4]) [].concat(...arr)</span></span><br><span class="line">    <span class="keyword">const</span> res = <span class="built_in">Array</span>.prototype.concat.apply([], arr)</span><br><span class="line">    <span class="keyword">return</span> flat(res) <span class="comment">// 递归</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> res = flat( [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">10</span>, <span class="number">20</span>, [<span class="number">100</span>, <span class="number">200</span>]]], <span class="number">5</span>] )</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br></pre></td></tr></table></figure>



<ul>
<li>数组去重<ul>
<li>推荐使用set的方式，因为传统方式forEach和indexOf都是遍历，就形成了嵌套遍历，时间复杂度更大</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传统方式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    arr.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.indexOf(item) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            res.push(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 Set （无序，不能重复）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">set</span> = new Set(arr)</span><br><span class="line">    return [...<span class="keyword">set</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>手写深拷贝<ul>
<li>注意, Object.assign不是深拷贝! 它只拷贝了第一层，更深层的只拷贝了引用</li>
</ul>
</li>
<li>介绍一下RAFrequestAnimationFrame<ul>
<li>要想动画流畅,更新频率要60帧/s , 即16.67ms更新一次视图</li>
<li>setTimeout要手动控制频率,而RAF浏览器会自动控制</li>
<li>后台标签或隐藏iframe中, RAF会暂停,而setTimeout依然执行</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS 真题演示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">            <span class="selector-id">#div1</span> &#123;</span></span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 50px;</span><br><span class="line">                background-color: red;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>JS 真题演示<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		//引用jQuery</span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/3.4.0/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./RAF.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///RAF.js</span></span><br><span class="line"><span class="comment">// 3s 把宽度从 100px 变为 640px ，即增加 540px</span></span><br><span class="line"><span class="comment">// 60帧/s ，3s 180 帧 ，每次变化 3px</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> $div1 = $(<span class="string">'#div1'</span>)</span><br><span class="line"><span class="keyword">let</span> curWidth = <span class="number">100</span></span><br><span class="line"><span class="keyword">const</span> maxWidth = <span class="number">640</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// setTimeout</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    curWidth = curWidth + <span class="number">3</span></span><br><span class="line">    $div1.css(<span class="string">'width'</span>, curWidth)</span><br><span class="line">    <span class="keyword">if</span> (curWidth &lt; maxWidth) &#123;</span><br><span class="line">        setTimeout(animate, <span class="number">16.7</span>) <span class="comment">// 自己控制时间</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">animate()</span><br><span class="line"></span><br><span class="line"><span class="comment">// RAF</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    curWidth = curWidth + <span class="number">3</span></span><br><span class="line">    $div1.css(<span class="string">'width'</span>, curWidth)</span><br><span class="line">    <span class="keyword">if</span> (curWidth &lt; maxWidth) &#123;</span><br><span class="line">        <span class="built_in">window</span>.requestAnimationFrame(animate) <span class="comment">// 时间不用自己控制</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">animate()</span><br></pre></td></tr></table></figure>



<ul>
<li>前端性能如何优化?- -般从哪几个方面考虑?<ul>
<li>原则:多使用内存、缓存,减少计算、减少网路请求</li>
<li>方向:加载页面,页面渲染,页面操作流畅度</li>
</ul>
</li>
</ul>
<h1 id="浏览器渲染原理"><a href="#浏览器渲染原理" class="headerlink" title="浏览器渲染原理"></a>浏览器渲染原理</h1><blockquote>
<p>will-change: <a href="https://blog.csdn.net/Mancuojie/article/details/120632389" target="_blank" rel="noopener">https://blog.csdn.net/Mancuojie/article/details/120632389</a></p>
<p>浏览器渲染：<a href="https://www.yuque.com/i_geek/rules" target="_blank" rel="noopener">https://www.yuque.com/i_geek/rules</a></p>
<p>chrome浏览器源码： <a href="http://www.taodudu.cc/news/show-1646530.html?action=onClick" target="_blank" rel="noopener">http://www.taodudu.cc/news/show-1646530.html?action=onClick</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/228734855" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/228734855</a></p>
</blockquote>
<p>浏览器渲染流程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、使用htm1解析器将htm1页面转换成浏览器能够理解的DOM树ParseHTML</span><br><span class="line">2、将css解析成浏览器能够识别的CSS树</span><br><span class="line">3、样式计算</span><br><span class="line">4、DOM树+css树--&gt;布局树</span><br><span class="line">5、根据布局树生成了图层树</span><br><span class="line">6、绘制(一个个的绘制)</span><br><span class="line">7、组合图层―生成最终的页面</span><br></pre></td></tr></table></figure>

<p>那几情况能被叫做图层</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1、css 3d</span><br><span class="line">2、position :fixed</span><br><span class="line">3、video</span><br><span class="line">4、canvas</span><br><span class="line">5、css3动画</span><br></pre></td></tr></table></figure>

<p>浏览器一次可以接受多少数据</p>
<ul>
<li>64kb, 很大的视频也是分段接收</li>
</ul>
<p><strong>HTTP</strong></p>
<ul>
<li><p>http/1.0:  解决多种类型文件下载―通过请求头和响应头进行协商、增加cache ,状态码,用户代理</p>
</li>
<li><p>http/1.1：对文件传输的速度，持久化连接，用户提升连接效率。</p>
</li>
<li><p>http/2.0：</p>
<ul>
<li><p>为什么HTTP/1.1很难将带宓占满</p>
<ul>
<li><p>1 tcp的慢启动  （http1.1允许一个域名开6个tcp）</p>
</li>
<li><p>2 同时开启多条TCP连接，那么这些连接会竞争国定的带宽</p>
</li>
<li><p>3 http/1.1的队头阻塞问题</p>
</li>
</ul>
</li>
<li><p>基于以上问题就提出了HTTP/2.0</p>
<ul>
<li><p>多路复用技术：一个域名只使用一个TCP长连接来传输数据</p>
<ul>
<li><p>1 解决了tcp慢启动的问题，因为只有1个tcp了</p>
</li>
<li><p>2 解决了tcp竞争的问题</p>
</li>
</ul>
</li>
<li><p>3 增加了优先级，解决了队头阻塞的问题，优先响应高优先级的数据</p>
</li>
<li><p>4 增加服务推送，请求html的时候，服务端知道html中引用了css，js，则提前将这些css,js推送给客户端</p>
</li>
<li><p>5 增加了头部压缩</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>浏览器安全</strong></p>
<h1 id="每日一题"><a href="#每日一题" class="headerlink" title="每日一题"></a>每日一题</h1><p>页面变黑白</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filter: grayscale(1); &#x2F;&#x2F; 1 是黑白， 0 是彩色， （0，1）之间，，，</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Index/" rel="tag"># Index</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/01/01/tools/vscode/vscode/" rel="prev" title="vscode使用">
      <i class="fa fa-chevron-left"></i> vscode使用
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/01/03/tools/ps/ps/" rel="next" title="ps">
      ps <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#一、HTML"><span class="nav-text">一、HTML</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二、CSS"><span class="nav-text">二、CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1布局"><span class="nav-text">2.1布局</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#盒子模型的宽度如何计算"><span class="nav-text">盒子模型的宽度如何计算?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#margin-纵向重叠的问题"><span class="nav-text">margin 纵向重叠的问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#margin负值的问题"><span class="nav-text">margin负值的问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#BFC理解和应用"><span class="nav-text">BFC理解和应用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#float布局的问题，以及clearfix（手写）"><span class="nav-text">float布局的问题，以及clearfix（手写）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flex画色子"><span class="nav-text">flex画色子</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定位"><span class="nav-text">定位</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#absolute和relative分别依据什么定位"><span class="nav-text">absolute和relative分别依据什么定位?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#居中对齐有哪些实现方式"><span class="nav-text">居中对齐有哪些实现方式?</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图文样式"><span class="nav-text">图文样式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#line-height的继承问题"><span class="nav-text">line-height的继承问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#响应式"><span class="nav-text">响应式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rem是什么"><span class="nav-text">rem是什么?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#响应式布局的常见方案"><span class="nav-text">响应式布局的常见方案?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#网页视口尺寸"><span class="nav-text">网页视口尺寸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vh-vw"><span class="nav-text">vh&#x2F;vw</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三、javascript"><span class="nav-text">三、javascript</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#变量类型和计算"><span class="nav-text">变量类型和计算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#typeof-能判断哪些类型"><span class="nav-text">typeof 能判断哪些类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#值类型和引用类型的区别"><span class="nav-text">值类型和引用类型的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数据类型转换"><span class="nav-text">数据类型转换</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#字符串拼接"><span class="nav-text">字符串拼接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#if语句和逻辑运算"><span class="nav-text">if语句和逻辑运算</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#何时使用-何时使用"><span class="nav-text">何时使用&#x3D;&#x3D;&#x3D;何时使用&#x3D;&#x3D;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#手写深拷贝"><span class="nav-text">手写深拷贝</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#原型和原型链"><span class="nav-text">原型和原型链</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#作用域和闭包"><span class="nav-text">作用域和闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#作用域"><span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自由变量"><span class="nav-text">自由变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包"><span class="nav-text">闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#this"><span class="nav-text">this</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#apply-call-bind方法"><span class="nav-text">apply,call,bind方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bind-call-apply的使用场景"><span class="nav-text">bind,call,apply的使用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#手写bind"><span class="nav-text">手写bind</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包的应用"><span class="nav-text">闭包的应用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#异步和单线程"><span class="nav-text">异步和单线程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#并行、并发、单线程"><span class="nav-text">并行、并发、单线程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同步和异步"><span class="nav-text">同步和异步</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#应用场景"><span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#event-loop"><span class="nav-text">event loop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#宏任务和微任务"><span class="nav-text">宏任务和微任务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#event-loop和DOM渲染"><span class="nav-text">event loop和DOM渲染</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JS-Web-API"><span class="nav-text">JS  Web API</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM"><span class="nav-text">DOM</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#property-和attribute区别"><span class="nav-text">property 和attribute区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#操作DOM节点"><span class="nav-text">操作DOM节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#操作DOM结构"><span class="nav-text">操作DOM结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM性能"><span class="nav-text">DOM性能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PS-测试代码"><span class="nav-text">PS: 测试代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BOM"><span class="nav-text">BOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#事件"><span class="nav-text">事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#事件绑定"><span class="nav-text">事件绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件冒泡"><span class="nav-text">事件冒泡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件代理"><span class="nav-text">事件代理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AJAX"><span class="nav-text">AJAX</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#XMLHttpRequest"><span class="nav-text">XMLHttpRequest</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#状态码"><span class="nav-text">状态码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#跨域"><span class="nav-text">跨域</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#存储"><span class="nav-text">存储</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP"><span class="nav-text">HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#http-code"><span class="nav-text">http code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#http-methods"><span class="nav-text">http methods</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Restful-API"><span class="nav-text">Restful API</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#http-headers"><span class="nav-text">http headers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#http-缓存"><span class="nav-text">http 缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#强制缓存"><span class="nav-text">强制缓存</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#协商缓存"><span class="nav-text">协商缓存</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#缓存流程图"><span class="nav-text">缓存流程图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三种刷新操作"><span class="nav-text">三种刷新操作</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#开发环境"><span class="nav-text">开发环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#git"><span class="nav-text">git</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#常用命令"><span class="nav-text">常用命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多人开发"><span class="nav-text">多人开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#误操作"><span class="nav-text">误操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#webpack-babel"><span class="nav-text">webpack babel</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#webpack打包流程"><span class="nav-text">webpack打包流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打包index-html"><span class="nav-text">打包index.html</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#搭建本地服务"><span class="nav-text">搭建本地服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#webpack配置分离"><span class="nav-text">webpack配置分离</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6转ES5（待完成）"><span class="nav-text">ES6转ES5（待完成）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模块化-导入导出"><span class="nav-text">模块化 导入导出</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ES6-export-import"><span class="nav-text">ES6 export import</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对比commonJS模块"><span class="nav-text">对比commonJS模块</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linux常用命令"><span class="nav-text">linux常用命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#抓包（待完成）"><span class="nav-text">抓包（待完成）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#运行环境"><span class="nav-text">运行环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#页面加载过程"><span class="nav-text">页面加载过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#性能优化"><span class="nav-text">性能优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安全"><span class="nav-text">安全</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#补充知识点"><span class="nav-text">补充知识点</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#正则表达式"><span class="nav-text">正则表达式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#面试真题"><span class="nav-text">面试真题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#浏览器渲染原理"><span class="nav-text">浏览器渲染原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#每日一题"><span class="nav-text">每日一题</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Chuckie"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Chuckie</p>
  <div class="site-description" itemprop="description">Bright future</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">116</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">57</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">100</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ChuckieWill" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ChuckieWill" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/codewyj.163.com" title="E-Mail → codewyj.163.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.jianshu.com/u/de627226656c" title="https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;de627226656c" rel="noopener" target="_blank">简书</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="/images/me.png"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chuckie</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.1m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">17:05</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
