<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="123456const cartList &#x3D; store.state.cartList   情况1const &amp;#123; cartList &amp;#125; &#x3D; toRefs(store.state)  情况2以上两者有什么区别为什么computed中情况2 不能监视数据的变化？？？？？？   模板中函数调用传参数时为什么要用箭头函数">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue">
<meta property="og:url" content="http://yoursite.com/2020/06/10/Vue/Vuejs/index.html">
<meta property="og:site_name" content="Chuckie&#39;s Blog">
<meta property="og:description" content="123456const cartList &#x3D; store.state.cartList   情况1const &amp;#123; cartList &amp;#125; &#x3D; toRefs(store.state)  情况2以上两者有什么区别为什么computed中情况2 不能监视数据的变化？？？？？？   模板中函数调用传参数时为什么要用箭头函数">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/vue-mvvm.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/vue-lifetime.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/v-thml.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/diff-f.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/diff-e.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/v-model-radio.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/v-model-checkbox.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/v-model=checkbox-1.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/v-model-select-1.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/v-model-select-2.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/v-model-select-3.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/image-20210727192610905.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/image-20210815162248328.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/image-20210815162457644.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/image-20210815162645470.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/image-20210815163117742.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/image-20220606213853218.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/image-20220629211158281.png">
<meta property="article:published_time" content="2020-06-10T02:46:17.000Z">
<meta property="article:modified_time" content="2024-09-18T15:06:07.610Z">
<meta property="article:author" content="Chuckie">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/06/10/Vue/Vuejs/vue-mvvm.png">

<link rel="canonical" href="http://yoursite.com/2020/06/10/Vue/Vuejs/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Vue | Chuckie's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Chuckie's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/10/Vue/Vuejs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Chuckie">
      <meta itemprop="description" content="Bright future">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuckie's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Vue
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-10 10:46:17" itemprop="dateCreated datePublished" datetime="2020-06-10T10:46:17+08:00">2020-06-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-09-18 23:06:07" itemprop="dateModified" datetime="2024-09-18T23:06:07+08:00">2024-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index"><span itemprop="name">vue</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>52k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>47 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cartList = store.state.cartList   情况<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; cartList &#125; = toRefs(store.state)  情况<span class="number">2</span></span><br><span class="line"></span><br><span class="line">以上两者有什么区别</span><br><span class="line">为什么computed中情况<span class="number">2</span> 不能监视数据的变化？？？？？？</span><br></pre></td></tr></table></figure>

<ul>
<li>模板中函数调用传参数时为什么要用箭头函数</li>
</ul>
<h1 id="一、Vue基础"><a href="#一、Vue基础" class="headerlink" title="一、Vue基础"></a>一、Vue基础</h1><blockquote>
<p><strong><a href="https://cn.vuejs.org/" target="_blank" rel="noopener">Vue官网-Vue2.x</a></strong></p>
<p><strong><a href="https://v3.cn.vuejs.org/" target="_blank" rel="noopener">Vue官网-Vue3</a></strong></p>
<p><a href="https://www.bilibili.com/video/BV1Zy4y1K7SH?p=3" target="_blank" rel="noopener">Vue官网导航使用指南视频</a></p>
</blockquote>
<h2 id="1-Vue安装及使用"><a href="#1-Vue安装及使用" class="headerlink" title="1 Vue安装及使用"></a>1 Vue安装及使用</h2><h3 id="1-1-直接使用-lt-script-gt-引入"><a href="#1-1-直接使用-lt-script-gt-引入" class="headerlink" title="1.1 直接使用&lt;script&gt;引入"></a>1.1 直接使用<code>&lt;script&gt;</code>引入</h3><blockquote>
<p>以下安装及使用基于<code>Vue2.x</code></p>
</blockquote>
<p>*<em>引入方式： *</em></p>
<ul>
<li>方式一：直接CDN引入<ul>
<li>官网位置：官网-学习-教程-安装-直接用<code>&lt;script&gt;</code>引入-CDN</li>
<li>可以选择引入开发环境版本还是生产环境版本，将相应地址在html中通过<code>&lt;script&gt;引入</code></li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt; </span><br><span class="line">&lt;script src=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="https:/</span><span class="regexp">/cdn.jsdelivr.net/</span>npm/vue<span class="string">"&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li>方式二： 下载和引入<ul>
<li>官网位置：官网-学习-教程-安装-直接用<code>&lt;script&gt;</code>引入</li>
<li>选择开发版本或生产版本直接下载一个js文件（开发阶段下载开发版本）</li>
<li>将下载的文件再在html文件中通过<code>&lt;script&gt;</code>引入</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">开发环境 https:<span class="comment">//vuejs.org/js/vue.js   //下载的文件名：vue.js</span></span><br><span class="line">生产环境 https:<span class="comment">//vuejs.org/js/vue.min.js   //下载的文件名：vue.min.js</span></span><br></pre></td></tr></table></figure>

<p><strong>使用Vue:</strong></p>
<blockquote>
<p>目录结构</p>
<ul>
<li>根文件夹<ul>
<li>test.html</li>
<li>src<ul>
<li>vue.js  </li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<ol>
<li>在项目中新建js文件夹 ,若是以上方式二引入Vue则需要将下载的vue.js文件 放入js文件夹下</li>
<li>在项目中新建html文件，并通过<code>&lt;script&gt;</code>引入Vue</li>
</ol>
<ul>
<li>方式一则引入的src为网络地址<ul>
<li>方式二则引入地址为本地地址</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>vue-demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>  <span class="attr">src</span>=<span class="string">"./src/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  //方式二引入</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>//方式一引入</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>创建Vue对象，传入options：{}</p>
<ul>
<li><p>{}中包含了el属性：该属性决定了这个Vue对象挂载到哪一个元素上,以”id”确定元素。</p>
</li>
<li><p>{}中包含了data属性：该属性中通常会存储一些数据</p>
<ul>
<li>这些数据可以是我们直接定义出来的。</li>
<li>也可能是来自网络，从服务器加载的。</li>
</ul>
</li>
</ul>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>vue-demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./src/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span>&#123;&#123;message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">          el:<span class="string">'#app'</span>,</span></span><br><span class="line">          data:&#123;</span><br><span class="line"><span class="actionscript">              message:<span class="string">'你好呀  hello  vue'</span>,</span></span><br><span class="line"><span class="actionscript">              name : <span class="string">'maxthon'</span></span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-npm及CLI安装"><a href="#1-2-npm及CLI安装" class="headerlink" title="1.2 npm及CLI安装"></a>1.2 npm及CLI安装</h3><p><strong>npm直接安装vue</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue</span><br></pre></td></tr></table></figure>

<p><strong>使用脚手架</strong></p>
<ol>
<li><p>(仅第一次执行)∶全局安装@vue/cli<br><code>npm install -g @vue/cli</code></p>
</li>
<li><p><em>切换到要创建项目的目录</em>，然后使用命令创建项目, 执行后会弹出选择安装vue2.x或vue3，自行选择；创建好的项目就已经接受git托管了</p>
<p><code>vue create 项目名称</code></p>
</li>
<li><p>启动项目<br><code>npm run serve</code></p>
</li>
</ol>
<h3 id="1-3-单页组件"><a href="#1-3-单页组件" class="headerlink" title="1.3 单页组件"></a>1.3 单页组件</h3><blockquote>
<p><a href="https://www.bilibili.com/video/BV1Zy4y1K7SH?p=60" target="_blank" rel="noopener">单页组件视频教程</a></p>
</blockquote>
<h3 id="1-4-初始化项目"><a href="#1-4-初始化项目" class="headerlink" title="1.4 初始化项目"></a>1.4 初始化项目</h3><h2 id="2-Vue中的MVVM"><a href="#2-Vue中的MVVM" class="headerlink" title="2 Vue中的MVVM"></a>2 Vue中的MVVM</h2><ul>
<li><p><a href="https://zh.wikipedia.org/wiki/MVVM" target="_blank" rel="noopener">MVVM维基百科</a></p>
<p><img src="/2020/06/10/Vue/Vuejs/vue-mvvm.png" alt></p>
</li>
<li><p>View</p>
<ul>
<li>DOM层。</li>
<li>给用户展示各种信息。</li>
<li>对应Vue中的模板：el</li>
</ul>
</li>
<li><p>Model</p>
<ul>
<li>数据层 </li>
<li>对应Vue的options中的data</li>
</ul>
</li>
<li><p>VueModel</p>
<ul>
<li>视图模型层：View和Model沟通的桥梁。</li>
<li>实现了Data Binding，也就是数据绑定，将Model的改变实时的反应到View中</li>
<li>实现了DOM Listener，也就是DOM监听，当DOM发生一些事件(点击、滚动、touch等)时，可以监听到，并在需要的情况下改变对应的Data。</li>
<li>对应Vue中的Vue实例对象</li>
</ul>
</li>
</ul>
<h2 id="3-传入Vue的options"><a href="#3-传入Vue的options" class="headerlink" title="3 传入Vue的options"></a>3 传入Vue的options</h2><ul>
<li>创建Vue对象的时候，传入了一些options：{}<ul>
<li>{}中包含了el属性：该属性决定了这个Vue对象挂载到哪一个元素上。</li>
<li>{}中包含了data属性：该属性中通常会存储一些数据<ul>
<li>这些数据可以是我们直接定义出来的。</li>
<li>也可能是来自网络，从服务器加载的。</li>
</ul>
</li>
<li>{}中包含了methods属性：该属性中定义了函数</li>
<li>{}中包含了computed 属性:  计算属性</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;&#123;&#123;message&#125;&#125;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;name&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;ul&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li v-for="item in movies"&gt;&#123;&#123;item&#125;&#125;&lt;/</span>li&gt;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">    &lt;h1&gt;当前计数：&#123;&#123;count&#125;&#125;&lt;/</span>h1&gt;</span><br><span class="line">    &lt;button v-on:click=<span class="string">"add"</span>&gt;+&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button v-on:click="sub"&gt;-&lt;/</span>button&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="../</span>js/vue.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="string">        el:'#app',</span></span><br><span class="line"><span class="string">        data:&#123;</span></span><br><span class="line"><span class="string">            message:'你好呀  hello  vue',</span></span><br><span class="line"><span class="string">            name : 'jack ma',</span></span><br><span class="line"><span class="string">            movies:['心灵捕手','阿甘正传','星际穿越'],</span></span><br><span class="line"><span class="string">            count:0</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        methods:&#123;</span></span><br><span class="line"><span class="string">            add()&#123;</span></span><br><span class="line"><span class="string">                console.log('add')</span></span><br><span class="line"><span class="string">                this.count++</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            sub()&#123;</span></span><br><span class="line"><span class="string">                console.log('sub')</span></span><br><span class="line"><span class="string">                this.count--</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="4-Vue生命周期"><a href="#4-Vue生命周期" class="headerlink" title="4 Vue生命周期"></a>4 Vue生命周期</h2><ul>
<li>挂载</li>
<li>更新</li>
<li>销毁</li>
</ul>
<img src="/2020/06/10/Vue/Vuejs/vue-lifetime.png" style="zoom: 67%;">

<h3 id="4-1-生命周期各时间节点易错点"><a href="#4-1-生命周期各时间节点易错点" class="headerlink" title="4.1 生命周期各时间节点易错点"></a>4.1 生命周期各时间节点易错点</h3><ol>
<li><strong>created()中获取不了组件及元素</strong></li>
</ol>
<p>​       <em>报错原因：</em></p>
<ul>
<li>el是在created（）周期函数之后才挂载到Vue中的</li>
<li>所以在created（）中获取的组件或元素为空</li>
</ul>
<p>​      <em>解决办法：</em></p>
<ul>
<li>将获取组件及元素的操作放到mounted（）周期函数中执行</li>
</ul>
<ol start="2">
<li><strong>mouted()中可能数据还没有加载完成</strong></li>
</ol>
<ul>
<li>mouted()在el挂载完成后执行</li>
</ul>
<ol start="3">
<li><strong>updated()中DOM渲染还没有完成</strong></li>
</ol>
<ul>
<li>updated()在数据更新到DOM后执行</li>
</ul>
<ol start="4">
<li><strong>$nextTick()中图片还没有加载完成</strong></li>
</ol>
<ul>
<li><p>$nextTick(()=&gt;{回调函数}) 在DOM渲染完成后执行</p>
<ul>
<li>updated()钩子函数是在是数据更新到DOM完成的时间节点</li>
<li>nextTick()函数是在数据更新且DOM渲染完成后的时间节点(<em>DOM渲染完成 不包括图片加载完成</em>)</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$nextTick(() &#x3D;&gt; &#123;</span><br><span class="line">	&#x2F;&#x2F;DOM渲染完成后需要执行的操作</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-vue-config-js配置"><a href="#5-vue-config-js配置" class="headerlink" title="5 vue.config.js配置"></a>5 vue.config.js配置</h2><ul>
<li>vue.config.js 文件放在根目录下</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devServer:&#123;</span><br><span class="line">        port: <span class="number">8999</span>, <span class="comment">//默认打开端口</span></span><br><span class="line">        open: tru  <span class="comment">//自动在浏览器打开</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="二、Vue基础语法"><a href="#二、Vue基础语法" class="headerlink" title="二、Vue基础语法"></a>二、Vue基础语法</h1><h2 id="1-插值操作"><a href="#1-插值操作" class="headerlink" title="1 插值操作"></a>1 插值操作</h2><h4 id="mustache语法（双大括号）"><a href="#mustache语法（双大括号）" class="headerlink" title="mustache语法（双大括号）"></a>mustache语法（双大括号）</h4><ul>
<li>数据绑定是<strong>响应式</strong>的</li>
</ul>
<h4 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h4><ul>
<li>该指令表示元素和组件只渲染一次，view层展示的数据不会随着model层数据的变化而改变。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h1 v-once&gt;&#123;&#123;name&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">        el:'#app',</span></span><br><span class="line"><span class="regexp">        data:&#123;</span></span><br><span class="line"><span class="regexp">            name : 'jack ma'</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h4><ul>
<li>该指令用于解析html代码</li>
<li>当数据内容本身就是html代码时可以只用这个指令解析并展示</li>
<li><em>v-html :会有XSS风险，会覆盖子组件</em></li>
</ul>
<p><img src="/2020/06/10/Vue/Vuejs/v-thml.png" alt="1590900171394"></p>
<h4 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h4><ul>
<li>v-text作用和Mustache比较相似：都是用于将数据显示在界面中</li>
<li>v-text通常情况下，接受一个string类型</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h1 &gt;&#123;&#123;name&#125;&#125;&lt;<span class="regexp">/h1&gt;---------1</span></span><br><span class="line"><span class="regexp">    &lt;h1 v-text="name"&gt;&lt;/</span>h1&gt;---<span class="number">-2</span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="../</span>js/vue.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="string">        el:'#app',</span></span><br><span class="line"><span class="string">        data:&#123;</span></span><br><span class="line"><span class="string">            name : 'jack ma'</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//展示效果相同</span></span><br><span class="line"><span class="string">jack ma------1</span></span><br><span class="line"><span class="string">jack ma------2</span></span><br></pre></td></tr></table></figure>

<h4 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h4><ul>
<li>v-pre用于跳过这个元素和它子元素的编译过程，用于显示原本的Mustache语法。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h1 &gt;&#123;&#123;name&#125;&#125;&lt;<span class="regexp">/h1&gt;---------1</span></span><br><span class="line"><span class="regexp">    &lt;h1 v-pre &gt;&#123;&#123;name&#125;&#125;&lt;/</span>h1&gt;---<span class="number">-2</span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="../</span>js/vue.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="string">        el:'#app',</span></span><br><span class="line"><span class="string">        data:&#123;</span></span><br><span class="line"><span class="string">            name : 'jack ma'</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//展示效果相同</span></span><br><span class="line"><span class="string">jack ma------1</span></span><br><span class="line"><span class="string">&#123;&#123;name&#125;&#125;------2</span></span><br></pre></td></tr></table></figure>

<h4 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h4><ul>
<li>在vue实例编译完成之前，浏览器会直接显示未编译的Mustache标签。</li>
<li>为了避免这个问题，设置<code>v-cloak</code>指令可以 不显示Mustache标签，直到编译结束再显示编译之后的效果</li>
<li>[v-cloak]{} 设置未编译完成之前的显示效果</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h1 v-cloak&gt;&#123;&#123;name&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">        el:'#app',</span></span><br><span class="line"><span class="regexp">        data:&#123;</span></span><br><span class="line"><span class="regexp">            name : 'jack ma'</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">  [v-cloak] &#123;</span><br><span class="line">  	display: none;  <span class="comment">//设置为不显示</span></span><br><span class="line">  &#125;       </span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-绑定属性"><a href="#2-绑定属性" class="headerlink" title="2 绑定属性"></a>2 绑定属性</h2><h4 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h4><ul>
<li><p><code>v-bind</code>用于： 1绑定一个或多个属性；2向组件传递props值</p>
</li>
<li><p>可以动态绑定的属性：图片链接<code>src</code>、网站链接<code>href</code>、类、样式等</p>
</li>
<li><p><strong><code>v-bind</code>的语法糖：<code>:</code></strong> </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-bind:src=<span class="string">"http:\\a.png"</span>    等同于    :src=<span class="string">"http:\\a.png"</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="v-bind绑定class"><a href="#v-bind绑定class" class="headerlink" title="v-bind绑定class"></a>v-bind绑定class</h4><ul>
<li><p>1 对象语法</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//'active'、'line'为类名</span><br><span class="line">//isActive、isLine  为标志位  只有true、false取值  控制类是否生效</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">:class</span>=<span class="string">"&#123;'active': isActive, 'line': isLine&#125;"</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>2 数组语法</p>
<ul>
<li>为类名时带<code>引号</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;&#39;active&#39;、&#39;line&#39;为类名</span><br><span class="line">&lt;h2 class&#x3D;&quot;title&quot; :class&#x3D;&quot;[&#39;active’, &#39;line&#39;]&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>为变量名时不带引号  </li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:class</span>=<span class="string">"[active, line]"</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el:<span class="string">'#app'</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line">            active : &#123;color: red&#125;,</span><br><span class="line">            line: &#123;font-size: 10px&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="v-bind绑定style"><a href="#v-bind绑定style" class="headerlink" title="v-bind绑定style"></a>v-bind绑定style</h4><ul>
<li><p>1 对象语法</p>
<ul>
<li>style后面跟的是一个对象类型<ul>
<li>对象的key是CSS属性名称</li>
<li>对象的value是具体赋的值，值可以来自于data中的属性</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:style=<span class="string">"&#123;color: currentColor, fontSize: fontSize + 'px'&#125;"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>2 数组语法</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"[baseStyles, overridingStyles]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">data: &#123;</span><br><span class="line">	baseStyles:&#123;backGroundColor:'red'&#125;  //注意转换成驼峰形势</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="3-计算属性"><a href="#3-计算属性" class="headerlink" title="3 计算属性"></a>3 计算属性</h2><h4 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h4><ul>
<li><p><code>computed</code>用于将数据进行转化、多个数据相结合再提供一个简单的属性绑定到html模块中</p>
<ul>
<li>案例</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;fullName&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">        el:'#app',</span></span><br><span class="line"><span class="regexp">        data:&#123;</span></span><br><span class="line"><span class="regexp">            firstName: 'jack',</span></span><br><span class="line"><span class="regexp">            lastName: 'ma'</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        computed: &#123;</span></span><br><span class="line"><span class="regexp">            fullName()&#123;</span></span><br><span class="line"><span class="regexp">                return this.firstName+ ' '+ lastName</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line"><span class="comment">//效果</span></span><br><span class="line">jack ma</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>compoouted</code>的<code>get</code>和<code>set</code></p>
<ul>
<li><code>computed</code>中定义的计算属性本来是包含<code>get</code>和<code>set</code>方法，<code>get</code>用于获取计算属性的结果，<code>set</code>用于设置计算属性，但是一般都只需要获取<code>get</code>，所以就简写成上面的函数形式，直接返回计算结果</li>
<li>双向绑定（<code>v-model</code>）时，必须有<code>set 和 get</code>,否则会报错</li>
</ul>
</li>
<li><p>案例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h1 &gt;&#123;&#123;fullName&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;input v-model="double2"/</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="../</span>js/vue.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="string">        el:'#app',</span></span><br><span class="line"><span class="string">        data:&#123;</span></span><br><span class="line"><span class="string">            firstName: 'jack',</span></span><br><span class="line"><span class="string">            lastName: 'ma',</span></span><br><span class="line"><span class="string">            num: 0</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        computed: &#123;</span></span><br><span class="line"><span class="string">            fullName: &#123;</span></span><br><span class="line"><span class="string">                get()&#123;</span></span><br><span class="line"><span class="string">                    return this.firstName+ ' '+ lastName</span></span><br><span class="line"><span class="string">                &#125;,</span></span><br><span class="line"><span class="string">                set(newName) &#123;</span></span><br><span class="line"><span class="string">                    const names = newName.split(' ‘)</span></span><br><span class="line"><span class="string">                    this.firsName = names[0]</span></span><br><span class="line"><span class="string">                    this,lastName = names[1]</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">             double2: &#123;</span></span><br><span class="line"><span class="string">                get() &#123;</span></span><br><span class="line"><span class="string">                    return this.num * 2</span></span><br><span class="line"><span class="string">                &#125;,</span></span><br><span class="line"><span class="string">                set(val) &#123;</span></span><br><span class="line"><span class="string">                    this.num = val/2</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string">//效果</span></span><br><span class="line"><span class="string">jack ma</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="computed-VS-methods"><a href="#computed-VS-methods" class="headerlink" title="computed VS methods"></a>computed VS methods</h4><ul>
<li>computed 和 methods中定义的方法都可以达到对data数据加工的效果</li>
<li>但是：<strong>计算属性会进行缓存，如果多次使用时，计算属性只会调用一次</strong>  即只会计算一次  然后将计算结果保存，避免了重复无用的计算，节省了计算能力。</li>
</ul>
<h2 id="4-watch"><a href="#4-watch" class="headerlink" title="4 watch"></a>4 watch</h2><blockquote>
<p>当属性发送变化时就会触发</p>
</blockquote>
<ul>
<li>watch 监听引用类型，拿不到oldVal, 因为oldVal 和 val都是存储的引用地址，而引用地址是没有变化的只是引用的堆中的值类型发生了变化</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;input v-model=<span class="string">"name"</span>/&gt;</span><br><span class="line">        &lt;input v-model=<span class="string">"info.city"</span>/&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            name: <span class="string">'双越'</span>,</span><br><span class="line">            info: &#123;</span><br><span class="line">                city: <span class="string">'北京'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        name(oldVal, val) &#123;</span><br><span class="line">     		<span class="comment">// 值类型，可正常拿到 oldVal 和 val</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'watch name'</span>, val, oldVal)</span><br><span class="line">        &#125;,</span><br><span class="line">        info: &#123;</span><br><span class="line">            </span><br><span class="line">            handler(oldVal, val) &#123;</span><br><span class="line">                <span class="comment">// 引用类型，拿不到 oldVal 。因为指针相同，此时已经指向了新的 val</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'watch info'</span>, val, oldVal) </span><br><span class="line">            &#125;,</span><br><span class="line">            deep: <span class="literal">true</span>, <span class="comment">// 深度监听</span></span><br><span class="line">            immediate: <span class="literal">true</span>  <span class="comment">// 该回调将会在侦听开始之后被立即调用</span></span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 'info.city':&#123;</span></span><br><span class="line">        <span class="comment">//   handler(oldVal, val) &#123;</span></span><br><span class="line">                   <span class="comment">// 此处是值类型，也可正常拿到 oldVal 和 val</span></span><br><span class="line">        <span class="comment">//         console.log('watch city', val, oldVal) </span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;,</span></span><br><span class="line">        <span class="string">'info.city'</span>(oldVal, val) &#123;</span><br><span class="line">            <span class="comment">// 此处是值类型，也可正常拿到 oldVal 和 val</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'watch city'</span>, val, oldVal) </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="5-事件监听"><a href="#5-事件监听" class="headerlink" title="5 事件监听"></a>5 事件监听</h2><h4 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h4><ul>
<li><p><a href="https://cn.vuejs.org/v2/api/#v-on" target="_blank" rel="noopener">v-on官方教程</a></p>
</li>
<li><p><code>v-on</code>监听的事件包括<code>DOM</code>原生事件和组件自定义事件</p>
</li>
<li><p><code>v-on</code>的语法糖：<code>@</code></p>
</li>
<li><p>案例</p>
<ul>
<li>三个点击按钮的效果一样</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;counter&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">	&lt;button v-on:click="counter++"&gt;点击counter+1&lt;/</span>button&gt;</span><br><span class="line">	&lt;button v-on:click=<span class="string">"onCounter"</span>&gt;点击counter+<span class="number">1</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">	&lt;button @:click="onCounter"&gt;点击counter+1&lt;/</span>button&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="../</span>js/vue.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="string">        el:'#app',</span></span><br><span class="line"><span class="string">        data:&#123;</span></span><br><span class="line"><span class="string">            counter: 0</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        monteds: &#123;</span></span><br><span class="line"><span class="string">            onCounter()&#123;</span></span><br><span class="line"><span class="string">                this.counter++</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="v-on参数"><a href="#v-on参数" class="headerlink" title="v-on参数"></a>v-on参数</h4><ul>
<li><p>如果<code>v-on</code>方法不需要额外参数，那么方法后的()可以不添加</p>
<ul>
<li>不带<code>()</code>时，如果方法本身中有一个参数，那么会默认将原生事件event参数传递进去</li>
</ul>
</li>
<li><p>如果<code>v-on</code>需要传入某个参数，同时需要event时，可以通过$event传入原生事件。</p>
</li>
<li><p>案例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;counter&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">	&lt;button @:click="addOne"&gt;点击counter+1&lt;/</span>button&gt;</span><br><span class="line">	&lt;button @:click=<span class="string">"addTen(10, $event)"</span>&gt;点击counter+<span class="number">10</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">        el:'#app',</span></span><br><span class="line"><span class="regexp">        data:&#123;</span></span><br><span class="line"><span class="regexp">            counter: 0</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        monteds: &#123;</span></span><br><span class="line"><span class="regexp">            addOne(event)&#123;</span></span><br><span class="line"><span class="regexp">                console.log(event)</span></span><br><span class="line"><span class="regexp">                this.counter++</span></span><br><span class="line"><span class="regexp">            &#125;,</span></span><br><span class="line"><span class="regexp">            addTen(count, event)&#123;</span></span><br><span class="line"><span class="regexp">                this.counter += count</span></span><br><span class="line"><span class="regexp">                console.log(event)</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="v-on-修饰符"><a href="#v-on-修饰符" class="headerlink" title="v-on 修饰符"></a>v-on 修饰符</h4><ul>
<li><code>.stop</code>: 阻止冒泡</li>
<li><code>.prevent</code>: 阻止默认事件的调用  例如form的submit(提交)</li>
<li><code>.native</code>:监听组件根元素的原生事件。</li>
<li><code>.once</code> :只触发一次回调。</li>
</ul>
<h4 id="DOM原生事件列表"><a href="#DOM原生事件列表" class="headerlink" title="DOM原生事件列表"></a>DOM原生事件列表</h4><p><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener">DOM原生事件列表</a></strong></p>
<h2 id="6-条件判断"><a href="#6-条件判断" class="headerlink" title="6 条件判断"></a>6 条件判断</h2><h4 id="v-if、v-else-if、v-else"><a href="#v-if、v-else-if、v-else" class="headerlink" title="v-if、v-else-if、v-else"></a>v-if、v-else-if、v-else</h4><ul>
<li><p>v-if的原理</p>
</li>
<li><p>v-if后面的条件为false时，对应的元素以及其子元素不会渲染。也就是根本不会有对应的标签出现在DOM中。</p>
</li>
<li><p>案例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;div v-<span class="keyword">if</span>=“score&gt;=<span class="number">90</span>”&gt;优秀&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div v-else-if=“score&gt;=60”&gt;及格&lt;/</span>div&gt;</span><br><span class="line">    &lt;div v-<span class="keyword">else</span>&gt;不及格&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">        el:'#app',</span></span><br><span class="line"><span class="regexp">        data:&#123;</span></span><br><span class="line"><span class="regexp">            score: 99</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="v-if-VS-v-show"><a href="#v-if-VS-v-show" class="headerlink" title="v-if VS  v-show"></a>v-if VS  v-show</h4><ul>
<li>v-if条件为false时，对应的元素以及其子元素不会渲染。(通过Vue控制)</li>
<li>v-show条件为false时，对应的元素以及其子元素会渲染。只是将元素的display属性设置为none，所以没有显示出来。（通过css控制）</li>
<li>总结：<ul>
<li>当需要在显示与隐藏之间切片很频繁时，使用v-show</li>
<li>当只有少次切换时，通常使用v-if</li>
</ul>
</li>
</ul>
<h2 id="7-遍历循环"><a href="#7-遍历循环" class="headerlink" title="7 遍历循环"></a>7 遍历循环</h2><h4 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h4><ul>
<li><p>遍历数组</p>
<ul>
<li>item: 数组中的元素</li>
<li>index： 数组中元素的索引</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-<span class="keyword">for</span>=(item, index) <span class="keyword">in</span> items</span><br></pre></td></tr></table></figure>
</li>
<li><p>遍历对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(属性值，属性名，属性索引)  <span class="keyword">in</span>   info </span><br><span class="line">(value, key,  index) <span class="keyword">in</span> info</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="key"><a href="#key" class="headerlink" title=":key"></a>:key</h4><ul>
<li><p><strong>key的作用主要是为了高效的更新虚拟DOM。</strong></p>
</li>
<li><p>当某一层有很多相同的节点时，也就是列表节点时，我们希望插入一个新的节点，在B和C之间加一个F</p>
<p><img src="/2020/06/10/Vue/Vuejs/diff-f.png" alt="1590913636403"></p>
<ul>
<li><p>Vue的虚拟DOM的Diff算法的处理方式是：C更新成F，D更新成C，E更新成D，最后再插入E，所以效率很低</p>
<p><img src="/2020/06/10/Vue/Vuejs/diff-e.png" alt></p>
</li>
<li><p>使用key</p>
<ul>
<li>key相当于给每个节点做了唯一的标识</li>
<li>这样就可以直接插入到B、C直接  效率更高</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="8-双向绑定"><a href="#8-双向绑定" class="headerlink" title="8 双向绑定"></a>8 双向绑定</h2><h4 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h4><ul>
<li><p><code>v-model</code>指令用于实现表单元素和数据的双向绑定</p>
</li>
<li><p>可使用标签：<code>input</code>、<code>textarea</code></p>
</li>
<li><p>案例</p>
<ul>
<li>双向绑定流程<ul>
<li>因为input中的v-model绑定了message，所以会实时将输入的内容传递给message，message发生改变。</li>
<li>当message发生改变时，因为上面我们使用Mustache语法，将message的值插入到DOM中，所以DOM会发生响应的改变。</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"text"</span> v-model=<span class="string">"message"</span>&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">        el:'#app',</span></span><br><span class="line"><span class="regexp">        data:&#123;</span></span><br><span class="line"><span class="regexp">            message: ''</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>v-model原理</strong></p>
<ul>
<li>1.v-bind绑定一个value属性</li>
<li>2.v-on指令给当前元素绑定input事件，将输入赋值给data中的数据</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"text"</span> v-model=<span class="string">"message"</span>&gt;</span><br><span class="line">等同于</span><br><span class="line">&lt;input type=<span class="string">"text"</span> v-bind:value=<span class="string">"message"</span> v-on:input=<span class="string">"message = $event.target.value"</span>&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="v-model-radio"><a href="#v-model-radio" class="headerlink" title="v-model:radio"></a>v-model:radio</h4><ul>
<li>用于多个单选框</li>
</ul>
<img src="/2020/06/10/Vue/Vuejs/v-model-radio.png" style="zoom:75%;">

<h4 id="v-model-checkbox"><a href="#v-model-checkbox" class="headerlink" title="v-model:checkbox"></a>v-model:checkbox</h4><ul>
<li>单个勾选框：<ul>
<li>v-model即为布尔值.</li>
<li>此时input的value并不影响v-model的值。</li>
</ul>
</li>
<li>多个复选框：<ul>
<li>当是多个复选框时，因为可以选中多个，所以对应的data中属性是一个数组。</li>
<li>当选中某一个时，就会将input的value添加到数组中。</li>
</ul>
</li>
</ul>
<img src="/2020/06/10/Vue/Vuejs/v-model-checkbox.png" style="zoom:75%;">

<img src="/2020/06/10/Vue/Vuejs/v-model=checkbox-1.png" style="zoom:75%;">

<h4 id="v-model-select"><a href="#v-model-select" class="headerlink" title="v-model:select"></a>v-model:select</h4><ul>
<li>单选：<ul>
<li>只能选中一个值。</li>
<li>v-model绑定的是一个值。</li>
<li>当我们选中option中的一个时，会将它对应的value赋值到mySelect中</li>
</ul>
</li>
<li>多选：可以选中多个值。<ul>
<li>v-model绑定的是一个数组。</li>
<li>当选中多个值时，就会将选中的option对应的value添加到数组mySelects中</li>
</ul>
</li>
</ul>
<img src="/2020/06/10/Vue/Vuejs/v-model-select-1.png" style="zoom:80%;">

<img src="/2020/06/10/Vue/Vuejs/v-model-select-2.png" style="zoom:80%;">

<img src="/2020/06/10/Vue/Vuejs/v-model-select-3.png" style="zoom:80%;">

<h4 id="v-model修饰符"><a href="#v-model修饰符" class="headerlink" title="v-model修饰符"></a>v-model修饰符</h4><ul>
<li>lazy修饰符：<ul>
<li>默认情况下，v-model默认是在input事件中同步输入框的数据的。</li>
<li>也就是说，一旦有数据发生改变对应的data中的数据就会自动发生改变。</li>
<li>lazy修饰符可以让数据在失去焦点或者回车时才会更新：</li>
</ul>
</li>
<li>number修饰符：<ul>
<li>默认情况下，在输入框中无论我们输入的是字母还是数字，都会被当做字符串类型进行处理。</li>
<li>但是如果我们希望处理的是数字类型，那么最好直接将内容当做数字处理。</li>
<li>number修饰符可以让在输入框中输入的内容自动转成数字类型：</li>
</ul>
</li>
<li>trim修饰符：<ul>
<li>如果输入的内容首尾有很多空格，通常我们希望将其去除</li>
<li>trim修饰符可以过滤内容左右两边的空格</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">v-model.lazy=<span class="string">"message"</span></span><br><span class="line">v-model.number=<span class="string">"message"</span></span><br><span class="line">v-model.trim=<span class="string">"message"</span></span><br></pre></td></tr></table></figure>

<h2 id="9本地存储"><a href="#9本地存储" class="headerlink" title="9本地存储"></a>9本地存储</h2><ul>
<li>存: 任何位置直接使用</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">localStorage.islogn = <span class="string">'xxxx'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cartListString = <span class="built_in">JSON</span>.stringify(cartList) <span class="comment">// 将对象转换为字符串， 因为本地缓存不能存储对象</span></span><br><span class="line">localStorage.cartList = cartListString</span><br></pre></td></tr></table></figure>

<ul>
<li>取： 任何位置直接使用</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> islogn localStorage.islogn</span><br><span class="line">或者</span><br><span class="line"><span class="keyword">const</span> &#123; isLogin &#125; = localStorage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.parse(localStorage.cartList) <span class="comment">// 将字符串转换为d</span></span><br></pre></td></tr></table></figure>



<h1 id="三、Vue组件化开发"><a href="#三、Vue组件化开发" class="headerlink" title="三、Vue组件化开发"></a>三、Vue组件化开发</h1><h2 id="1-组件化开发基础内容"><a href="#1-组件化开发基础内容" class="headerlink" title="1 组件化开发基础内容"></a>1 组件化开发基础内容</h2><p><img src="/2020/06/10/Vue/Vuejs/image-20210727192610905.png" alt></p>
<h3 id="1-1-注册组件"><a href="#1-1-注册组件" class="headerlink" title="1.1 注册组件"></a>1.1 注册组件</h3><ol>
<li>创建组件构造器</li>
</ol>
<ul>
<li><code>Vue.extend()</code><ul>
<li>传入自定义组件的模板 <code>template</code></li>
<li>Vue2.x后这种写法就不再使用</li>
</ul>
</li>
</ul>
<ol start="2">
<li>注册组件</li>
</ol>
<ul>
<li><code>Vue.component()</code><ul>
<li>将组件构造器注册为一个组件，并且给它起一个组件的标签名称。</li>
<li>传递两个参数：1、注册组件的标签名 2、组件构造器</li>
</ul>
</li>
</ul>
<ol start="3">
<li>使用组件<ul>
<li>组件必须挂载在Vue实例下</li>
</ul>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- <span class="number">3</span> 使用组件 --&gt;</span><br><span class="line">    &lt;m-cpn&gt;&lt;<span class="regexp">/m-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line"> &lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"> &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/  1 创建组件构造器</span></span><br><span class="line"><span class="regexp">    const myComponent = Vue.extend(&#123;</span></span><br><span class="line"><span class="regexp">        template: `</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;h2&gt;组件标题&lt;/</span>h2&gt;</span><br><span class="line">                &lt;p&gt;我是组件内容&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        <span class="string">`</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">    // 2 注册组件  并定义组件标签的名称</span></span><br><span class="line"><span class="string">    Vue.component('m-cpn', myComponent)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">     const app = new Vue(&#123;</span></span><br><span class="line"><span class="string">         el:'#app'</span></span><br><span class="line"><span class="string">     &#125;)</span></span><br><span class="line"><span class="string"> &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="1-2-全局组件与局部组件"><a href="#1-2-全局组件与局部组件" class="headerlink" title="1.2 全局组件与局部组件"></a>1.2 全局组件与局部组件</h3><ol>
<li>全局组件</li>
</ol>
<ul>
<li>调用Vue.component()注册组件时，组件的注册是全局的。通该方法注册的组件可以在任意Vue实例下使用。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app1、app2两个实例都可以使用这个组件</span></span><br><span class="line">&lt;div id=<span class="string">"app1"</span>&gt;</span><br><span class="line">    &lt;!-- <span class="number">3</span> 使用组件 --&gt;</span><br><span class="line">    &lt;m-cpn&gt;&lt;<span class="regexp">/m-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line">&lt;div id=<span class="string">"app2"</span>&gt;</span><br><span class="line">    &lt;!-- <span class="number">3</span> 使用组件 --&gt;</span><br><span class="line">    &lt;m-cpn&gt;&lt;<span class="regexp">/m-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line"> &lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"> &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/  1 创建组件构造器</span></span><br><span class="line"><span class="regexp">    const myComponent = Vue.extend(&#123;</span></span><br><span class="line"><span class="regexp">        template: `</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;h2&gt;组件标题&lt;/</span>h2&gt;</span><br><span class="line">                &lt;p&gt;我是组件内容&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        <span class="string">`</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">    // 2 注册组件  并定义组件标签的名称</span></span><br><span class="line"><span class="string">    Vue.component('m-cpn', myComponent)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">     const app1 = new Vue(&#123;</span></span><br><span class="line"><span class="string">         el:'#app1'</span></span><br><span class="line"><span class="string">     &#125;)</span></span><br><span class="line"><span class="string">     </span></span><br><span class="line"><span class="string"> 	 const app2 = new Vue(&#123;</span></span><br><span class="line"><span class="string">         el:'#app2'</span></span><br><span class="line"><span class="string">     &#125;)</span></span><br><span class="line"><span class="string"> &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>局部组件</li>
</ol>
<ul>
<li>若组件是在某个Vue实例中注册的，那么这个组件是局部组件，只能在这个Vue实例中使用。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app1可以使用这个组件   app2不会渲染出该组件</span></span><br><span class="line">&lt;div id=<span class="string">"app1"</span>&gt;</span><br><span class="line">    &lt;!-- <span class="number">3</span> 使用组件 --&gt;</span><br><span class="line">    &lt;m-cpn&gt;&lt;<span class="regexp">/m-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line">&lt;div id=<span class="string">"app2"</span>&gt;</span><br><span class="line">    &lt;!-- <span class="number">3</span> 使用组件 --&gt;</span><br><span class="line">    &lt;m-cpn&gt;&lt;<span class="regexp">/m-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line"> &lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"> &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/  1 创建组件构造器</span></span><br><span class="line"><span class="regexp">    const myComponent = Vue.extend(&#123;</span></span><br><span class="line"><span class="regexp">        template: `</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;h2&gt;组件标题&lt;/</span>h2&gt;</span><br><span class="line">                &lt;p&gt;我是组件内容&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        <span class="string">`</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">     const app1 = new Vue(&#123;</span></span><br><span class="line"><span class="string">         el:'#app1',</span></span><br><span class="line"><span class="string">         components: &#123;</span></span><br><span class="line"><span class="string">             'my-cpn': myComponent   // 2 注册组件  并定义组件标签的名称</span></span><br><span class="line"><span class="string">         &#125;</span></span><br><span class="line"><span class="string">     &#125;)</span></span><br><span class="line"><span class="string">     </span></span><br><span class="line"><span class="string"> 	 const app2 = new Vue(&#123;</span></span><br><span class="line"><span class="string">         el:'#app2'</span></span><br><span class="line"><span class="string">     &#125;)</span></span><br><span class="line"><span class="string"> &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="1-3-父组件与子组件"><a href="#1-3-父组件与子组件" class="headerlink" title="1.3 父组件与子组件"></a>1.3 父组件与子组件</h3><ul>
<li>传入组件构造器可以有： 模板<code>template</code>,还可以注册子组件<code>components</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- <span class="number">3</span> 使用组件 --&gt;</span><br><span class="line">    &lt;parent-cpn&gt;&lt;<span class="regexp">/parent-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line"> &lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"> &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/  1 创建子组件构造器</span></span><br><span class="line"><span class="regexp">    const myComponent1 = Vue.extend(&#123;</span></span><br><span class="line"><span class="regexp">        template: `</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;h2&gt;我是子组件&lt;/</span>h2&gt;</span><br><span class="line">                &lt;p&gt;我是子组件内容&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        <span class="string">`</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">    //  2 创建父组件构造器</span></span><br><span class="line"><span class="string">    const myComponent2 = Vue.extend(&#123;</span></span><br><span class="line"><span class="string">        template: `</span></span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;h2&gt;我是父组件&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">                &lt;p&gt;我是父组件内容&lt;/</span>p&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        `,</span></span><br><span class="line"><span class="regexp">        components: &#123;</span></span><br><span class="line"><span class="regexp">            'child-cpn': myComponent1   /</span><span class="regexp">/父组件中注册子组件</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">     const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">         el:'#app',</span></span><br><span class="line"><span class="regexp">         components: &#123;</span></span><br><span class="line"><span class="regexp">            'parent-cpn': myComponent2   /</span><span class="regexp">/Vue实例中注册父组件</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">     &#125;)</span></span><br><span class="line"><span class="regexp"> &lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-注册组件语法糖"><a href="#1-4-注册组件语法糖" class="headerlink" title="1.4 注册组件语法糖"></a>1.4 注册组件语法糖</h3><ol>
<li>注册全局组件语法糖</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'m-cpn'</span>, &#123;</span><br><span class="line">    template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">            &lt;h2&gt;组件标题&lt;/h2&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;我是组件内容&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>注册局部组件语法糖</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">'#app'</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">       <span class="string">'parent-cpn'</span>: &#123;</span><br><span class="line">           template: <span class="string">`</span></span><br><span class="line"><span class="string">               &lt;div&gt;</span></span><br><span class="line"><span class="string">                   &lt;h2&gt;组件标题&lt;/h2&gt;</span></span><br><span class="line"><span class="string">                   &lt;p&gt;我是组件内容&lt;/p&gt;</span></span><br><span class="line"><span class="string">               &lt;/div&gt;</span></span><br><span class="line"><span class="string">           `</span> </span><br><span class="line">       &#125;  </span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="1-5-模板分离写法"><a href="#1-5-模板分离写法" class="headerlink" title="1.5 模板分离写法"></a>1.5 模板分离写法</h3><ol>
<li>使用<code>&lt;script&gt;</code>标签实现</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 使用组件 --&gt;</span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;m-cpn&gt;&lt;<span class="regexp">/m-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line"> &lt;!-- 组件模板 --&gt;</span><br><span class="line"> &lt;script type=<span class="string">"text/x-template"</span> id=<span class="string">"myCpn"</span>&gt;</span><br><span class="line">     &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;组件标题&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">        &lt;p&gt;我是组件内容&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>script&gt;</span><br><span class="line"> &lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"> &lt;!-- Vue实例 --&gt;</span></span><br><span class="line"><span class="regexp"> &lt;script&gt;</span></span><br><span class="line"><span class="regexp">     const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">         el:'#app',</span></span><br><span class="line"><span class="regexp">         components: &#123;</span></span><br><span class="line"><span class="regexp">            'm-cpn': &#123;</span></span><br><span class="line"><span class="regexp">                template: '#myCpn'</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">         &#125;</span></span><br><span class="line"><span class="regexp">     &#125;)</span></span><br><span class="line"><span class="regexp"> &lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用<code>&lt;template&gt;</code>标签实现</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 使用组件 --&gt;</span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;m-cpn&gt;&lt;<span class="regexp">/m-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line"> &lt;!-- 组件模板 --&gt;</span><br><span class="line"> &lt;template id=<span class="string">"myCpn"</span>&gt;</span><br><span class="line">     &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;组件标题&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">        &lt;p&gt;我是组件内容&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"> &lt;!-- Vue实例 --&gt;</span></span><br><span class="line"><span class="regexp"> &lt;script&gt;</span></span><br><span class="line"><span class="regexp">     const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">         el:'#app',</span></span><br><span class="line"><span class="regexp">         components: &#123;</span></span><br><span class="line"><span class="regexp">            'm-cpn': &#123;</span></span><br><span class="line"><span class="regexp">                template: '#myCpn'</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">         &#125;</span></span><br><span class="line"><span class="regexp">     &#125;)</span></span><br><span class="line"><span class="regexp"> &lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-组件数据存储"><a href="#1-6-组件数据存储" class="headerlink" title="1.6 组件数据存储"></a>1.6 组件数据存储</h3><ul>
<li><strong>data在组件中必须是一个函数</strong><ul>
<li>因为组件会在多个位置使用，若data是对象形式，那么多个使用的位置就会指向同一个数据内存地址，一个位置修改数据，其他地方也会发生改变，导致组件相互影响，不能单独使用。若data是函数形式，在多个位置使用该组件时，会data函数会返回一个属于使用时组件自己的数据存储地址，使得组件使用是隔离的，不会互相影响。</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用组件 </span></span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;m-cpn&gt;&lt;<span class="regexp">/m-cpn&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 组件模板 </span></span><br><span class="line"> &lt;template id=<span class="string">"myCpn"</span>&gt;</span><br><span class="line">     &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;组件标题&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">        &lt;p&gt;我是组件内容&lt;/</span>p&gt;</span><br><span class="line">		&lt;p&gt;&#123;&#123;message&#125;&#125;&lt;<span class="regexp">/p&gt;    </span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line"> &lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"> &lt;script src="../</span>js/vue.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> // Vue实例 </span></span><br><span class="line"><span class="string"> &lt;script&gt;</span></span><br><span class="line"><span class="string">     const app = new Vue(&#123;</span></span><br><span class="line"><span class="string">         el:'#app',</span></span><br><span class="line"><span class="string">         components: &#123;</span></span><br><span class="line"><span class="string">            'm-cpn': &#123;</span></span><br><span class="line"><span class="string">                template: '#myCpn',</span></span><br><span class="line"><span class="string">                data()&#123;</span></span><br><span class="line"><span class="string">                    return &#123;</span></span><br><span class="line"><span class="string">                        message: '我是组件数据'</span></span><br><span class="line"><span class="string">                    &#125;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">         &#125;</span></span><br><span class="line"><span class="string">     &#125;)</span></span><br><span class="line"><span class="string"> &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="2-父子间通信"><a href="#2-父子间通信" class="headerlink" title="2 父子间通信"></a>2 父子间通信</h2><h3 id="2-1-父级向子级传递"><a href="#2-1-父级向子级传递" class="headerlink" title="2.1 父级向子级传递"></a>2.1 父级向子级传递</h3><ul>
<li><p>在组件中，使用选项<code>props</code>来声明需要从父级接收到的数据。</p>
</li>
<li><p><code>props</code>的两种写法</p>
<ul>
<li>1 <code>props: {数据名： 数据类型声明}</code></li>
<li>2 <code>props: {数据名： {type：数据类型声明, default: 该数据默认值 }}</code></li>
</ul>
</li>
<li><p>注意：</p>
<ul>
<li><p>数据可以有多个类型： <code>props: {message: [string, Number]}</code></p>
</li>
<li><p>对象和数组默认值必须是函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  cInfo: &#123;</span><br><span class="line">    type: <span class="built_in">Object</span>,</span><br><span class="line">    <span class="keyword">default</span>() &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>案例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">  &lt;cpn :c-info=<span class="string">"info"</span> &gt;&lt;<span class="regexp">/cpn&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">&lt;template id=<span class="string">"cpn"</span>&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;cInfo&#125;&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">    &lt;h2&gt;&#123;&#123;childMyMessage&#125;&#125;&lt;/</span>h2&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=<span class="string">"../js/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">  const cpn = &#123;</span></span><br><span class="line"><span class="regexp">    template: '#cpn',</span></span><br><span class="line"><span class="regexp">    props: &#123;</span></span><br><span class="line"><span class="regexp">      cInfo: &#123;</span></span><br><span class="line"><span class="regexp">        type: Object,</span></span><br><span class="line"><span class="regexp">        default() &#123;</span></span><br><span class="line"><span class="regexp">          return &#123;&#125;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  const app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">    el: '#app',</span></span><br><span class="line"><span class="regexp">    data: &#123;</span></span><br><span class="line"><span class="regexp">      info: &#123;</span></span><br><span class="line"><span class="regexp">        name: 'why',</span></span><br><span class="line"><span class="regexp">        age: 18,</span></span><br><span class="line"><span class="regexp">        height: 1.88</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    components: &#123;</span></span><br><span class="line"><span class="regexp">      cpn</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;)</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="2-2-子级向父级传递"><a href="#2-2-子级向父级传递" class="headerlink" title="2.2 子级向父级传递"></a>2.2 子级向父级传递</h3><p><strong>通过自定义事件实现子级向父级传递数据和事件</strong></p>
<ul>
<li><p>自定义事件流程：</p>
<ul>
<li><p>1 在子组件中，通过$emit()来触发事件。（出发事件 同时可将数据传递出去）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$emit(<span class="string">'自定义事件名'</span>，数据)</span><br></pre></td></tr></table></figure>
</li>
<li><p>2 在父组件中，通过v-on来监听子组件事件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父组件中 </span></span><br><span class="line"><span class="comment">// &lt;cpn&gt;为子组件</span></span><br><span class="line">&lt;cpn @自定义事件名=<span class="string">"cpnClick"</span>&gt;&lt;<span class="regexp">/cpn&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>案例：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--父组件模板--&gt;</span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">  &lt;cpn @item-click=<span class="string">"cpnClick"</span>&gt;&lt;<span class="regexp">/cpn&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--子组件模板--&gt;</span><br><span class="line">&lt;template id=<span class="string">"cpn"</span>&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button v-<span class="keyword">for</span>=<span class="string">"item in categories"</span></span><br><span class="line">            @click=<span class="string">"btnClick(item)"</span>&gt;</span><br><span class="line">      &#123;&#123;item.name&#125;&#125;</span><br><span class="line">    &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script src="../</span>js/vue.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // 1.子组件</span></span><br><span class="line"><span class="string">  const cpn = &#123;</span></span><br><span class="line"><span class="string">    template: '#cpn',</span></span><br><span class="line"><span class="string">    data() &#123;</span></span><br><span class="line"><span class="string">      return &#123;</span></span><br><span class="line"><span class="string">        categories: [</span></span><br><span class="line"><span class="string">          &#123;id: 'aaa', name: '热门推荐'&#125;,</span></span><br><span class="line"><span class="string">          &#123;id: 'bbb', name: '手机数码'&#125;,</span></span><br><span class="line"><span class="string">          &#123;id: 'ccc', name: '家用家电'&#125;,</span></span><br><span class="line"><span class="string">          &#123;id: 'ddd', name: '电脑办公'&#125;,</span></span><br><span class="line"><span class="string">        ]</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    methods: &#123;</span></span><br><span class="line"><span class="string">      btnClick(item) &#123;</span></span><br><span class="line"><span class="string">        // 发射事件: 自定义事件</span></span><br><span class="line"><span class="string">        this.$emit('item-click', item)</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // 2.父组件</span></span><br><span class="line"><span class="string">  const app = new Vue(&#123;</span></span><br><span class="line"><span class="string">    el: '#app',</span></span><br><span class="line"><span class="string">    data: &#123;</span></span><br><span class="line"><span class="string">      message: '你好啊'</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    components: &#123;</span></span><br><span class="line"><span class="string">      cpn</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    methods: &#123;</span></span><br><span class="line"><span class="string">      cpnClick(item) &#123;</span></span><br><span class="line"><span class="string">        console.log('cpnClick', item);</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-父子组件的直接访问"><a href="#3-父子组件的直接访问" class="headerlink" title="3 父子组件的直接访问"></a>3 父子组件的直接访问</h2><h3 id="3-1-父访问子"><a href="#3-1-父访问子" class="headerlink" title="3.1 父访问子"></a>3.1 父访问子</h3><h4 id="3-1-1-children"><a href="#3-1-1-children" class="headerlink" title="3.1.1 $children"></a>3.1.1 $children</h4><p><strong>语法:</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回值为数组  拿到当前组件的所有子组件</span></span><br><span class="line"><span class="keyword">this</span>.$children</span><br><span class="line"></span><br><span class="line"><span class="comment">//以索引值拿到特定的子组件</span></span><br><span class="line"><span class="keyword">this</span>.$children[i]</span><br><span class="line"></span><br><span class="line"><span class="comment">//拿到特定组件后可以：1获取、修改子组件的数据  2调用子组件的方法 等</span></span><br><span class="line"><span class="keyword">this</span>.$children[i].属性</span><br><span class="line"><span class="keyword">this</span>.$children[i].方法</span><br></pre></td></tr></table></figure>

<p><strong>$children的缺陷</strong></p>
<ul>
<li><p>但是当子组件过多，我们需要拿到其中一个时，往往不能确定它的索引值，甚至还可能会发生变化。</p>
</li>
<li><p>需要快速且明确获取其中一个特定的组件，这个时候就可以使用$refs</p>
</li>
</ul>
<h4 id="3-1-2-refs"><a href="#3-1-2-refs" class="headerlink" title="3.1.2 $refs"></a>3.1.2 $refs</h4><p><strong>语法：</strong></p>
<ul>
<li><p>$refs和ref指令配合使用</p>
</li>
<li><p>1 通过ref给某一个子组件绑定一个特定的ID。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child-cpn</span> <span class="attr">ref</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">child-cpn</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>2 通过this.$refs.ID就可以访问到该组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$refs.child.属性/方法</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-2-子访问父"><a href="#3-2-子访问父" class="headerlink" title="3.2 子访问父"></a>3.2 子访问父</h3><h4 id="3-2-1-parent"><a href="#3-2-1-parent" class="headerlink" title="3.2.1 $parent"></a>3.2.1 $parent</h4><p><strong>语法：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在子组件中  使用先的语法可以拿到父组件  </span></span><br><span class="line"><span class="keyword">this</span>.$parent</span><br><span class="line"></span><br><span class="line"><span class="comment">//拿到特父组件后可以：1获取、修改父组件的数据  2调用父组件的方法 等</span></span><br><span class="line"><span class="keyword">this</span>.$parent.属性</span><br><span class="line"><span class="keyword">this</span>.$parent.方法</span><br></pre></td></tr></table></figure>

<ul>
<li>不建议使用该方式操作父组件数据  因为这样会提高耦合度  容易引起一些问题  也不便于维护</li>
</ul>
<h4 id="3-2-2-root"><a href="#3-2-2-root" class="headerlink" title="3.2.2 $root"></a>3.2.2 $root</h4><ul>
<li><p><code>$root</code>可以在子组件中直接访问根组件也就是Vue对象，可以访问Vue对象下的数据和方法</p>
</li>
<li><p>语法: </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$root</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-3-非父子访问"><a href="#3-3-非父子访问" class="headerlink" title="3.3 非父子访问"></a>3.3 非父子访问</h3><ul>
<li>非父子组件关系包括多个层级的组件，也包括兄弟组件的关系。</li>
</ul>
<h4 id="3-3-1-中央事件总线"><a href="#3-3-1-中央事件总线" class="headerlink" title="3.3.1 中央事件总线"></a>3.3.1 中央事件总线</h4><p><strong>事件总线类似于Vuex， 只是Vuex用于管理状态， 事件总线用于管理事件</strong></p>
<p><strong>应用场景：</strong></p>
<ul>
<li>相隔一个或多个组件的两个组件之间的通信</li>
</ul>
<p><strong>使用：</strong></p>
<ul>
<li>main.js中新建Vue实例作为事件总线: <code>Vue.prototype.$bus = new Vue()</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$bus &#x3D; new Vue()</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  render: h &#x3D;&gt; h(App),</span><br><span class="line">&#125;).$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>

<ul>
<li>组件发出全局事件：  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$bus.$emit(&#39;发出事件名&#39;，参数)</span><br></pre></td></tr></table></figure>

<ul>
<li>组件监听全局事件：（一般在生命周期函数总监听）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$bus.$on(&#39;发出事件名&#39;, (参数) &#x3D;&gt; &#123;</span><br><span class="line"> &#x2F;&#x2F;处理事件       </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>组件取消全局事件的监听<ul>
<li>注意在<strong>组件销毁的生命周期函数(beforeDestory)</strong>中执行取消该组件自定义的全局事件</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$bus.$off(&#39;发出事件名&#39;, 函数名)   &#x2F;&#x2F;函数名：需要取消事件监听的函数</span><br></pre></td></tr></table></figure>

<h2 id="4-插槽"><a href="#4-插槽" class="headerlink" title="4 插槽"></a>4 插槽</h2><blockquote>
<p><a href="https://cn.vuejs.org/v2/guide/components-slots.html" target="_blank" rel="noopener">插槽官网教程</a></p>
</blockquote>
<ul>
<li>基本使用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;Son &gt;&#x2F;&#x2F;子组件</span><br><span class="line">            &lt;div&gt;&#123;&#123;值&#125;&#125;&lt;&#x2F;div&gt;&#x2F;&#x2F;放入插槽的内容</span><br><span class="line">        &lt;&#x2F;Son&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;a&gt;</span><br><span class="line">        &lt;slot&gt;</span><br><span class="line">            默认值显示当前这行话 ，即父组件不传内容时显示</span><br><span class="line">        &lt;&#x2F;slot&gt;</span><br><span class="line">    &lt;&#x2F;a&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>作用域插槽<ul>
<li>父组件可以拿到子组件data中的值并将该值作为插入的一部分插入</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;Son &gt;&#x2F;&#x2F;子组件</span><br><span class="line">             &lt;template v-slot&#x3D;&quot;slotProps&quot;&gt;&#x2F;&#x2F;自定义名</span><br><span class="line">                 &#x2F;&#x2F;此时的slotProps.slotData及指向了子组件data的website对象并可访问</span><br><span class="line">                &#123;&#123;slotProps.slotData.title&#125;&#125;&#x2F;&#x2F;slotData子组件中定义，title子组件data中属性</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line">        &lt;&#x2F;Son&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;a&gt;</span><br><span class="line">        &lt;slot :slotData&#x3D;&quot;website&quot;&gt;&#x2F;&#x2F;父组件可以通过slotData拿到data中的website对象</span><br><span class="line">            &#123;&#123;website.subTitle&#125;&#125; &lt;!-- 默认值显示 subTitle ，即父组件不传内容时 --&gt;</span><br><span class="line">        &lt;&#x2F;slot&gt;</span><br><span class="line">    &lt;&#x2F;a&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            website: &#123;</span><br><span class="line">                url: &#39;http:&#x2F;&#x2F;wangEditor.com&#x2F;&#39;,</span><br><span class="line">                title: &#39;wangEditor&#39;,</span><br><span class="line">                subTitle: &#39;轻量级富文本编辑器&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>具名插槽<ul>
<li>当有多个插槽时便于区分</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;Son &gt;&#x2F;&#x2F;子组件</span><br><span class="line">            &lt;!--缩写&lt;template #header&gt; --&gt;</span><br><span class="line">            &lt;template v-slot:header&gt;</span><br><span class="line">                &lt;h1&gt;将插入header slot中&lt;&#x2F;h1&gt;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">            &lt;p&gt;将插入到main slot 中，即未命名的slot&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">            &lt;template v-slot:footer&gt;</span><br><span class="line">                &lt;p&gt;将插入到footer slot中&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line">        &lt;&#x2F;Son&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;header&gt;</span><br><span class="line">            &lt;slot name&#x3D;&quot;header&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">        &lt;&#x2F; header&gt;</span><br><span class="line">        &lt;main&gt;</span><br><span class="line">            &lt;slot&gt;&lt;&#x2F;slot&gt;&#x2F;&#x2F;默认插入位置</span><br><span class="line">        &lt;&#x2F; main&gt;</span><br><span class="line">        &lt;footer&gt;</span><br><span class="line">            &lt;slot name&#x3D;&quot;footer&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">        &lt;&#x2F;footer&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>











<h3 id="脚手架3中-配置文件别名"><a href="#脚手架3中-配置文件别名" class="headerlink" title="脚手架3中 配置文件别名"></a>脚手架3中 配置文件别名</h3><ol>
<li>在根目录下新建vue.config.js</li>
</ol>
<ul>
<li>‘@’表示： ‘src’</li>
<li>alias下配置别名</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;vue.config.js</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    configureWebpack:&#123;</span><br><span class="line">        resolve: &#123;</span><br><span class="line">            alias: &#123;</span><br><span class="line">                &#39;assets&#39;: &#39;@&#x2F;assets&#39;,</span><br><span class="line">                &#39;common&#39;: &#39;@&#x2F;common&#39;,</span><br><span class="line">                &#39;components&#39;: &#39;@&#x2F;components&#39;,</span><br><span class="line">                &#39;network&#39;: &#39;@&#x2F;network&#39;,</span><br><span class="line">                &#39;store&#39;: &#39;@&#x2F;store&#39;,</span><br><span class="line">                &#39;views&#39;: &#39;@&#x2F;views&#39;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="混入"><a href="#混入" class="headerlink" title="混入"></a>混入</h3><p><strong>混入提供了一种将组件中共有的部分抽离实现可复用的功能。组件中的任何部分都可抽离（data,methods,生命周期函数等）</strong></p>
<p><strong>定义：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const mixin &#x3D; &#123;</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      message: &#39;hello&#39;,</span><br><span class="line">      foo: &#39;abc&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created: function () &#123;</span><br><span class="line">    this.hello()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    hello: function () &#123;</span><br><span class="line">      console.log(&#39;hello from mixin!&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>使用：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;app对象中就包含了 mixin对象中的data、methods、生命周期函数</span><br><span class="line">const app &#x3D; new Vue(&#123;</span><br><span class="line">  mixins: [mixin],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>混入规则：</strong></p>
<ul>
<li>1 data(数据)合并冲突  以组件数据优先</li>
<li>2  同名钩子函数将合并为一个数组，因此都将被调用。另外，混入对象的钩子将在组件自身钩子<strong>之前</strong>调用。</li>
<li>3  值为对象的选项，例如 <code>methods</code>、<code>components</code> 和 <code>directives</code>，将被合并为同一个对象。两个对象键名冲突时，取组件对象的键值对。  </li>
</ul>
<h3 id="getters方法-gt-组件计算属性"><a href="#getters方法-gt-组件计算属性" class="headerlink" title="getters方法-&gt;组件计算属性"></a>getters方法-&gt;组件计算属性</h3><p>将vuex中的getter中的方法直接转化成组件的计算属性</p>
<p><strong>store定义：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//state</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  cartList: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//getters.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  cartLength(state)&#123;</span><br><span class="line">    <span class="keyword">return</span> state.cartList.length</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>使用：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">computed: &#123;</span><br><span class="line">  <span class="comment">//1 不改别名用法</span></span><br><span class="line">  ...mapGetters([<span class="string">'cartLength'</span>]),</span><br><span class="line">  <span class="comment">//2 改别名用法</span></span><br><span class="line">  ...mapGetters(&#123;</span><br><span class="line">    length: <span class="string">'cartLength'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//html</span></span><br><span class="line">&lt;p&gt;&#123;&#123;cartLength&#125;&#125;&lt;<span class="regexp">/p&gt;  /</span><span class="regexp">/1 不改别名用法</span></span><br><span class="line"><span class="regexp">&lt;p&gt;&#123;&#123;length&#125;&#125;&lt;/</span>p&gt;      <span class="comment">//2 改别名用法</span></span><br></pre></td></tr></table></figure>



<h3 id="actions方法-gt-组件方法"><a href="#actions方法-gt-组件方法" class="headerlink" title="actions方法-&gt;组件方法"></a>actions方法-&gt;组件方法</h3><p>将vuex中的actions中的方法直接转化成组件的方法中的方法</p>
<ul>
<li><strong>注意：actions可以返回promise</strong></li>
</ul>
<p><strong>store定义：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//actions.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  addCart(context, payload)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(...)&#123;</span><br><span class="line">        resolve(<span class="string">'成功'</span>)</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        resolve(<span class="string">'成功'</span>)</span><br><span class="line">      &#125;  </span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>使用：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapActions &#125;  <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">methods: &#123;</span><br><span class="line">  <span class="comment">//1 不改别名用法</span></span><br><span class="line">  ...mapActions([<span class="string">'addCart'</span>])	</span><br><span class="line">  <span class="comment">//2 改别名用法</span></span><br><span class="line">  ...mapActions(&#123;</span><br><span class="line">    add: <span class="string">'addCart'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line"><span class="comment">//原始调用</span></span><br><span class="line"><span class="keyword">this</span>.$store.dispatch(<span class="string">'addCart'</span>, cart).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//引入后调用</span></span><br><span class="line"><span class="keyword">this</span>.addCart(cart).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>





<h2 id="零碎知识点"><a href="#零碎知识点" class="headerlink" title="零碎知识点"></a>零碎知识点</h2><ul>
<li>拿到组件的元素<code>$el</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;例：获取scroll组件到顶部的距离</span><br><span class="line">this.$refs.scroll.$el.offsetTop</span><br></pre></td></tr></table></figure>



<h1 id="四、Vue3"><a href="#四、Vue3" class="headerlink" title="四、Vue3"></a>四、Vue3</h1><blockquote>
<p>源码：L264-code</p>
</blockquote>
<h2 id="不熟悉的特性"><a href="#不熟悉的特性" class="headerlink" title="不熟悉的特性"></a>不熟悉的特性</h2><h3 id="Non-Props"><a href="#Non-Props" class="headerlink" title="Non-Props"></a>Non-Props</h3><blockquote>
<p><a href="https://v3.cn.vuejs.org/guide/component-attrs.html" target="_blank" rel="noopener">非 Prop 的 Attribute</a></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>lesson 17<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/vue@next"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">// Non-prop 属性</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> app = Vue.createApp(&#123;</span></span><br><span class="line">    template: `</span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">counter</span> <span class="attr">msg</span>=<span class="string">"hello"</span> <span class="attr">msg1</span>=<span class="string">"hello1"</span> @<span class="attr">update</span>=<span class="string">"change"</span>/&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">counter1</span> <span class="attr">msg</span>=<span class="string">"hello"</span> <span class="attr">msg1</span>=<span class="string">"hello1"</span> /&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">    `,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      change()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'update'</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  app.component(<span class="string">'counter'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// inheritAttrs: false,</span></span></span><br><span class="line">    mounted() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$attrs.msg);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$attrs)</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">this</span>.$attrs.onUpdate()  <span class="comment">//事件也可通过Non-Pro的方式传入子组件并调用,注意要加onXxxx()调用</span></span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="actionscript">    <span class="comment">// 子组件的根元素是多元素时，父组件传入的Non-Prop属性不会自动添加到根元素上</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 需要指定Non-Prop属性绑定到哪个元素上</span></span></span><br><span class="line">    template: `</span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:msg</span>=<span class="string">"$attrs.msg"</span>&gt;</span>Counter<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind</span>=<span class="string">"$attrs"</span>&gt;</span>Counter<span class="tag">&lt;/<span class="name">div</span>&gt;</span> //所有属性都绑定到该元素上</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:msg1</span>=<span class="string">"$attrs.msg1"</span>&gt;</span>Counter<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">    `</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  app.component(<span class="string">'counter1'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// inheritAttrs: false, //不接受父元素传入的Non-Prop属性自动绑定再g</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 子组件的根元素是单元素时，父组件传入的Non-Prop属性会自动添加到根元素上</span></span></span><br><span class="line">    template: `</span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>Counter<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">    `</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> vm = app.mount(<span class="string">'#root'</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-model-1"><a href="#v-model-1" class="headerlink" title="v-model"></a>v-model</h3><blockquote>
<p>自定义组件上使用v-model</p>
<p><a href="https://v3.cn.vuejs.org/guide/component-custom-events.html#v-model-%E5%8F%82%E6%95%B0" target="_blank" rel="noopener">v-model作用于子组件</a> —- 直接参考官方文档</p>
<ul>
<li>默认写法，单个v-model</li>
<li>多个绑定，多个v-model</li>
<li>处理v-model修饰符</li>
</ul>
</blockquote>
<ul>
<li>下面案例即默认情况</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">v-model</span>=<span class="string">"bookTitle"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">app.component(&#39;my-component&#39;, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    modelValue: String</span><br><span class="line">  &#125;,</span><br><span class="line">  emits: [&#39;update:title&#39;],</span><br><span class="line">  template: &#96;</span><br><span class="line">    &lt;input</span><br><span class="line">      type&#x3D;&quot;text&quot;</span><br><span class="line">      :value&#x3D;&quot;modelValue&quot;</span><br><span class="line">      @input&#x3D;&quot;$emit(&#39;update:modelValue&#39;, $event.target.value)&quot;&gt;</span><br><span class="line">  &#96;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>关键有两点<ul>
<li><code>:value=&quot;modelValue&quot;</code>  绑定传入的属性</li>
<li><code>@input=&quot;$emit(&#39;update:modelValue&#39;, $event.target.value)&quot;</code>  内容修改时传出修改的内容</li>
</ul>
</li>
<li>自定义组件响应式案例<ul>
<li>实现输入框内容在组件内是双向绑定的，且与外部的变量也是双向绑定的，主要利用了computed的get和set函数</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;pb-3&quot;&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      v-model&#x3D;&quot;inputRef.val&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent, reactive, computed &#125; from &#39;vue&#39;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &#39;ValidateInput&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    modelValue: String</span><br><span class="line">  &#125;,</span><br><span class="line">  setup (props, context) &#123;</span><br><span class="line">    const inputRef &#x3D; reactive(&#123;</span><br><span class="line">      val: computed(&#123;</span><br><span class="line">        get: () &#x3D;&gt; props.modelValue || &#39;&#39;,</span><br><span class="line">        set: val &#x3D;&gt; &#123;</span><br><span class="line">          context.emit(&#39;update:modelValue&#39;, val) &#x2F;&#x2F; 当inputRef.value.val变化时触发</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    return &#123;</span><br><span class="line">      inputRef</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="Provide-Inject"><a href="#Provide-Inject" class="headerlink" title="Provide / Inject"></a>Provide / Inject</h3><blockquote>
<p><a href="https://v3.cn.vuejs.org/guide/component-provide-inject.html" target="_blank" rel="noopener"> Provide / Inject</a></p>
<p>将父组件的参数直接传递到孙子组件</p>
<ul>
<li>传递data中的属性时，需要以返回对象的方式传递</li>
<li>响应式的处理方式</li>
</ul>
</blockquote>
<h3 id="directive"><a href="#directive" class="headerlink" title="directive"></a>directive</h3><blockquote>
<p><a href="https://v3.cn.vuejs.org/guide/custom-directive.html" target="_blank" rel="noopener">自定义指令</a></p>
</blockquote>
<h3 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h3><blockquote>
<p><a href="https://v3.cn.vuejs.org/guide/plugins.html" target="_blank" rel="noopener">插件</a></p>
<p>源码：plugin  (数据校验案例)</p>
</blockquote>
<h3 id="defineComponent"><a href="#defineComponent" class="headerlink" title="defineComponent"></a>defineComponent</h3><blockquote>
<p>可以使得包裹的对象有类型提示， 例如打set 就会自动提示setup</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compontent = defineComponent(&#123;</span><br><span class="line">    name: <span class="string">''</span>,</span><br><span class="line">    props:&#123;</span><br><span class="line">        msg:&#123;</span><br><span class="line">            required: <span class="literal">true</span>, <span class="comment">//要求一定是string类型</span></span><br><span class="line">            type: <span class="built_in">String</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="setup参数"><a href="#setup参数" class="headerlink" title="setup参数"></a>setup参数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compontent = defineComponent(&#123;</span><br><span class="line">    name: <span class="string">''</span>,</span><br><span class="line">    props:&#123;</span><br><span class="line">        msg:&#123;</span><br><span class="line">            required: <span class="literal">true</span>, <span class="comment">//要求一定是string类型</span></span><br><span class="line">            type: <span class="built_in">String</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    setup(props, context)&#123;</span><br><span class="line">    	<span class="comment">//props拿到的就是上面的props，props.m 就是自动提示propsmsg</span></span><br><span class="line">    	context.attrs</span><br><span class="line">    	context.slots</span><br><span class="line">    	context.emit</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Teleport"><a href="#Teleport" class="headerlink" title="Teleport"></a>Teleport</h3><blockquote>
<p>传送门，即将一些弹窗组件挂载在别的地方，而不是嵌在当前组件中，这样弹窗组件样式和当前组件样式就不会相互影响</p>
</blockquote>
<h5 id="手动挂载"><a href="#手动挂载" class="headerlink" title="手动挂载"></a>手动挂载</h5><p>定义弹窗组件</p>
<ul>
<li>通过标签<code>&lt;teleport&gt;</code>表明当前组件是传送门组件 通过<code>to</code>指明要挂载的位置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;teleport to&#x3D;&quot;#modal&quot;&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;center&quot; v-if&#x3D;&quot;isOpen&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&lt;slot&gt;this is a modal&lt;&#x2F;slot&gt;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;buttonClick&quot;&gt;Close&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;teleport&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent &#125; from &#39;vue&#39;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    isOpen: Boolean,</span><br><span class="line">  &#125;,</span><br><span class="line">  emits: &#123;</span><br><span class="line">    &#39;close-modal&#39;: null</span><br><span class="line">  &#125;,</span><br><span class="line">  setup(props, context) &#123;</span><br><span class="line">    const buttonClick &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">      context.emit(&#39;close-modal&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">      buttonClick</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">  #center &#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    border: 2px solid black;</span><br><span class="line">    background: white;</span><br><span class="line">    position: fixed;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    margin-left: -100px;</span><br><span class="line">    margin-top: -100px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>挂载弹窗组件</p>
<ul>
<li>挂载位置：根目录/public/index.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"&lt;%= BASE_URL %&gt;favicon.ico"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">htmlWebpackPlugin.options.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>We're sorry but <span class="tag">&lt;<span class="name">%=</span> <span class="attr">htmlWebpackPlugin.options.title</span> %&gt;</span> doesn't work properly without JavaScript enabled. Please enable it to continue.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"modal"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>    <span class="comment">&lt;!-- 挂载弹窗组件 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>使用弹窗组件</p>
<ul>
<li>直接在需要的位置使用即可, 需要引入组件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const modalIsOpen &#x3D; ref(false)</span><br><span class="line">const openModal &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  modalIsOpen.value &#x3D; true</span><br><span class="line">&#125;</span><br><span class="line">const onModalClose &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  modalIsOpen.value &#x3D; false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;button @click&#x3D;&quot;openModal&quot;&gt;Open Modal&lt;&#x2F;button&gt;&lt;br&#x2F;&gt;</span><br><span class="line">&lt;modal :isOpen&#x3D;&quot;modalIsOpen&quot; @close-modal&#x3D;&quot;onModalClose&quot;&gt; My Modal !!!!&lt;&#x2F;modal&gt;</span><br></pre></td></tr></table></figure>

<h5 id="自动挂载"><a href="#自动挂载" class="headerlink" title="自动挂载"></a>自动挂载</h5><blockquote>
<p>应用场景：开发者在使用弹窗组件时，还需要去根目录/public/index.html手动挂载，这会非常麻烦，所以需要自动挂载，即使用组件时，组件自动去挂载</p>
</blockquote>
<ul>
<li>setup()生命周期是先于页面初始化的，所以可以在setup()直接拿到<code>document.body</code>并在其中添加挂载的节点，这样就完成了自动挂载</li>
<li>注意：组件销毁前要移除挂载的这个节点，因为组件可能多次使用，只添加不移除就会导致document.body中有冗余的挂载节点</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;teleport to&#x3D;&quot;#loader&quot;&gt;  &#x2F;&#x2F;挂载节点的id</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    组件内容</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;teleport&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent, onUnmounted &#125; from &#39;vue&#39;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  setup () &#123;</span><br><span class="line">    const node &#x3D; document.createElement(&#39;div&#39;)  &#x2F;&#x2F;新建节点 即组件要挂载的节点</span><br><span class="line">    node.id &#x3D; &#39;loader&#39;  &#x2F;&#x2F;将新建节点的id设置为相应值</span><br><span class="line">    document.body.appendChild(node)  &#x2F;&#x2F;将新节点添加到 document.body中</span><br><span class="line">    onUnmounted(() &#x3D;&gt; &#123;</span><br><span class="line">      document.body.removeChild(node) &#x2F;&#x2F;组件销毁前要移除挂载的这个节点</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="Suspense"><a href="#Suspense" class="headerlink" title="Suspense"></a>Suspense</h3><blockquote>
<p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p>
</blockquote>
<p><strong>定义异步组件</strong></p>
<ul>
<li>在 setup 返回一个 Promise</li>
<li>这个promise包裹的对象<strong>自动具有响应式</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;AsyncShow.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;img :src&#x3D;&quot;result &amp;&amp; result.message&quot;&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">import &#123; defineComponent &#125; from &#39;vue&#39;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  async setup() &#123;</span><br><span class="line">    const rawData &#x3D; await axios.get(&#39;https:&#x2F;&#x2F;dog.ceo&#x2F;api&#x2F;breeds&#x2F;image&#39;)</span><br><span class="line">    return &#123;</span><br><span class="line">      result: rawData.data</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>使用异步组件</strong></p>
<ul>
<li><code>#default</code> : 展示异步组件，可以展示多个异步组件，且当多个异步组件都加载完成后才一起显示</li>
<li><code>#fallback</code>: 在异步组件还没加载完成时展示的内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Suspense&gt;</span><br><span class="line">  &lt;template #default&gt;</span><br><span class="line">    &lt;async-show &#x2F;&gt;</span><br><span class="line">    &lt;dog-show &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line">  &lt;template #fallback&gt;</span><br><span class="line">    &lt;h1&gt;Loading !...&lt;&#x2F;h1&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line">&lt;&#x2F;Suspense&gt;</span><br></pre></td></tr></table></figure>

<p><strong>捕获异步组件的错误</strong></p>
<ul>
<li>通过<code>onErrorCaptured</code>捕获错误</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;error&#125;&#125;&lt;&#x2F;p&gt; &#x2F;&#x2F; 将捕获的错误展示在页面上</span><br><span class="line">    &lt;Suspense&gt;</span><br><span class="line">      &lt;template #default&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;async-show &#x2F;&gt;</span><br><span class="line">          &lt;dog-show &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">      &lt;template #fallback&gt;</span><br><span class="line">        &lt;h1&gt;Loading !...&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;Suspense&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ref, onErrorCaptured &#125; from &#39;vue&#39;</span><br><span class="line">import AsyncShow from &#39;.&#x2F;components&#x2F;AsyncShow.vue&#39;</span><br><span class="line">import DogShow from &#39;.&#x2F;components&#x2F;DogShow.vue&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    AsyncShow,</span><br><span class="line">    DogShow,</span><br><span class="line">  &#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const error &#x3D; ref(null)</span><br><span class="line">    onErrorCaptured((e: any) &#x3D;&gt; &#123;</span><br><span class="line">      error.value &#x3D; e</span><br><span class="line">      return true  &#x2F;&#x2F;错误是否向上传递</span><br><span class="line">    &#125;)</span><br><span class="line">    return &#123;</span><br><span class="line">      error</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="PropType"><a href="#PropType" class="headerlink" title="PropType"></a>PropType</h3><blockquote>
<p>构造函数断言成一个类型</p>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//这里特别有一点，我们现在的 Array 是没有类型的，只是一个数组，我们希望它是一个 ColomnProps 的数组，那么我们是否可以使用了类型断言直接写成 ColomnProps[]，显然是不行的 ，因为 Array 是一个数组的构造函数不是类型，我们可以使用 PropType 这个方法，它接受一个泛型，将 Array 构造函数返回传入的泛型类型。</span></span><br><span class="line"><span class="keyword">type</span>: <span class="built_in">Array</span> <span class="keyword">as</span> PropType&lt;ColumnProps[]&gt;,</span><br></pre></td></tr></table></figure>



<h2 id="父子间通信"><a href="#父子间通信" class="headerlink" title="父子间通信"></a>父子间通信</h2><h3 id="子级向父级传递"><a href="#子级向父级传递" class="headerlink" title="子级向父级传递"></a>子级向父级传递</h3><blockquote>
<p><a href="https://v3.cn.vuejs.org/guide/migration/emits-option.html#%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener">emits</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent&#125; from &#39;vue&#39;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  emits: [&#39;file-uploaded&#39;, &#39;file-uploaded-error&#39;], &#x2F;&#x2F;组件内定义的向外部发送信息的事件名</span><br><span class="line">  setup (props, context) &#123;</span><br><span class="line">      context.emit(&#39;file-uploaded&#39;)&#x2F;&#x2F; 向外部发送事件，不传递参数</span><br><span class="line">      context.emit(&#39;file-uploaded-error&#39;, res)&#x2F;&#x2F; 向外部发送事件，传递参数res</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="事件总线"><a href="#事件总线" class="headerlink" title="事件总线"></a>事件总线</h3><blockquote>
<p><a href="https://www.cnblogs.com/lshifu/p/16559944.html" target="_blank" rel="noopener">mitt</a></p>
</blockquote>
<ul>
<li>vue3取消了vue2中自带的事件总线$bus</li>
<li>vue3中通过第三方库mitt实现事件总线</li>
</ul>
<h3 id="VueX实现"><a href="#VueX实现" class="headerlink" title="VueX实现"></a>VueX实现</h3><h2 id="Vue3中的动画"><a href="#Vue3中的动画" class="headerlink" title="Vue3中的动画"></a>Vue3中的动画</h2><blockquote>
<p><a href="https://animate.style/" target="_blank" rel="noopener">Animate.css</a></p>
</blockquote>
<h2 id="新脚手架"><a href="#新脚手架" class="headerlink" title="新脚手架"></a>新脚手架</h2><ul>
<li>卸载老版本的脚手架</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall vue-cli -g</span><br></pre></td></tr></table></figure>

<ul>
<li>安装新的脚手架</li>
</ul>
<ol>
<li><p>(仅第一次执行)∶全局安装@vue/cli<br><code>npm install -g @vue/cli</code></p>
<p><code>npm install -g @vue/cli@版本号</code></p>
</li>
<li><p><em>切换到要创建项目的目录</em>，然后使用命令创建项目, 执行后会弹出选择安装vue2.x或vue3，自行选择；创建好的项目就已经接受git托管了</p>
<p><code>vue create 项目名称</code></p>
</li>
<li><p>启动项目<br><code>npm run serve</code></p>
</li>
</ol>
<h1 id="五、vue-router"><a href="#五、vue-router" class="headerlink" title="五、vue-router"></a>五、vue-router</h1><blockquote>
<p><a href="https://next.router.vuejs.org/zh/" target="_blank" rel="noopener">Vue-Router官方文档</a></p>
</blockquote>
<h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1 安装"></a>1 安装</h2><p><strong>脚手架创建项目时就安装vue-router</strong></p>
<ol>
<li><code>vue create 项目名称</code></li>
<li>选择<code>Manually select features</code>自定义安装的插件</li>
<li><strong>空格选择<code>Router</code></strong></li>
</ol>
<img src="/2020/06/10/Vue/Vuejs/image-20210815162248328.png" alt="image-20210815162248328" style="zoom:80%;">

<ol start="4">
<li>选择vue3:<code>3.x</code></li>
<li>是否选择history模式路由，不选择，则默认选择为hash模式路由</li>
</ol>
<p><img src="/2020/06/10/Vue/Vuejs/image-20210815162457644.png" alt="image-20210815162457644"></p>
<ol start="6">
<li>选择仅错误时提醒ESlint</li>
</ol>
<p><img src="/2020/06/10/Vue/Vuejs/image-20210815162645470.png" alt="image-20210815162645470"></p>
<p><strong>使用过程中安装</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@版本号</span><br></pre></td></tr></table></figure>

<h2 id="2-使用路由"><a href="#2-使用路由" class="headerlink" title="2 使用路由"></a>2 使用路由</h2><h3 id="2-1-配置控制跳转"><a href="#2-1-配置控制跳转" class="headerlink" title="2.1 配置控制跳转"></a>2.1 配置控制跳转</h3><ul>
<li>main.js中引入router</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span>  <span class="comment">//注意是从下面的/router/index.js中引入</span></span><br><span class="line"></span><br><span class="line">createApp(App).use(store).use(router).mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>/router/index.js</code>设置路由</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'Home'</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "home" */</span> <span class="string">'../views/home/Home'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHashHistory(),</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<ul>
<li>app.js中使用路由</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;router-view&#x2F;&gt;    &#x2F;&#x2F;自动根据路由地址显示相应的组件</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-js控制跳转"><a href="#2-2-js控制跳转" class="headerlink" title="2.2 js控制跳转"></a>2.2 js控制跳转</h3><p><strong>跳转到指定页面</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;wrapper__login-button&quot;  @click&#x3D;&quot;handleLogin&quot;&gt;登录&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; useRouter &#125; from &#39;vue-router&#39;   &#x2F;&#x2F;引入</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Login&#39;,</span><br><span class="line">  setup () &#123;</span><br><span class="line">    const router &#x3D; useRouter()           &#x2F;&#x2F;实例化</span><br><span class="line">    const handleLogin &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">      router.push(&#123; name: &#39;Home&#39; &#125;)      &#x2F;&#x2F;设置要跳转的页面， Home是路由名</span><br><span class="line">      &#x2F;&#x2F;router.push(&#39;&#x2F;home&#39;) </span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; handleLogin &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>返回上一个页面</strong></p>
<ul>
<li><code>router.back()</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">const</span> useBackEffect = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> router = useRouter()</span><br><span class="line">  <span class="keyword">const</span> handleBack = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    router.back()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123; handleBack &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-标签控制跳转"><a href="#2-3-标签控制跳转" class="headerlink" title="2.3 标签控制跳转"></a>2.3 标签控制跳转</h3><ul>
<li><code>&lt;to=&quot;/shop&quot;&gt; &lt;/router-link&gt;</code></li>
<li>去掉a标签的下划线</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 路由跳转不带参数的情况</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;nearby&quot;&gt;</span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;shop&quot;&gt;   &#x2F;&#x2F; &lt;router-link :to&#x3D;&quot;&#123;name: &#39;shop&#39;&#125;&quot;&gt;   ||  &lt;router-link :to&#x3D;&quot;&#123;path: &#39;&#x2F;shop&#39;&#125;&quot;&gt; </span><br><span class="line">      &lt;ShopInfo &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">.nearby&#123;</span><br><span class="line">  a&#123;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-路由参数"><a href="#2-4-路由参数" class="headerlink" title="2.4 路由参数"></a>2.4 路由参数</h3><h4 id="2-4-1-传递参数"><a href="#2-4-1-传递参数" class="headerlink" title="2.4.1 传递参数"></a>2.4.1 传递参数</h4><p><strong>配置</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/shop/:id'</span>,  <span class="comment">//参数名为：id</span></span><br><span class="line">    name: <span class="string">'Shop'</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "shop" */</span> <span class="string">'../views/shop/Shop'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>js跳转带参</strong></p>
<ul>
<li>使用<code>router.push</code>方法，并用<code>${}</code>添加参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;nearby&quot;&gt;</span><br><span class="line">    &lt;ShopInfo v-for&#x3D;&quot;item in nearbyList&quot; :key&#x3D;&quot;item._id&quot; :item&#x3D;&quot;item&quot; @click&#x3D;&quot;handleToShop(item._id)&quot;&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; useRouter &#125; from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 跳转到shop页面</span><br><span class="line">const useToShopEffect &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const router &#x3D; useRouter()</span><br><span class="line">  const handleToShop &#x3D; (id) &#x3D;&gt; &#123;</span><br><span class="line">    router.push(&#96;&#x2F;shop&#x2F;$&#123;id&#125;&#96;)</span><br><span class="line">  &#125;</span><br><span class="line">  return &#123; handleToShop &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Nearby&#39;,</span><br><span class="line">  components: &#123; ShopInfo &#125;,</span><br><span class="line">  setup () &#123;</span><br><span class="line">    return &#123; nearbyList, handleToShop &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>标签跳转带参</strong></p>
<ul>
<li>通过<code>:to=&quot; &quot;</code>指定路径，并用<code>${}</code>添加参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 路由跳转不带参数的情况</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;nearby&quot;&gt;</span><br><span class="line">    &lt;router-link v-for&#x3D;&quot;item in nearbyList&quot; :key&#x3D;&quot;item._id&quot; :to&#x3D;&quot;&#96;&#x2F;shop&#x2F;$&#123;item._id&#125;&#96;&quot;&gt;</span><br><span class="line">      &lt;ShopInfo :item&#x3D;&quot;item&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">.nearby&#123;</span><br><span class="line">  a&#123;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-2-获取参数"><a href="#2-4-2-获取参数" class="headerlink" title="2.4.2 获取参数"></a>2.4.2 获取参数</h4><ul>
<li>通过useRoute获取<strong>当前路由</strong>相关的信息，例如：<strong>params</strong>、<strong>path</strong>、<strong>query</strong>等<ul>
<li>通过<code>route.params</code>获取路由带的参数</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRoute &#125; <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取当前商铺数据</span></span><br><span class="line"><span class="keyword">const</span> useShopInfoEffect = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> route = useRoute()</span><br><span class="line">  <span class="built_in">console</span>.log(route.params.id)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-路由守卫"><a href="#3-路由守卫" class="headerlink" title="3 路由守卫"></a>3 路由守卫</h2><h4 id="全局守卫"><a href="#全局守卫" class="headerlink" title="全局守卫"></a>全局守卫</h4><blockquote>
<ul>
<li>任何路由每次跳转之前调用</li>
<li>使用场景：只有登录后才能正常跳转，如果没有登录，则会默认跳转到登录页面</li>
</ul>
</blockquote>
<ul>
<li><code>/router/index.js</code>中使用<code>router.beforeEach</code>设置全局路由守卫<ul>
<li>to : 路由跳转的目标路由</li>
<li>from ： 路由跳转的原始路由</li>
<li>next :  调用则表示允许跳转<ul>
<li>接收跳转到的路由的组件名，则干预跳转的页面</li>
<li>next(), 不传参数则表示不做干预，保持原来的跳转</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span> ,next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; isLogin &#125; = localStorage;  <span class="comment">//用本地存储记录是否登录了</span></span><br><span class="line">  <span class="keyword">const</span> &#123; name &#125; = to;</span><br><span class="line">  <span class="keyword">const</span> isLoginOrRegister = (name === <span class="string">"Login"</span> || name === <span class="string">"Register"</span>);</span><br><span class="line">  <span class="comment">//如果登录了，或者路由是Login或者Register则跳转到相应页面不做干预，否则跳转到Login页面</span></span><br><span class="line">  (isLogin || isLoginOrRegister) ? next() : next(&#123; <span class="attr">name</span>: <span class="string">'Login'</span>&#125;);  <span class="comment">//接受将要跳转到的路由页面的组件名：Login</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="单独守卫"><a href="#单独守卫" class="headerlink" title="单独守卫"></a>单独守卫</h4><blockquote>
<ul>
<li>跳转到当前路由之前调用</li>
<li>使用场景： 已经登录了，地址为登录页时，不应该显示登录页，而是自动跳转到首页</li>
</ul>
</blockquote>
<ul>
<li><code>/router/index.js</code>中的<code>routes</code>模块中使用<code>router.beforeEach</code>设置单独路由守卫</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'Home'</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/login'</span>,</span><br><span class="line">    name: <span class="string">'Login'</span>,</span><br><span class="line">    component: Login,</span><br><span class="line">    beforeEnter (to, <span class="keyword">from</span>, next) &#123;  <span class="comment">//当路由跳转到login页面时调用</span></span><br><span class="line">      <span class="keyword">const</span> isLogin = localStorage.isLogin  <span class="comment">//是否登录</span></span><br><span class="line">      <span class="keyword">if</span> (isLogin) &#123;</span><br><span class="line">        next(&#123; <span class="attr">name</span>: <span class="string">'Home'</span> &#125;)  <span class="comment">//如果登录了则跳转到Home界面</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        next()  <span class="comment">//如果没有登录则正常跳转，即跳转到Login页面</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//上面的部分可以简化为下面的两行代码</span></span><br><span class="line">      <span class="comment">//const &#123; isLogin &#125; = localStorage</span></span><br><span class="line">      <span class="comment">//isLogin ? next(&#123; name: 'Home' &#125;) : next()</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h4 id="元信息"><a href="#元信息" class="headerlink" title="元信息"></a>元信息</h4><blockquote>
<p><a href="https://router.vuejs.org/zh/guide/advanced/meta.html" target="_blank" rel="noopener">官网</a></p>
<p>使用场景仍然是权限控制</p>
</blockquote>
<ul>
<li>其实元信息可以理解为标识需要同权限（要求）的路由，便于路由判断</li>
<li>注意：’./router/index.ts’中使用store直接导入</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正确方式</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'../store'</span> </span><br><span class="line"><span class="comment">//错误方式 g</span></span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">'Vuex'</span></span><br><span class="line"><span class="keyword">const</span> store = useStore()</span><br></pre></td></tr></table></figure>



<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'../store'</span>  </span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'Home'</span>,  <span class="comment">// 登录与否都可以访问</span></span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "home" */</span> <span class="string">'../views/Home.vue'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/login'</span>,</span><br><span class="line">    name: <span class="string">'Login'</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "home" */</span> <span class="string">'../views/Login.vue'</span>),</span><br><span class="line">    meta: &#123; redirectAlreadyLogin: <span class="literal">true</span> &#125; <span class="comment">// 元信息  必须非登录才可以访问 若已经登录则跳转到首页</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/column/:id'</span>,</span><br><span class="line">    name: <span class="string">'ColumnDetail'</span>, <span class="comment">// 登录与否都可以访问</span></span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "home" */</span> <span class="string">'../views/ColumnDetail.vue'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/create'</span>,</span><br><span class="line">    name: <span class="string">'CreatePost'</span>, </span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "home" */</span> <span class="string">'../views/CreatePost.vue'</span>),</span><br><span class="line">    meta: &#123; requiredLogin: <span class="literal">true</span> &#125; <span class="comment">// 元信息  必须登录才可以访问 若未登录则跳转到登录页</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHashHistory(),</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; isLogin &#125; = store.state.user</span><br><span class="line">  <span class="built_in">console</span>.log(isLogin)</span><br><span class="line">  <span class="keyword">if</span> (to.meta.requiredLogin &amp;&amp; !isLogin) &#123; <span class="comment">// 有需要登录的元信息且当前未登录 则跳转到登录页</span></span><br><span class="line">    next(&#123; name: <span class="string">'Login'</span> &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (to.meta.redirectAlreadyLogin &amp;&amp; isLogin) &#123; <span class="comment">// 有非登录的元信息且当前已经登录 则直接跳转到首页</span></span><br><span class="line">    next(<span class="string">'/'</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    next()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>



<h2 id="4-动态路由"><a href="#4-动态路由" class="headerlink" title="4 动态路由"></a>4 动态路由</h2><blockquote>
<p>又叫异步路由</p>
<p>在需要展示页面的时候才加载相关资源</p>
</blockquote>
<ul>
<li><code>/* webpackChunkName: &quot;about&quot; */</code>: about  用于调试显示</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../views/home/Home'</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'Home'</span>,</span><br><span class="line">    component: Home    <span class="comment">//普通路由</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/shop'</span>,</span><br><span class="line">    name: <span class="string">'Shop'</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "shop" */</span> <span class="string">'../views/shop/Shop'</span>)   <span class="comment">//动态路由</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h1 id="六、VueX"><a href="#六、VueX" class="headerlink" title="六、VueX"></a>六、VueX</h1><blockquote>
<p><a href="https://next.vuex.vuejs.org/zh/index.html" target="_blank" rel="noopener">Vuex官方文档</a></p>
</blockquote>
<h2 id="1安装"><a href="#1安装" class="headerlink" title="1安装"></a>1安装</h2><p><strong>终端命令安装</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure>



<p><strong>脚手架创建项目时就安装VueX</strong></p>
<ol>
<li><code>vue create 项目名称</code></li>
<li>选择<code>Manually select features</code>自定义安装的插件</li>
<li><strong>空格选择<code>Vuex</code></strong></li>
</ol>
<img src="/2020/06/10/Vue/Vuejs/image-20210815163117742.png" alt="image-20210815163117742" style="zoom:50%;">

<h2 id="2-使用"><a href="#2-使用" class="headerlink" title="2 使用"></a>2 使用</h2><h3 id="2-1-基本概念"><a href="#2-1-基本概念" class="headerlink" title="2.1 基本概念"></a>2.1 基本概念</h3><p><strong>main.js中注册使用</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"></span><br><span class="line">createApp(App).use(store).mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure>

<p><strong>store/index.js基础代码</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-2-数据支持ts"><a href="#2-2-数据支持ts" class="headerlink" title="2.2 数据支持ts"></a>2.2 数据支持ts</h3><ul>
<li>createStore支持泛型</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> &#123; testData, testPosts, ColumnProps, PostProps &#125; <span class="keyword">from</span> <span class="string">'../testData'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> UserProps &#123;</span><br><span class="line">  isLogin: <span class="built_in">boolean</span>;</span><br><span class="line">  name?: <span class="built_in">string</span>;</span><br><span class="line">  id?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> GlobalDataProps &#123; <span class="comment">// 泛型</span></span><br><span class="line">  columns: ColumnProps[];</span><br><span class="line">  posts: PostProps[];</span><br><span class="line">  user: UserProps;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore&lt;GlobalDataProps&gt;(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    columns: testData,</span><br><span class="line">    posts: testPosts,</span><br><span class="line">    user: &#123; isLogin: <span class="literal">false</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-3-使用store数据"><a href="#2-3-使用store数据" class="headerlink" title="2.3 使用store数据"></a>2.3 使用store数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent &#125; from &#39;vue&#39;</span><br><span class="line">import &#123; useStore &#125; from &#39;vuex&#39;</span><br><span class="line">import &#123; GlobalDataProps &#125; from &#39;..&#x2F;store&#39; &#x2F;&#x2F; GlobalDataProps数据类型</span><br><span class="line"></span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &#39;Home&#39;,</span><br><span class="line">  setup () &#123;</span><br><span class="line">    const store &#x3D; useStore&lt;GlobalDataProps&gt;() &#x2F;&#x2F;支持泛型</span><br><span class="line">    const list &#x3D; computed(() &#x3D;&gt; store.state.columns)  &#x2F;&#x2F; 用计算属性获取，才能实时获取变化的store数据</span><br><span class="line">    return &#123; list &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="2-4-mutations"><a href="#2-4-mutations" class="headerlink" title="2.4 mutations"></a>2.4 mutations</h3><blockquote>
<p>需要<strong>修改</strong>store中数据时 则需要在mutations中写方法进行修改，便于记录对store的每次修改</p>
<p><a href="https://vuex.vuejs.org/zh/guide/mutations.html#mutation-%E5%BF%85%E9%A1%BB%E6%98%AF%E5%90%8C%E6%AD%A5%E5%87%BD%E6%95%B0" target="_blank" rel="noopener">Mutation 必须是同步函数</a></p>
</blockquote>
<p><strong>定义修改store中数据的方法</strong></p>
<ul>
<li>第一个参数为state, 即store中的state </li>
<li>第二个参数开始自定义，也可以没有</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> UserProps &#123;</span><br><span class="line">  isLogin: <span class="built_in">boolean</span>;</span><br><span class="line">  name?: <span class="built_in">string</span>;</span><br><span class="line">  id?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> GlobalDataProps &#123;</span><br><span class="line">  user: UserProps;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore&lt;GlobalDataProps&gt;(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    user: &#123; isLogin: <span class="literal">false</span> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    login (state, user) &#123;</span><br><span class="line">      state.user.isLogin = <span class="literal">true</span></span><br><span class="line">      state.user.name = user.name</span><br><span class="line">      state.user.id = user.id</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>调用修改store数据的方法</strong></p>
<ul>
<li>使用<code>store.commit</code>调用mutations中的方法</li>
<li>第一个参数为要调用的mutations中的方法名</li>
<li>第二个参数为自定义的参数值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent, ref &#125; from &#39;vue&#39;</span><br><span class="line">import &#123; useRouter &#125; from &#39;vue-router&#39;</span><br><span class="line">import &#123; useStore &#125; from &#39;vuex&#39;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &#39;Login&#39;</span><br><span class="line">  setup () &#123;</span><br><span class="line">    const store &#x3D; useStore()</span><br><span class="line">    store.commit(&#39;login&#39;, &#123; name: &#39;chuckie&#39;, id: 1 &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-5-getters"><a href="#2-5-getters" class="headerlink" title="2.5 getters"></a>2.5 getters</h3><blockquote>
<p><a href="https://vuex.vuejs.org/zh/guide/getters.html" target="_blank" rel="noopener">官网教程</a></p>
<p>Getter使用场景：<strong>获取</strong>store中数据，且需要对store中的数据过滤时使用</p>
<p>类似computed，计算结果会缓存，只有当依赖值改变才会重新计算</p>
</blockquote>
<p><strong>定义</strong></p>
<ul>
<li>获取store数据不传参情况： 直接返回计算结果</li>
<li>获取store数据传参情况： 返回一个函数，函数接受参数并计算结果返回</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> &#123; testData, testPosts, ColumnProps, PostProps &#125; <span class="keyword">from</span> <span class="string">'../testData'</span></span><br><span class="line"><span class="keyword">export</span> interface UserProps &#123;</span><br><span class="line">  isLogin: boolean;</span><br><span class="line">  name?: string;</span><br><span class="line">  id?: string;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> interface GlobalDataProps &#123;</span><br><span class="line">  columns: ColumnProps[];</span><br><span class="line">  posts: PostProps[];</span><br><span class="line">  user: UserProps;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore&lt;GlobalDataProps&gt;(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    columns: testData,</span><br><span class="line">    posts: testPosts,</span><br><span class="line">    user: &#123; <span class="attr">isLogin</span>: <span class="literal">false</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  getters: &#123;</span><br><span class="line">    getColumnsLen (state) &#123;          <span class="comment">//获取store数据不传参情况</span></span><br><span class="line">      <span class="keyword">return</span> state.columns.length</span><br><span class="line">    &#125;,</span><br><span class="line">    getColumnById: <span class="function">(<span class="params">state</span>) =&gt;</span> <span class="function">(<span class="params">id: number</span>) =&gt;</span> &#123; <span class="comment">//获取store数据传参情况</span></span><br><span class="line">      <span class="keyword">return</span> state.columns.find(<span class="function"><span class="params">c</span> =&gt;</span> c.id === id)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>使用</strong></p>
<ul>
<li>通过<code>store.getters.方法</code>调用getters方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; computed, defineComponent, ref &#125; from &#39;vue&#39;</span><br><span class="line">import &#123; useStore &#125; from &#39;vuex&#39;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &#39;ColumnDetail&#39;,</span><br><span class="line">  setup () &#123;</span><br><span class="line">    const store &#x3D; useStore()</span><br><span class="line">    const currentId &#x3D; ref(0)</span><br><span class="line">    let columnLen &#x3D; ref(0)</span><br><span class="line">    columnLen &#x3D; store.getters.getColumnsLen  &#x2F;&#x2F;获取不传参属性</span><br><span class="line">    const column &#x3D; computed(() &#x3D;&gt; store.getters.getColumnById(currentId)) &#x2F;&#x2F;获取传参属性</span><br><span class="line">    return &#123;</span><br><span class="line">      columnLen,</span><br><span class="line">      column</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-6-actions"><a href="#2-6-actions" class="headerlink" title="2.6 actions"></a>2.6 actions</h3><blockquote>
<p>Action 类似于 mutation，不同在于：</p>
<ul>
<li>Action 提交的是 mutation，而不是直接变更状态</li>
<li>Action 可以包含任意异步操作</li>
</ul>
</blockquote>
<h5 id="单个action"><a href="#单个action" class="headerlink" title="单个action"></a>单个action</h5><p><strong>定义</strong></p>
<ul>
<li>actions中定义异步请求函数，函数中通过axios发送异步请求</li>
<li>异步请求成功后，在回调里调用mutations中的方法修改store中的数据</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ImageProps &#123;</span><br><span class="line">  _id?: <span class="built_in">string</span>;</span><br><span class="line">  url?: <span class="built_in">string</span>;</span><br><span class="line">  createdAt?: <span class="built_in">string</span>;</span><br><span class="line">  fitUrl?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ColumnProps&#123;</span><br><span class="line">  _id: <span class="built_in">string</span>,</span><br><span class="line">  title: <span class="built_in">string</span>,</span><br><span class="line">  avatar?: ImageProps,</span><br><span class="line">  description: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> PostProps &#123;</span><br><span class="line">  id: <span class="built_in">number</span>;</span><br><span class="line">  title: <span class="built_in">string</span>;</span><br><span class="line">  content: <span class="built_in">string</span>;</span><br><span class="line">  image?: <span class="built_in">string</span>;</span><br><span class="line">  createdAt: <span class="built_in">string</span>;</span><br><span class="line">  columnId: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> GlobalDataProps &#123;</span><br><span class="line">  columns: ColumnProps[];</span><br><span class="line">  posts: PostProps[];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore&lt;GlobalDataProps&gt;(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    columns: [],</span><br><span class="line">    posts: []</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123; </span><br><span class="line">    fetchColums (state, rawData) &#123;          <span class="comment">// 服务于actions修改store数据</span></span><br><span class="line">      state.columns = rawData.data.list</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    fetchColums (context) &#123;</span><br><span class="line">      axios.get(<span class="string">'/columns'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;      <span class="comment">// 异步请求</span></span><br><span class="line">        context.commit(<span class="string">'fetchColums'</span>, res.data)<span class="comment">// 调用mutations 修改store数据</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; computed, defineComponent, onMounted &#125; from &#39;vue&#39;</span><br><span class="line">import &#123; useStore &#125; from &#39;vuex&#39;</span><br><span class="line">import &#123; GlobalDataProps &#125; from &#39;..&#x2F;store&#39;</span><br><span class="line"></span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &#39;Home&#39;,</span><br><span class="line">  setup () &#123;</span><br><span class="line">    const store &#x3D; useStore&lt;GlobalDataProps&gt;()</span><br><span class="line">    onMounted(() &#x3D;&gt; &#123;</span><br><span class="line">      store.dispatch(&#39;fetchColums&#39;)    &#x2F;&#x2F;  调用actions中方法发送异步请求</span><br><span class="line">    &#125;)</span><br><span class="line">    const list &#x3D; computed(() &#x3D;&gt; store.state.columns)</span><br><span class="line">    return &#123; list &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="组合action"><a href="#组合action" class="headerlink" title="组合action"></a><strong>组合action</strong></h5><p><strong>定义</strong></p>
<blockquote>
<p>案例说明：</p>
<ul>
<li><p>先登录，再获取用户信息</p>
</li>
<li><p>将这两个操作可以合并到一个action中</p>
</li>
</ul>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> &#123; instance, <span class="keyword">get</span>, post &#125; <span class="keyword">from</span> <span class="string">'../utils/resques'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> UserProps &#123;</span><br><span class="line">  isLogin: <span class="built_in">boolean</span>;</span><br><span class="line">  _id?: <span class="built_in">string</span>;</span><br><span class="line">  email?: <span class="built_in">string</span>;</span><br><span class="line">  nickName: <span class="built_in">string</span>;</span><br><span class="line">  column?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> GlobalDataProps &#123;</span><br><span class="line">  token: <span class="built_in">string</span>;</span><br><span class="line">  user: UserProps;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore&lt;GlobalDataProps&gt;(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    token: <span class="string">''</span>,</span><br><span class="line">    user: &#123; isLogin: <span class="literal">false</span>, column: <span class="number">1</span>, nickName: <span class="string">'chuckie!!!'</span> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    login (state, rawData) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'login'</span>, rawData)</span><br><span class="line">      <span class="keyword">const</span> &#123; token &#125; = rawData.data</span><br><span class="line">      state.token = token</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'login'</span>, token)</span><br><span class="line">      instance.defaults.headers.common.Authorization = token</span><br><span class="line">    &#125;,</span><br><span class="line">    fetchCurrentUser (state, rawData) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'fetchCurrentUser'</span>, rawData)</span><br><span class="line">      state.user = &#123; isLogin: <span class="literal">true</span>, ...rawData.data &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="comment">// 登录action</span></span><br><span class="line">    <span class="keyword">async</span> login (context, payload) &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="keyword">await</span> post(<span class="string">'user/login'</span>, payload)</span><br><span class="line">      context.commit(<span class="string">'login'</span>, data)</span><br><span class="line">      <span class="keyword">return</span> data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 获取用户信息action</span></span><br><span class="line">    <span class="keyword">async</span> fetchCurrentUser (context) &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="keyword">get</span>(<span class="string">'user/current'</span>)</span><br><span class="line">      context.commit(<span class="string">'fetchCurrentUser'</span>, data)</span><br><span class="line">      <span class="keyword">return</span> data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 将以上两个action合并到组合action中提供给用户  用户调用loginAndFetch就会先调用login再调用fetchCurrentUser</span></span><br><span class="line">    loginAndFetch (&#123; dispatch &#125;, loginData) &#123;</span><br><span class="line">      <span class="keyword">return</span> dispatch(<span class="string">'login'</span>, loginData).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dispatch(<span class="string">'fetchCurrentUser'</span>)  <span class="comment">// 只返回了fetchCurrentUser的结果， login的结果在res中没有处理</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>使用</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// payload是传递给login的参数 即上面接受的loginData</span></span><br><span class="line">store.dispatch(<span class="string">'loginAndFetch'</span>, payload).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res) <span class="comment">// 打印的是fetchCurrentUser请求的结果</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="3-数据持久化"><a href="#3-数据持久化" class="headerlink" title="3 数据持久化"></a>3 数据持久化</h2><blockquote>
<p>将VueX的数据通过本地缓存持久化</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将VueX数据存储到缓存中  每次修改VueX中数据后调用该方法</span></span><br><span class="line"><span class="keyword">const</span> setLocalCartList = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; cartList &#125; = state</span><br><span class="line">  <span class="keyword">const</span> cartListString = <span class="built_in">JSON</span>.stringify(cartList) <span class="comment">// 将对象转换为字符串， 因为本地缓存不能存储对象</span></span><br><span class="line">  localStorage.cartList = cartListString</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从本地缓存拿取数据初始化VueX</span></span><br><span class="line"><span class="keyword">const</span> getLocalCartList = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(localStorage.cartList)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    cartList: getLocalCartList()  <span class="comment">// 从本地缓存中拿取数据</span></span><br><span class="line">    <span class="comment">// cartList: &#123;</span></span><br><span class="line">    <span class="comment">//   shopId:&#123;</span></span><br><span class="line">    <span class="comment">//     shopName: '沃尔玛',</span></span><br><span class="line">    <span class="comment">//     productList:&#123;</span></span><br><span class="line">    <span class="comment">//       productId:&#123;</span></span><br><span class="line">    <span class="comment">//         _id: '1',</span></span><br><span class="line">    <span class="comment">//         name:'番茄250g/份',</span></span><br><span class="line">    <span class="comment">//         imgUrl: 'http: / / www.dell-lee.com/ imgs/vue3/tomato.png',</span></span><br><span class="line">    <span class="comment">//         sales: 10,</span></span><br><span class="line">    <span class="comment">//         price: 33.6,</span></span><br><span class="line">    <span class="comment">//         oldPrice: 39.6,</span></span><br><span class="line">    <span class="comment">//         count: 2,  //加入购物车商品数量</span></span><br><span class="line">    <span class="comment">//         check: false, // 购物车选中状态</span></span><br><span class="line">    <span class="comment">//       &#125;</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">//   &#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="comment">// 初始化商品名字</span></span><br><span class="line">    changeShopName (state, payload) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; shopId, shopName &#125; = payload</span><br><span class="line">      <span class="keyword">const</span> shopInfo = state.cartList[shopId] || &#123;</span><br><span class="line">        shopName: <span class="string">''</span>,</span><br><span class="line">        productList: &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">      shopInfo.shopName = shopName</span><br><span class="line">      state.cartList[shopId] = shopInfo</span><br><span class="line">      setLocalCartList(state)   <span class="comment">//  数据修改后要更新本地缓存</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h1 id="七、插件"><a href="#七、插件" class="headerlink" title="七、插件"></a>七、插件</h1><h3 id="normalize-css"><a href="#normalize-css" class="headerlink" title="normalize.css"></a>normalize.css</h3><blockquote>
<p>移动端不同浏览器的标签样式不一样</p>
<p>normalize.css用于使得不同浏览器上标签样式一直  </p>
<p>类似css适配中用到的reset css</p>
</blockquote>
<ul>
<li>安装</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install normalize.css --save</span><br></pre></td></tr></table></figure>

<ul>
<li>使用:  在main.js中引入即可</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'normalize.css'</span></span><br></pre></td></tr></table></figure>



<h1 id="八、开发常用操作"><a href="#八、开发常用操作" class="headerlink" title="八、开发常用操作"></a>八、开发常用操作</h1><h3 id="的方式写多个一样的标签"><a href="#的方式写多个一样的标签" class="headerlink" title="*的方式写多个一样的标签"></a><code>*</code>的方式写多个一样的标签</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span.item*4</span><br></pre></td></tr></table></figure>

<h3 id="vue中全局引入样式"><a href="#vue中全局引入样式" class="headerlink" title="vue中全局引入样式"></a>vue中全局引入样式</h3><ul>
<li>在根目录下新建<code>style</code>文件，文件夹下可以新建<code>css、lcss、scss</code>的文件</li>
<li>再在<code>style</code>下新建<code>index.css</code>将其它样式文件都引入到这个文件中，</li>
<li>再在<code>main.js</code>中引入<code>index.css</code>即可,  使得在<code>main.js</code>中只会引入一次，不用每个都引入，因为所有要引入的样式文件都在<code>index.css</code>中引入了</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./style/index.css'</span></span><br></pre></td></tr></table></figure>

<h3 id="vue中使用scss"><a href="#vue中使用scss" class="headerlink" title="vue中使用scss"></a>vue中使用scss</h3><blockquote>
<p><a href="https://www.sass.hk/" target="_blank" rel="noopener">scss官网</a></p>
</blockquote>
<ul>
<li>在创建项目时，选择安装css预处理： <code>CSS Pre-processors</code></li>
<li>在引入文件时同css只是文件名后缀为<code>.scss</code></li>
<li>style部分添加<code>lang=&quot;scss&quot;</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang&#x3D;&quot;scss&quot;&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="vue中scoped"><a href="#vue中scoped" class="headerlink" title="vue中scoped"></a>vue中scoped</h3><ul>
<li>scoped 表示当前样式只对当前组件有效</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="vue中引入本地资源"><a href="#vue中引入本地资源" class="headerlink" title="vue中引入本地资源"></a>vue中引入本地资源</h3><ul>
<li>通过 require(‘@/assets/….’)</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">column.avatar = <span class="built_in">require</span>(<span class="string">'@/assets/column.jpg'</span>) <span class="comment">//引入根目录下/assets/column.jpg</span></span><br></pre></td></tr></table></figure>

<h3 id="vue中的-lt-pre-gt"><a href="#vue中的-lt-pre-gt" class="headerlink" title="vue中的&lt;pre&gt;"></a>vue中的<code>&lt;pre&gt;</code></h3><ul>
<li>用<code>&lt;pre&gt;</code>展示vue对象内容到页面</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;pre&gt;&#123;&#123;route&#125;&#125;&lt;&#x2F;pre&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent &#125; from &#39;vue&#39;</span><br><span class="line">import &#123; useRoute &#125; from &#39;vue-router&#39;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &#39;ColumnDetail&#39;,</span><br><span class="line">  setup () &#123;</span><br><span class="line">    const route &#x3D; useRoute()</span><br><span class="line">    return &#123;</span><br><span class="line">      route</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/06/10/Vue/Vuejs/image-20220606213853218.png" alt="image-20220606213853218"></p>
<h4 id="vue中开发环境获取"><a href="#vue中开发环境获取" class="headerlink" title="vue中开发环境获取"></a>vue中开发环境获取</h4><p>在main.ts中通过以下代码可获取当前是开发版本还是上线版本</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">process.env.NODE_ENV === <span class="string">'development'</span> 表示是开发b</span><br></pre></td></tr></table></figure>



<h3 id="vue中组件的函数化调用"><a href="#vue中组件的函数化调用" class="headerlink" title="vue中组件的函数化调用"></a>vue中组件的函数化调用</h3><ul>
<li>1 位置是 main.ts中挂载的app实例</li>
<li>2 位置是 组件函数化调用中创建的节点和挂载的vue实例(用组件创建)</li>
<li>3 位置是2中的组件的传送门创建的node节点</li>
</ul>
<p><img src="/2020/06/10/Vue/Vuejs/image-20220629211158281.png" alt="image-20220629211158281"></p>
<ul>
<li><a href="https://v3.cn.vuejs.org/api/application-api.html#component" target="_blank" rel="noopener">createApp</a>创建vue实例<ul>
<li>第一个参数是组件</li>
<li>第二个参数是传入组件的参数</li>
</ul>
</li>
<li>mount(): 挂载实例到node节点上  参数为node节点</li>
<li>unmount()：卸载实例</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Message <span class="keyword">from</span> <span class="string">'./Message.vue'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> MessageType = <span class="string">'success'</span> | <span class="string">'error'</span> | <span class="string">'default'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> createMessage = <span class="function">(<span class="params">message: <span class="built_in">string</span>, <span class="keyword">type</span>: MessageType, timeout = 2000</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// createApp创建vue实例，实例上挂载Message组件，message,type是传入组件的属性</span></span><br><span class="line">  <span class="keyword">const</span> messageInstance = createApp(Message, &#123;   </span><br><span class="line">    message,</span><br><span class="line">    <span class="keyword">type</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> mountNode = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)  <span class="comment">// 创建node节点</span></span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(mountNode)  <span class="comment">// 将node节点添加到body中</span></span><br><span class="line">  messageInstance.mount(mountNode)      <span class="comment">// 将创建的实例挂载到node节点上</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    messageInstance.unmount()     <span class="comment">// 卸载vue实例</span></span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(mountNode)  <span class="comment">// 移除node节点</span></span><br><span class="line">  &#125;, timeout)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createMessage</span><br></pre></td></tr></table></figure>

<h3 id="vue中支持markdown渲染"><a href="#vue中支持markdown渲染" class="headerlink" title="vue中支持markdown渲染"></a>vue中支持markdown渲染</h3><blockquote>
<p><a href="https://github.com/markdown-it/markdown-it" target="_blank" rel="noopener">markdown-it</a></p>
</blockquote>
<p><strong>安装markdown-it</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// js环境</span></span><br><span class="line">npm install markdown-it --save</span><br><span class="line"><span class="comment">// typescript环境</span></span><br><span class="line">npm i --save-dev @types/markdown-it</span><br></pre></td></tr></table></figure>

<p><strong>使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div v-html&#x3D;&quot;currentHTML&quot;&gt;&lt;&#x2F;div&gt;  &#x2F;&#x2F; v-htm语法直接渲染转换好的html</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">    import MarkdownIt from &#39;markdown-it&#39;  &#x2F;&#x2F; 引入</span><br><span class="line">    const md &#x3D; new MarkdownIt()  &#x2F;&#x2F; 实例化</span><br><span class="line">    const contetntest &#x3D; &#39;###  123, **hhhh**, kkkk, &#96;&#96;&#96;jdfjadjlf&#96;&#96;&#96;&#39;  &#x2F;&#x2F; 要转换的markdown文本</span><br><span class="line">    const content &#x3D; md.render(contetntest) &#x2F;&#x2F; render()方法将markdown文本转换成html文本</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>




    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/vue/" rel="tag"># vue</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/06/03/Javascript/Javascript-0x04-js%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%87%BD%E6%95%B0/" rel="prev" title="Javascript(0x04)-js自定义工具类函数">
      <i class="fa fa-chevron-left"></i> Javascript(0x04)-js自定义工具类函数
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/06/10/Vue/vue%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E8%85%BE%E8%AE%AF%E4%BA%91%E8%BD%BB%E9%87%8F%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="next" title="vue项目部署到腾讯云轻量应用服务器">
      vue项目部署到腾讯云轻量应用服务器 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#一、Vue基础"><span class="nav-text">一、Vue基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Vue安装及使用"><span class="nav-text">1 Vue安装及使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-直接使用-lt-script-gt-引入"><span class="nav-text">1.1 直接使用&lt;script&gt;引入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-npm及CLI安装"><span class="nav-text">1.2 npm及CLI安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-单页组件"><span class="nav-text">1.3 单页组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-初始化项目"><span class="nav-text">1.4 初始化项目</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Vue中的MVVM"><span class="nav-text">2 Vue中的MVVM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-传入Vue的options"><span class="nav-text">3 传入Vue的options</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Vue生命周期"><span class="nav-text">4 Vue生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-生命周期各时间节点易错点"><span class="nav-text">4.1 生命周期各时间节点易错点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-vue-config-js配置"><span class="nav-text">5 vue.config.js配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二、Vue基础语法"><span class="nav-text">二、Vue基础语法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-插值操作"><span class="nav-text">1 插值操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#mustache语法（双大括号）"><span class="nav-text">mustache语法（双大括号）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-once"><span class="nav-text">v-once</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-html"><span class="nav-text">v-html</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-text"><span class="nav-text">v-text</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-pre"><span class="nav-text">v-pre</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-cloak"><span class="nav-text">v-cloak</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-绑定属性"><span class="nav-text">2 绑定属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#v-bind"><span class="nav-text">v-bind</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-bind绑定class"><span class="nav-text">v-bind绑定class</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-bind绑定style"><span class="nav-text">v-bind绑定style</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-计算属性"><span class="nav-text">3 计算属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#computed"><span class="nav-text">computed</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#computed-VS-methods"><span class="nav-text">computed VS methods</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-watch"><span class="nav-text">4 watch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-事件监听"><span class="nav-text">5 事件监听</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#v-on"><span class="nav-text">v-on</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-on参数"><span class="nav-text">v-on参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-on-修饰符"><span class="nav-text">v-on 修饰符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM原生事件列表"><span class="nav-text">DOM原生事件列表</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-条件判断"><span class="nav-text">6 条件判断</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#v-if、v-else-if、v-else"><span class="nav-text">v-if、v-else-if、v-else</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-if-VS-v-show"><span class="nav-text">v-if VS  v-show</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-遍历循环"><span class="nav-text">7 遍历循环</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#v-for"><span class="nav-text">v-for</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#key"><span class="nav-text">:key</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-双向绑定"><span class="nav-text">8 双向绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#v-model"><span class="nav-text">v-model</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-model-radio"><span class="nav-text">v-model:radio</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-model-checkbox"><span class="nav-text">v-model:checkbox</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-model-select"><span class="nav-text">v-model:select</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v-model修饰符"><span class="nav-text">v-model修饰符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9本地存储"><span class="nav-text">9本地存储</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三、Vue组件化开发"><span class="nav-text">三、Vue组件化开发</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-组件化开发基础内容"><span class="nav-text">1 组件化开发基础内容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-注册组件"><span class="nav-text">1.1 注册组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-全局组件与局部组件"><span class="nav-text">1.2 全局组件与局部组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-父组件与子组件"><span class="nav-text">1.3 父组件与子组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-注册组件语法糖"><span class="nav-text">1.4 注册组件语法糖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-模板分离写法"><span class="nav-text">1.5 模板分离写法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-组件数据存储"><span class="nav-text">1.6 组件数据存储</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-父子间通信"><span class="nav-text">2 父子间通信</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-父级向子级传递"><span class="nav-text">2.1 父级向子级传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-子级向父级传递"><span class="nav-text">2.2 子级向父级传递</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-父子组件的直接访问"><span class="nav-text">3 父子组件的直接访问</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-父访问子"><span class="nav-text">3.1 父访问子</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-children"><span class="nav-text">3.1.1 $children</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-2-refs"><span class="nav-text">3.1.2 $refs</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-子访问父"><span class="nav-text">3.2 子访问父</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-1-parent"><span class="nav-text">3.2.1 $parent</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-root"><span class="nav-text">3.2.2 $root</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-非父子访问"><span class="nav-text">3.3 非父子访问</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-1-中央事件总线"><span class="nav-text">3.3.1 中央事件总线</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-插槽"><span class="nav-text">4 插槽</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#脚手架3中-配置文件别名"><span class="nav-text">脚手架3中 配置文件别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#混入"><span class="nav-text">混入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#getters方法-gt-组件计算属性"><span class="nav-text">getters方法-&gt;组件计算属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#actions方法-gt-组件方法"><span class="nav-text">actions方法-&gt;组件方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#零碎知识点"><span class="nav-text">零碎知识点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四、Vue3"><span class="nav-text">四、Vue3</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#不熟悉的特性"><span class="nav-text">不熟悉的特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Non-Props"><span class="nav-text">Non-Props</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#v-model-1"><span class="nav-text">v-model</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Provide-Inject"><span class="nav-text">Provide &#x2F; Inject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#directive"><span class="nav-text">directive</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#plugin"><span class="nav-text">plugin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#defineComponent"><span class="nav-text">defineComponent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#setup参数"><span class="nav-text">setup参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Teleport"><span class="nav-text">Teleport</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#手动挂载"><span class="nav-text">手动挂载</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#自动挂载"><span class="nav-text">自动挂载</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Suspense"><span class="nav-text">Suspense</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PropType"><span class="nav-text">PropType</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#父子间通信"><span class="nav-text">父子间通信</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#子级向父级传递"><span class="nav-text">子级向父级传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件总线"><span class="nav-text">事件总线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VueX实现"><span class="nav-text">VueX实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue3中的动画"><span class="nav-text">Vue3中的动画</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#新脚手架"><span class="nav-text">新脚手架</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#五、vue-router"><span class="nav-text">五、vue-router</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-安装"><span class="nav-text">1 安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-使用路由"><span class="nav-text">2 使用路由</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-配置控制跳转"><span class="nav-text">2.1 配置控制跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-js控制跳转"><span class="nav-text">2.2 js控制跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-标签控制跳转"><span class="nav-text">2.3 标签控制跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-路由参数"><span class="nav-text">2.4 路由参数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-1-传递参数"><span class="nav-text">2.4.1 传递参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-2-获取参数"><span class="nav-text">2.4.2 获取参数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-路由守卫"><span class="nav-text">3 路由守卫</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#全局守卫"><span class="nav-text">全局守卫</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#单独守卫"><span class="nav-text">单独守卫</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#元信息"><span class="nav-text">元信息</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-动态路由"><span class="nav-text">4 动态路由</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#六、VueX"><span class="nav-text">六、VueX</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1安装"><span class="nav-text">1安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-使用"><span class="nav-text">2 使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-基本概念"><span class="nav-text">2.1 基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-数据支持ts"><span class="nav-text">2.2 数据支持ts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-使用store数据"><span class="nav-text">2.3 使用store数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-mutations"><span class="nav-text">2.4 mutations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-getters"><span class="nav-text">2.5 getters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-6-actions"><span class="nav-text">2.6 actions</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#单个action"><span class="nav-text">单个action</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#组合action"><span class="nav-text">组合action</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-数据持久化"><span class="nav-text">3 数据持久化</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#七、插件"><span class="nav-text">七、插件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#normalize-css"><span class="nav-text">normalize.css</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#八、开发常用操作"><span class="nav-text">八、开发常用操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#的方式写多个一样的标签"><span class="nav-text">*的方式写多个一样的标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中全局引入样式"><span class="nav-text">vue中全局引入样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中使用scss"><span class="nav-text">vue中使用scss</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中scoped"><span class="nav-text">vue中scoped</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中引入本地资源"><span class="nav-text">vue中引入本地资源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中的-lt-pre-gt"><span class="nav-text">vue中的&lt;pre&gt;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#vue中开发环境获取"><span class="nav-text">vue中开发环境获取</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中组件的函数化调用"><span class="nav-text">vue中组件的函数化调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中支持markdown渲染"><span class="nav-text">vue中支持markdown渲染</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Chuckie"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Chuckie</p>
  <div class="site-description" itemprop="description">Bright future</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">116</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">57</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">100</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ChuckieWill" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ChuckieWill" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/codewyj.163.com" title="E-Mail → codewyj.163.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.jianshu.com/u/de627226656c" title="https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;de627226656c" rel="noopener" target="_blank">简书</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="/images/me.png"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chuckie</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.1m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">17:04</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
